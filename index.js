/*! For license information please see index.cb6279a7322ee9c0104d.js.LICENSE.txt */
(()=>{var e,t,n={4673:e=>{e.exports=[{key:"maxHp",display:e=>`生命值 +${Math.round(e)}`,generate:e=>(1*Math.random()+1)*e,range:e=>`${1*e}~${2*e}`,hooks:{maxHpAdd:(e,t)=>t+e}},{key:"hpRecovery",display:e=>"生命值恢复 +"+Math.round(100*e)/100,validPositions:["plastron","gaiter","ornament"],generate:e=>((.05*Math.random()+.025)*e+.1)*(1+.028113*e),range:e=>`${Math.round((.025*e+.1)*(1+.01*e)*100)/100}~${Math.round((.075*e+.1)*(1+.028113*e)*100)/100}`,hooks:{hpRecovery:(e,t)=>t+e}},{key:"mpRecovery",display:e=>"法力值恢复 +"+Math.round(100*e)/100,validClasses:["cloth","wand","ornament"],generate:e=>((.05*Math.random()+.025)*e+.1)*(1+.028113*e),range:e=>`${Math.round((.025*e+.1)*(1+.01*e)*100)/100}~${Math.round((.075*e+.1)*(1+.028113*e)*100)/100}`,hooks:{mpRecovery:(e,t)=>t+e}},{key:"atk_self",display:e=>`攻击力 +${Math.round(e)}`,validPositions:["weapon"],generate:e=>(.25*Math.random()+.25)*e,range:e=>`${Math.round(.25*e)}~${Math.round(.5*e)}`,hooks:{atk_self_Add:(e,t)=>t+e}},{key:"critR_level",display:e=>`暴击 +${Math.round(e)}`,generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{critRLAdd:(e,t)=>t+e}},{key:"critB_level",display:e=>`暴伤 +${Math.round(e)}`,generate:e=>(.75*Math.random()+1.5)*e,range:e=>`${Math.round(1.5*e)}~${Math.round(2.25*e)}`,hooks:{critBLAdd:(e,t)=>t+e}},{key:"leech",display:e=>`生命汲取 +${Math.round(e)}`,validPositions:["weapon","ornament"],generate:e=>((.05*Math.random()+.025)*e+.1)*(1+.028113*e),range:e=>`${Math.round((.025*e+.1)*(1+.01*e)*100)/100}~${Math.round((.075*e+.1)*(1+.028113*e)*100)/100}`,hooks:{leech:(e,t)=>t+e}},{key:"def",display:e=>`物理防御 +${Math.round(e)}`,validPositions:["weapon","plastron","gaiter"],generate:e=>(2*Math.random()+1)*e,range:e=>`${Math.round(1*e)}~${Math.round(3*e)}`,hooks:{defselfAdd:(e,t)=>t+e}},{key:"str",display:e=>`力量 +${Math.round(e)}`,generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{str:(e,t)=>t+e}},{key:"dex",display:e=>`敏捷 +${Math.round(e)}`,generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{dex:(e,t)=>t+e}},{key:"int",display:e=>`智力 +${Math.round(e)}`,generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{int:(e,t)=>t+e}},{key:"sta",display:e=>`耐力 +${Math.round(e)}`,generate:e=>(.5*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1*e)}`,hooks:{sta:(e,t)=>t+e}}]},4786:(e,t,n)=>{e.exports=[...n(4673),...n(2880)]},2880:e=>{e.exports=[{key:"meleeAbsorb",display:e=>`物理吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["plastron","gaiter","ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{meleeAbsorb:(e,t)=>t+e}},{key:"fireAbsorb",display:e=>`火焰吸收 +${Math.round(1e3*e)/10}%`,minLevel:200,validPositions:["plastron","gaiter","ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{fireAbsorb:(e,t)=>t+e}},{key:"coldAbsorb",display:e=>`寒冷吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["plastron","gaiter","ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{coldAbsorb:(e,t)=>t+e}},{key:"lightningAbsorb",display:e=>`闪电吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["plastron","gaiter","ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{lightningAbsorb:(e,t)=>t+e}},{key:"lightAbsorb",display:e=>`光吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["plastron","gaiter","ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{lightAbsorb:(e,t)=>t+e}},{key:"darkAbsorb",display:e=>`暗吸收 +${Math.round(100*e)}%`,minLevel:200,validPositions:["plastron","gaiter","ornament"],generate:e=>Math.round((5e-4*Math.random()+5e-4)*e*1e3)/1e3,range:e=>`${Math.round(.05*e*100)/100}%~${Math.round(.1*e*100/100)}%`,hooks:{darkAbsorb:(e,t)=>t+e}},{key:"allResist",display:e=>`元素抗性 +${Math.round(e)}`,validPositions:["weapon","plastron","gaiter"],generate:e=>(1*Math.random()+1)*e,range:e=>`${Math.round(1*e)}~${Math.round(2*e)}`,hooks:{allResAdd:(e,t)=>t+e}},{key:"lucky",display:e=>"运气 +"+(0|e),generate:e=>(.5*Math.random()+.25)*e+1,range:e=>`${Math.round(.25*e+1)}~${Math.round(.75*e+1)}`,hooks:{mf:(e,t)=>t+e/100,gf:(e,t)=>t+e/100}},{key:"dmgLevel",display:e=>`物理伤害 +${Math.round(e)}`,minLevel:99999999,generate:e=>(1*Math.random()+.5)*e,range:e=>`${Math.round(.5*e)}~${Math.round(1.5*e)}`,hooks:{dmgLAdd:(e,t)=>t+e}}]},1484:e=>{e.exports={version:"2024.3.30",description:"永夜玩家交流QQ群：614658451，欢迎加入了解最新永夜资讯。\n请各路魔改版本/MOD作者保留上述群号，谢谢。\n\n保命声明：\n此魔改版本的作者为不务正业以及从未正经学过计算机的业余爱好者，烂尾、bug、瞎鸡儿改一切皆有可能，务必要有心理准备。\n根据老白大佬的指导意见，正式更名为“永夜之开局一把剑”。\n\n不定时更新传送门：链接：https://pan.baidu.com/s/1CfQ8PfMkgSZSrqEEwL0QsQ?pwd=1234\n\n2024.3.30\n1.钥石掉率×1.5，红包掉率×1.5。\n2.可怕的双前缀敌人遭到削弱，但是增加了增益前缀和减益前缀更两个。\n3.现在噩梦副本将掉落随机品质等级的装备了。\n4.添加了部分角色、职业的简介。\n\n2024.3.29\n1.现在可以正常掉落法杖类武器了，并且添加了一款特殊装备。\n2.现在可以体验“元素法师“职业了。\n3.现在角色如果不幸战败，将于20秒后在原地满状态归来。\n4.修复了旧bug，并更新了新的bug们。\n\n2024.3.27\n1.优化了一部分的技能描述。\n2.现在所有单位的物理防御和抗性属性最多只能减少75%的伤害，角色的吸收属性最多吸收75%的伤害。\n3.急速属性的上限调整为300%。\n4.“艾冯十世·普洛·麦克斯”大佬为大家定制了贼强贼强的隐藏职业，提示：庇护所773号的暗影法师奈布最近皮有点痒。\n5.这一波强化的是谁？是魔剑的“炎铠”。\n6.噩梦地图的敌人以及年兽再次遭到削弱。\n7.现在只有200品质以上的防具、首饰才可以重铸出吸收属性了。\n8.“报纸壳壳”一众七兄弟大大加强。\n9.年兽装备的款式增加了。\n\n2024.3.24\n1.现在可以支持负值的防御和抗性了，负值越大则受到的伤害越高；但因为受到了创世神艾尔的庇佑，你的防御和抗性最多减少到0。\n2.现在部分敌人将拥有负值的防御或者抗性，不过苟有所长（短）也必有所短（长），请尽量选择合适的属性伤害。\n3.减少了附魔、重铸的材料、神力消耗。\n4.感谢“云轩”大佬的指导，现在的背包更大了。\n\n2024.3.22\n1.噩梦、年兽的敌人全都惨遭削弱。\n\n2024.3.21\n1.幽暗的货仓、睡美人湖、噩梦巨人国度的敌人惨遭削弱。\n2.因为生存环境遭到破坏，你在副本（洞窟深处-森林深处）中遇到的敌人数量减少了很多。\n3.你被强化了，现在每1点耐力可以提供物理防御及所有抗性各1点，快上！\n4.“守护者”的被动技能“荆棘”效果调整。\n5.感谢“艾冯十世·普洛·麦克斯”大佬的支持，“无敌斩”正式更名为“吴迪斩”，并添加了防打断效果（但并不知道是否有效）。\n\n2024.3.20\n1.混乱元素之塔的敌人惨遭削弱。\n\n2024.3.18\n1.红包现在最高只能开出200品质等级的装备了。\n2.蓝装（优秀）现在不能拆解了，而且“不提示拆解高品质物品”将默认勾选，装备且拆且珍惜。\n3.森林三兄弟也有专属装备了。\n4.长剑和双刀的基础属性调整，相信不再刮痧。\n5.可以体验魔法学徒的部分技能了，但仍然不会掉落任何相关的装备。\n\n2024.3.17\n1.修复了“守护者”技能学习等级错误的bug，但不影响已经携带的技能。\n2.“剑斗士”已经太强了，我们来削弱一下“守护者”吧。\n\n2024.3.16更新说明\n1.意外建立的“亚莲娜”角色可以（必须）删除了，让她再多学一点新技能再加入战斗。\n2.主动、被动技能的携带数量调整，以便于低级角色练级。\n3.武器、首饰的附魔增加“生命汲取”属性。\n4.增加了“刀客”职业，以及相应的武器“双刀”。\n5.技能经验值调整为原版标准，先练技能的兄弟有福了。\n6.现在每一种非boss召唤的小怪都能掉落钥石了，掉率均为0.001。\n7.红包掉率翻倍，小怪为0.0002，BOSS为0.2。\n8.红包可以正常开出年兽巢穴钥石和年兽的心脏了。\n9.附魔属性“生命值”下调为每品质等级1-2点生命值，但不影响已经掉落的装备。\n10.卡卡列夫也有专属装备了。\n11.微调了“重斩”、“炎龙吐息”的技能效果。\n12.修复旧bug，并更新了新的bug们，实在不行就回滚一个版本。\n\n\n2024.3.13 更新说明\n1.为“艾尔”设定了全新的职业、技能：\n  ①当等级达到15级且任意角色完成“迷雾森林”首通时，开启第一次转职；\n  ②当等级达到35级且任意角色完成“庇护所773号”首通时，开启第二次转职；\n  ③部分职业在等级达到80级且任意角色完成“未知暗殿”首通时，开启第三次转职；\n  ④暂时禁用“刺客”、“圣骑士”职业。\n  ⑤在转职时请务必要完整阅读提示，以避免不必要的损失。\n2.暂时禁用角色“亚莲娜”。\n3.角色等级、携带技能数量调整。\n4.拆解装备获得的各种碎片整合为“奇怪的精粹”。\n5.调整附魔功能：新的附魔不会让装备的属性下降，但随数值的提高，附魔的成功率会降低。\n6.暴击几率的上限调整为100%。\n7.基础生命值恢复调整为1/s，再也不会被史莱姆们暴捶了。\n8.所有伤害技能的基础命中率调整为100%。\n9.主动技能的等级上限调整为50级。\n10.装备的基本类型调整：\n  ①武器：长剑、剑盾；\n  ②上衣：锁子甲（重甲）、骨甲（轻甲）；\n  ③下装：锁链靴（重甲）、骨靴（轻甲）；\n  ④首饰：秘银指环。\n11.四维加成调整：\n\t每1点力量增加：物理伤害+1，物理防御+1；\n    每1点敏捷增加：暴击等级+1，暴伤等级+1，闪避值+1；\n\t每1点智力增加：元素伤害+1，元素抗性+1；    \n    每1点耐力增加：生命值+5，物理防御+0.5，元素抗性+0.5；\n\t因为重做了数值，所以睡几天仍然打不过一个BOSS是件很正常的事情。\n12.原“炼金”功能拆分为“厨艺”和“炼金”。\n"}},4130:(e,t,n)=>{function r(e){const t={};for(const n of e)t[n.key]=n;return t}e.exports={careers:r(n(8627)),roles:r(n(1725)),maps:r(n(3663)),enemies:r(n(9580)),skills:r(n(5218)),goods:r(n(4058)),passives:r(n(5034)),enhances:r(n(787)),buffs:r(n(1990)),affixes:r(n(4786)),enemyAffixes:r(n(1862)),stories:r(n(4589)),legends:r(n(118)),producers:n(8531),upgrades:n(9818),medicines:r(n(206)),cookings:r(n(7586))}},7258:e=>{e.exports=[{key:"assassin.cutting",name:"切割",description:"增加攻击速度和能量恢复速度",hooks:{atkSpeed(e){return this.arg*e},epRecoveryMul(e){return this.arg*e}}},{key:"assassin.Ambush",name:"伏击",notRemoveWhenTransform:!0,description:"不能再次被伏击",hooks:{isAmbushed:e=>!0}},{key:"assassin.dodge",name:"闪避",description:"几率闪避所有攻击",hooks:{noDodgeRate(e){return e/this.arg}}},{key:"assassin.prevertDeath",name:"假死",description:"减少所受所有伤害的90%",hooks:{willDamaged:e=>.1*e}},{key:"assassin.prevertDeathCD",name:"假死调息",description:"最近激活过了假死，不能再次激活",hooks:{}}]},4770:e=>{e.exports=[{key:"summoned",name:"召唤生物",hidden:!0,description:"到点就挂",hooks:{getSummonedBuff(e){return this}},willRemove(){"ghost"===this.unit.camp||this.stopped||this.unit.kill()}},{key:"summon.upgraded",name:"升级",description:"升级了",notRemoveWhenTransform:!0,hooks:{atkMul(e){return e*(this.arg/100+1)},maxHpMul(e){return e*(this.arg/100+1)},"summon.upgraded":function(){return!0}}},{key:"legend-wand-1",name:"鞭笞",description:"攻击速度增加100%",hooks:{speedRateAdd:e=>2*e}}]},6986:e=>{e.exports=[{key:"kakarif.mad",name:"狂热",description:"增加卡卡列夫攻击速度",hooks:{atkSpeedMul:e=>4*e}},{key:"shieldReflect",name:"盾牌反射",description:"反射所有法术伤害",hooks:{shieldReflect:(e,t)=>"melee"!==t?.2:void 0}},{key:"ghostShield",name:"幽魂护盾",hooks:{absorbed:e=>0}},{key:"murloc.thumpHead",name:"鱼人大军",effectInterval:500,effect(e){e.addEnemy("chapter3.murloc.army",null,0,this.unit)}},{key:"murloc.waterShield",name:"水泡护盾",description:()=>"吸收伤害",hooks:{absorbed(e){const t=this.arg,n=Math.min(e,t);return this.arg-=n,this.arg<=.001&&this.over(),e-n}}},{key:"fishzilla.focus",name:"奥术射线",hidden:!0,description:()=>"使目标受到的所有伤害提升100%",didAppear(){this.unit.target&&(this.targetBuff=this.unit.target.addBuff("fishzilla.focused"))},willRemove(){this.targetBuff&&(this.targetBuff.unit.removeBuff(this.targetBuff),this.targetBuff=null)}},{key:"fishzilla.focused",name:"奥术射线",notSave:!0,description:()=>"使目标受到的所有伤害提升100%",hooks:{willDamaged:(e,t)=>2*e}},{key:"nynnroth.shield",name:"定海",description:"减少所受的90%冰冷伤害",hooks:{willDamaged:(e,t,n)=>"cold"===n?e/10:e}},{key:"enemy.upgrade",name:"愤怒",description:"增加攻击力",hooks:{atkAdd:e=>e+.1}},{key:"wolf.worry",name:"撕咬",effectInterval:2e3,effect(e){e.sendDamage("melee",null,this.unit,null,this.arg,!1)}},{key:"enemy.evil.reading1",name:"精神鞭笞",effectInterval:500,effect(e){const t=this.unit,{target:n}=t;n?e.sendDamage("dark",t,n,this.skill,.2*t.atk,!1):t.removeBuff(this)}},{key:"enemy.evil.control",name:"精神控制",didAppear(){this.unit.setCamp("enemy")},willRemove(){this.unit.setCamp("alien")}},{key:"shamansa.spew",name:"呕吐",effectInterval:500,effect(e){e.addEnemy("chapter5.woodElf.arms",null,0,this.unit)}},{key:"rosa.angry",name:"狂热",description:"增加卡卡列夫攻击速度",hooks:{atkSpeedMul:e=>4*e}}]},1990:(e,t,n)=>{e.exports=[...n(6107),...n(6986),...n(7877),...n(7258),...n(5677),...n(5244),...n(4770),...n(1240)]},5677:e=>{e.exports=[{key:"knight.holySign",name:"圣光圣印",description:"恢复攻击者的气血值",hooks:{damaged(e,t){return t.hp+=e*this.arg,e}}},{key:"knight.damageSign",name:"审判圣印",description:"恢复攻击者的气血值",hooks:{preskill(e,t){const n=this.arg,{playerUnit:r}=t;if(!r)return;const{atk:i}=r,a=t.units.filter((e=>r.willAttack(e)));for(const e of a){if(t.testDodge(r,e,this))return;const a=i*n,o=r.testCrit(),s=r.getCritBonus(o);t.sendDamage("holy",r,e,{name:"审判圣印"},a*s,o)}}}},{key:"knight.shieldReflect",name:"盾牌反射",description:"反射所有法术伤害",hooks:{shieldReflect(e,t){return"melee"!==t&&"real"!==t?this.arg:0}}},{key:"holyShield",name:"圣盾术",hooks:{absorbed:(e,t)=>"melee"===t?0:e}},{key:"knight.pray",name:"祈祷",effectInterval(){return this.arg},effect(e){const{unit:t}=this;t&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(3,"maxComboPoint");e.runAttrHooks(t,"holyCombo"),e.comboPoint=Math.min(n,e.comboPoint+t)}(t)}},{key:"knight.deserve",name:"奉献",effectInterval:2e3,effect(e){const{unit:t,arg:n}=this;if(!t)return;const r=t.atk*(.2*n+1),i=e.units.filter((e=>t.willAttack(e))),{critRate:a=0,critBonus:o=1.5}=t;i.forEach((n=>{if(e.testDodge(t,n,this))return;const i=r*(.2*Math.random()+.3),a=t.testCrit(),o=t.getCritBonus(a);e.sendDamage("melee",t,n,this.skill,i*o,a),n.runAttrHooks(t,"attacked")}))}}]},5244:e=>{e.exports=[{key:"simba.comeOnFriends",name:"好兄弟加油",hooks:{speedRate:e=>2*e}},{key:"simba.goodFriends",name:"好兄弟",hooks:{willClean(e,t,n){const r=n.units.filter((e=>e!==t&&e.runAttrHooks(!1,"simba.goodFriends")));let i=!1;for(const e of r)"ghost"!==e.camp&&(e.addBuff("simba.comeOnFriends"),i=!0);if(i)return!1;for(const e of r)e.setCleanTimer();return e}}}]},7877:e=>{e.exports=[{key:"cold",name:"寒冷",description:"所有行动减缓20%。",hooks:{cold:e=>!0,speedRateAdd:e=>.8*e}},{key:"coldAir",name:"冻气",description:"所有行动减缓。",hooks:{cold:e=>!0,speedRateAdd(e){return e*(1-(this.arg||0))}}},{key:"freezed",name:"冻结",description:"不能行动",hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"magicShield",name:"魔法盾",description:()=>"消耗魔法并吸收伤害",hooks:{haveMagicShield:()=>!0,absorbed(e){const{unit:t}=this,n=this.arg[0],r=this.arg[1],i=Math.min(e,r,n*t.mp),a=i/n;return t.mp-=a,t.runAttrHooks(a,"postCostMp"),this.arg[1]-=i,this.arg[1]<=.001&&this.over(),e-i}}},{key:"iceShield",name:"冰霜护盾",description:()=>"冰冻攻击者",hooks:{defAdd(e){return e+this.arg},attacked(e){const{unit:t}=this;return Math.random()<t.runAttrHooks(!1,"soCold")&&e.stun(3,"freezed")||e.addBuff("cold",3e3,null,"cold"),t.runAttrHooks(!1,"coldAir")&&function(e){const t=e.buffs.find((e=>"coldAir"===e.group));t?t.arg=Math.min(t.arg+.01,.99):e.addBuff("coldAir",null,.01,"coldAir")}(e),e}}},{key:"transform",name:"变形术",description:"变形",hooks:{transformed:e=>!0,displayName(e){return`[${this.arg}]${e}`},damaged(e){return e>0&&this.over(),e}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"fireShield",name:"烈焰护盾",description:()=>"增加会心和会心效果",hooks:{critRate:e=>e+.2,critBonus(e){return e+this.arg}}},{key:"flaming",name:"燃尽",hidden:!0,description:()=>"造成持续的火焰伤害",effectInterval:1e3,effect(e){e.sendDamage("fire",null,this.unit,null,this.arg,0)}},{key:"awaking",name:"唤醒",hidden:!0,hooks:{mpRecovery(e){return e+this.arg}}},{key:"magicState",name:"法力共鸣",hidden:!0,description:()=>"下一个不同系的法术将使你的攻击力上升10%，持续5秒"},{key:"magicArtist",name:"法力交织",description:"伤害增加百分比",hooks:{dmgAdd(e){return this.arg+e}}},{key:"manaShield",name:"法力护盾",description:()=>"吸收伤害",hooks:{absorbed(e){const{unit:t}=this,n=this.arg,r=Math.min(e,n);return this.arg-=r,this.arg<=.001&&this.over(),e-r}}},{key:"vitalitywater_buff",name:"活力之水",description:"活力之水",effectInterval:1e3,effect(e){const t=this.unit;t.hp+=t.maxHp*this.arg,t.mp+=t.maxMp*this.arg}},{key:"chord_buff",name:"和弦",hidden:!0}]},1240:e=>{function t(e,t,n){const r=t.buffs.find((e=>"poison_buff"===e.group));r?(r.arg+=n,r.resetTimer(3e4)):t.addBuff("poison_buff",12e3,n,"poison_buff")}e.exports=[{key:"summoned",name:"召唤生物",hidden:!0,description:"到点就挂",hooks:{getSummonedBuff(e){return this}},willRemove(){"ghost"===this.unit.camp||this.stopped||this.unit.kill()}},{key:"stop_buff",name:"停滞",description:"不能行动",didRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()},hooks:{stunned:e=>!0}},{key:"soul_ice_freezed",name:"冻结",description:"不能行动",hooks:{freezed(e){return this}},willRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()}},{key:"soul_ice_cold",name:"冰缓",description:"所有行动减缓20%。",hooks:{speedRateAdd:e=>.8*e}},{key:"soul_power_buff",name:"鬼神·抛瓦",description:"",hooks:{strAdd(e){return 2*this.arg+50+e},intAdd(e){return 2*this.arg+50+e}}},{key:"soul_armor_buff",name:"鬼神·铠甲",description:"",hooks:{defAdd(e,t){return this.unit,e*(15+this.arg/2)/100+e},darkResist(e,t){return this.unit,e*(10+this.arg/2)/100+e}}},{key:"soul_armor_buff2",name:"鬼神·铠甲",hidden:!0,description:"",hooks:{darkdmgAdd(e,t){return.01*this.arg+e}}},{key:"karon_tombstonesummon_buff",name:"天降墓碑",description:"天降墓碑",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;if(n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(.8+.02*this.arg+Math.random()*(.1+.01*this.arg))*t.darkdmgAdd,i=t.testCrit();e.sendDamage("dark",t,n,this.skill,t.getCritBonus(i)*r,i)}e.addEnemy("karon_summon_tombstone",null,0,t,this).addBuff("summoned",t.runAttrHooks(15e3,"summonTime"))}else t.removeBuff(this)}},{key:"tombstonesummon_buff",name:"天降墓碑",description:"天降墓碑",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;if(n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(.8+.02*this.arg+Math.random()*(.1+.01*this.arg))*t.darkdmgAdd,i=t.testCrit();e.sendDamage("dark",t,n,this.skill,t.getCritBonus(i)*r,i)}e.addEnemy("summon_tombstone",null,0,t,this).addBuff("summoned",t.runAttrHooks(15e3,"summonTime"))}else t.removeBuff(this)}},{key:"soul_weak_buff1",name:"鬼神·虚弱",description:"鬼神·虚弱",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e))))n.addBuff("soul_weak_buff3",2e3,this.arg,"soul_weak_buff3")}},{key:"soul_weak_buff2",name:"鬼神·虚弱",description:"鬼神·虚弱",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e))))n.addBuff("soul_weak_buff4",2e3,this.arg,"soul_weak_buff4")}},{key:"soul_weak_buff3",name:"鬼神·虚弱",description:"",hooks:{willDamaged(e,t,n){return e*(1.2+.006*this.arg)}}},{key:"soul_weak_buff4",name:"鬼神·虚弱",description:"",hooks:{darkResist(e){return e-200*this.arg}}},{key:"soul_ice_buff",name:"鬼神·冰霜",description:"鬼神·冰霜",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=(1+t.atk*(.1+.001*this.arg+Math.random()*(.05+.001*this.arg)))*t.colddmgAdd,i=t.testCrit();e.sendDamage("cold",t,n,this.skill,t.getCritBonus(i)*r,i),n.addBuff("soul_ice_cold",2e3,null,"soul_ice_cold"),Math.random()<.1&&n.addBuff("soul_ice_freezed",1500,null,"soul_ice_freezed")}}},{key:"soul_poison_buff",name:"鬼神·瘟疫",description:"鬼神·瘟疫",hidden:!0,effectInterval:1e3,effect(e){const n=this.unit,{target:r}=n;for(const r of e.units.filter((e=>n.willAttack(e)))){const i=n.atk,a=(1+i*(.1+.001*this.arg+Math.random()*(.05+.001*this.arg)))*n.poisondmgAdd,o=n.testCrit();e.sendDamage("poison",n,r,this.skill,n.getCritBonus(o)*a,o),Math.random()<.2&&t(0,r,.2*i*n.poisondmgAdd)}}},{key:"soul_darkfire_buff",name:"鬼神·冥炎",description:"鬼神·冥炎"},{key:"soul_iceplus_buff",name:"鬼神·冰晶",description:"鬼神·冰晶",hidden:!0,effectInterval:500,effect(e){const t=this.unit,{target:n}=t;for(const n of e.units.filter((e=>t.willAttack(e)))){const r=(1+t.atk*(.05+.001*this.arg+Math.random()*(.05+.001*this.arg)))*t.colddmgAdd,i=t.testCrit();e.sendDamage("cold",t,n,this.skill,t.getCritBonus(i)*r,i),n.addBuff("soul_ice_cold",2e3,null,"soul_ice_cold"),Math.random()<.2&&n.addBuff("soul_ice_freezed",1500,null,"soul_ice_freezed")}}},{key:"soulbringer_enhance2_buff",name:"鬼斩·噬魂",description:"",hooks:{strAdd(e){return 10*this.arg+e},intAdd(e){return 10*this.arg+e}}}]},6107:e=>{function t(e,t,n){const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(12e3)):t.addBuff("fire_buff",12e3,n,"fire_buff")}e.exports=[{key:"element_fire_buff",name:"元素附魔",description:"元素附魔·火"},{key:"element_fire2_buff",name:"元素附魔·火",hidden:!0,description:"元素附魔·火"},{key:"fire_buff",name:"灼烧",description:"元素附魔·火",effectInterval:3e3,effect(e,t,n){e.sendDamage("fire",null,this.unit,"灼烧",this.arg,0)}},{key:"poison_buff",name:"中毒",description:"中毒",effectInterval:3e3,effect(e,t,n){const{hp:r,maxHp:i}=this.unit;let a=1+5*(1-r/i);e.sendDamage("poison",null,this.unit,"中毒",this.arg*a,0)}},{key:"darkfire_buff",name:"冥炎",description:"元素附魔·火",effectInterval:999,effect(e,t,n){e.sendDamage("dark",null,this.unit,"冥炎",this.arg,0)}},{key:"hamstring_buff",name:"断筋",description:"所有行动减缓30%。",hooks:{speedRateAdd(e){return this.arg*e}}},{key:"white_heat_buff",name:"白热化",description:"所有行动减缓30%。",hooks:{speedRateAdd(e){return this.arg+e}}},{key:"warrior_hp_buff",name:"气血激增",description:"生命值上限增加",hooks:{maxHpAdd(e){return this.arg+e}}},{key:"warrior_def_buff",name:"钢铁之躯",description:"物理防御增加",hooks:{defAdd(e){return this.arg+e}}},{key:"warrior_res_buff",name:"钢铁之躯",hidden:!0,description:"元素抗性增加",hooks:{allResAdd(e){return this.arg+e}}},{key:"block_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged:(e,t)=>Math.random()<=.15?e/2:e}},{key:"block2_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("whirlwind"),e/2):e}}},{key:"block3_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("fury_cutter"),e/2):e}}},{key:"kedi_buff",name:"克敌",hidden:!0,description:"易伤30%",hooks:{willDamaged:(e,t)=>1.3*e}},{key:"flame_armor_buff",name:"炎铠",description:"反射伤害",hooks:{attacked(e){!function(e,t){const n=e.buffs.find((e=>"fire_buff"===e.group));n?(n.arg+=t,n.resetTimer(15e3)):e.addBuff("fire_buff",15e3,t,"fire_buff")}(e,this.arg)}}},{key:"lv80_warrior1_enhance1_buff",name:"火锤",description:"受到的火焰伤害增加50%",hooks:{willDamaged:(e,t,n)=>"fire"===n?1.5*e:e}},{key:"fury_cutter_time_buff",name:"连斩姿态",hidden:!0,description:"物理防御增加",hooks:{critRLAdd(e){return this.arg+e}}},{key:"omnislash_buff2",name:"减伤",hidden:!0,description:"减伤",hooks:{willDamaged(e){return e*this.arg}}},{key:"omnislash_buff",name:"无敌斩",hidden:!0,effectInterval:500,effect(e){const t=this.unit,{target:n}=t;n?t.useExtraSkill("fury_cutter"):t.removeBuff(this)}},{key:"stunned",name:"昏迷",description:"不能行动",didRemove(){this.unit.timeline.resume(),this.unit.tryUseSkill(this.unit.canUseSkill())},didAppear(){this.unit.timeline.pause()},hooks:{stunned:e=>!0}},{key:"defensive4_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged:(e,t)=>Math.random()<=.15?e/2:e}},{key:"defensive3_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("whirlwind"),e/2):e}}},{key:"defensive2_buff",name:"格挡姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit;return Math.random()<=.3?(n.useExtraSkill("fury_cutter"),e/2):e}}},{key:"defensive1_buff",name:"防御姿态",description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit,r=n.runAttrHooks(!1,"lv35_warrior2_enhance7_time");return Math.random()<=.25?(r&&Math.random()<=.5&&n.useExtraSkill("infinite_justice"),1):e}}},{key:"Blessing_buff",name:"护佑",hidden:!0,description:"生命值上限增加",hooks:{meleeAbsorb(e){return.01*this.arg+e},fireAbsorb(e){return.01*this.arg+e},coldAbsorb(e){return.01*this.arg+e},lightningAbsorb(e){return.01*this.arg+e}}},{key:"guardian_buff1",name:"守护者之魂",description:"格挡后减少50%伤害"},{key:"guardian_buff2",name:"守护者之魂",hidden:!0,description:"格挡后减少50%伤害",hooks:{willDamaged(e,t){const n=this.unit,r=n.runAttrHooks(!1,"lv35_warrior2_enhance8_time"),i=n.buffs.find((e=>"guardian_buff1"===e.group)),a=n.buffs.find((e=>"Blessing_buff"===e.group));return i?(a?(a.arg+=1,a.arg=Math.min(a.arg,20)):n.addBuff("Blessing_buff",null,1,"Blessing_buff"),r&&n.useExtraSkill("jingji_skill")):a&&n.removeBuff(a),e}}},{key:"sunder_armor_buff",name:"碎甲",description:"易伤30%",hooks:{willDamaged(e,t){return e*this.arg}}},{key:"shield_wall_buff",name:"护盾",description:()=>"吸收伤害",hooks:{absorbed(e){const t=this.arg,n=Math.min(e,t);return this.arg-=n,this.arg<=.001&&this.over(),e-n}}},{key:"fanatical_buff",name:"狂热",description:"攻击力+20%",hooks:{atk_Add(e){return e+this.arg}}},{key:"flame_armor_buff2",name:"炎铠",description:"炎铠",hidden:!0,effectInterval:999,effect(e){const n=this.unit,{target:r}=n;for(const r of e.units.filter((e=>n.willAttack(e))))t(0,r,this.arg)}},{key:"ghost_shuffle_buff",name:"鬼步",description:"攻击力+20%",hooks:{shanbizhiAdd(e,t){const n=this.unit;return e+(n.maxHp-n.hp)}}},{key:"hacking_time_buff",name:"血魔乱舞",hidden:!0,effectInterval:1e3,effect(e){const t=this.unit,{target:n}=t;n?t.useExtraSkill("hacking_plus_double"):t.removeBuff(this)}},{key:"fanatical_buff2",name:"狂热",hidden:!0,description:"攻击力+20%",hooks:{atk_Add(e){return e+this.arg}}},{key:"jxsb_buff",name:"吉祥三宝",hidden:!0,description:"物理防御增加",hooks:{critRateAdd(e){return this.arg+e}}},{key:"swordSkill",name:"狂热",description:"伤害增加百分比",hooks:{atkAdd(e){return this.arg+e}}},{key:"shout",name:"战斗怒吼",description:"护甲增加百分比",hooks:{defAdd(e){return this.arg+e}}},{key:"commandShout",name:"命令怒吼",description:"生命上限增加百分比",hooks:{maxHpAdd(e){return this.arg+e}}},{key:"shoutShake",name:"震慑怒吼",description:"伤害增加百分比",hooks:{atkMul(e){return this.arg*e}}}]},730:e=>{e.exports={key:"assassin",name:"刺客",description:"擅长从阴影中伏击敌人。",careertype:1,requirement:{role:"Eyer",stories:["chapter3-5"],level:101},equipments:{weapon:"stickDagger"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:1.5,int:0,sta:1.5},skills:{"assassin.melee":1,"assassin.thump":2,"assassin.blood":4,"assassin.kick":6,"assassin.daggerFan":8,"assassin.ambush":10,"assassin.cutting":12,mortalStrike:14,"assassin.coherentExtrapolated":16,"assassin.swordSkill":18,"assassin.summonPuppet":20,"assassin.thumpHead":22,"assassin.dodge":24},passives:{atkByDex:1,energy:4},enhances:{"assassin.sharp":10,"assassin.speed":10,weaponMastery:15,"assassin.dexBeleive":15,"assassin.protect":20,"assassin.atkFromStr":20,"assassin.prevertDeath":30},availableClasses:{base:!0,sword:!0,dagger:!0,cloth:!0,armor:!0,ornament:!0}}},1967:e=>{e.exports={key:"elementSommoner",name:"元素召唤师",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{role:"Aleanor",stories:["chapter3-5"],level:101},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{},passives:{magic:2},enhances:{},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:1,int:2,sta:1}}},8627:(e,t,n)=>{e.exports=[...n(9414),...n(5727),n(730),n(9510),n(1967),n(1329)]},9510:e=>{e.exports={key:"knight",name:"圣骑士",description:"圣光谦卑的仆从，谦卑，怜悯。",requirement:{role:"Eyer",stories:["chapter3-5"],level:101},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{"knight.melee":1,"knight.thump":2,"knight.glory":4,"knight.cleave":6,"knight.sacrifice":8,"knight.holySign":10,"knight.thumpHead":12,"knight.whirlwind":14,"knight.damageSign":16,"knight.reflect":18,"knight.holyShield":20,"knight.pray":22,"knight.melee1":24,"knight.kick":28,"knight.deserve":40},passives:{atkByStr:1},enhances:{"knight.protectBelieve":10,"knight.attackBelieve":10,weaponMastery:15,"knight.spirit":15,"knight.talking":20,"knight.recharge":20,"knight.absorb":25,"knight.defense":25},availableClasses:{base:!0,sword:!0,cloth:!0,armor:!0,ornament:!0}}},5727:(e,t,n)=>{e.exports=[n(6068),n(5607)]},5607:e=>{e.exports={key:"lv15.sorceress1",name:"元素法师",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{career:"sorceress",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:1,summon_slime:1,sorceress_fireBall:1,sorceress_magicShield:20,sorceress_vitalitywater:25,sorceress_igniting:30,sorceress_lightning:35},passives:{magic:1},enhances:{sorceress_enhance1:1,sorceress_enhance2:1,lv15_sorceress1_enhance1:15,lv15_sorceress1_enhance2:25,lv15_sorceress1_enhance3:35},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:1.5,sta:.5}}},6068:e=>{e.exports={key:"sorceress",name:"魔法学徒",description:"与精灵签订契约就职魔法少女，掌握超自然的力量以击败魔族。",requirement:{role:"Aleanor",level:101},equipments:{weapon:"stickWand"},expFormula:[2,10,-4,2,.3],skills:{sorceress_atk:1,wind_blade:5,summon_slime:10},passives:{magic:1},enhances:{sorceress_enhance1:5,sorceress_enhance2:10},availableClasses:{base:!0,wand:!0,cloth:!0,ornament:!0},attrGrow:{str:0,dex:0,int:1,sta:.5}}},1329:e=>{e.exports={key:"soulbringer",name:"黑暗君主",description:"黑暗君主",requirement:{role:"iPhone14promax"},equipments:{weapon:"LongSword"},expFormula:[2,10,-4,2,.3],skills:{soulbringer_atk:1,onikiri:2,soul_power:5,moonlight_slash:10,ghost_whip:15,soul_armor:15,tombstone:20,soul_weak:20,ghost_fury:25,soul_shadow:30,soul_ice:30,soul_poison:35,ghost_puncture:40,soul_darkfire:45,tombstoneplus:50,ghost_pidi:60,dark_jige:70,soul_iceplus:80,soul_7:90},passives:{soulbringer_passive:1},enhances:{soulbringer_enhance1:5,soulbringer_enhance2:10,soulbringer_enhance3:20,soulbringer_enhance4:40,soulbringer_enhance5:60,soulbringer_enhance6:90},availableClasses:{base:!0,longsword:!0,cloth:!0,ornament:!0},attrGrow:{str:1.5,dex:.5,int:1.5,sta:.5}}},9414:(e,t,n)=>{e.exports=[n(9224),n(5929),n(8528),n(8247),n(2923),n(5822),n(8781),n(3048),n(6975),n(3138),n(1235),n(7766),n(9680),n(983),n(3977),n(6340)]},5929:e=>{e.exports={key:"warrior1.lv15",name:"剑斗士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:15,warrior_hp:20,whirlwind:25,warrior_def:30,hamstring:35},passives:{atkByStr2:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:15,lv15_warrior_enhance2:25,lv15_warrior_enhance3:35},availableClasses:{base:!0,sword:!0,swordshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},8528:e=>{e.exports={key:"warrior2.lv15",name:"枪兵",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:101,stories:["eyer-stories-10"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{},passives:{atkByStr3:1,rage:1},enhances:{},availableClasses:{base:!0,spear:!0,spearshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},8247:e=>{e.exports={key:"warrior3.lv15",name:"刀客",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior",level:15,stories:["eyer-stories-10"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:15,warrior_hp:20,shield_wall:25,warrior_def:30,sunder_armor:35},passives:{atkByStr2:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:15,lv15_warrior_enhance2:25,lv15_warrior_enhance3:30},availableClasses:{base:!0,machete:!0,macheteshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},2923:e=>{e.exports={key:"warrior1.lv35",name:"大剑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,element_fire:40,white_heat:50,fury_cutter_plus:60,block:70},passives:{atkByStr3:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior1_enhance1:45,lv35_warrior1_enhance2:55,lv35_warrior1_enhance3:65},availableClasses:{base:!0,sword:!0,lightArmor:!0,ornament:!0}}},5822:e=>{e.exports={key:"warrior2.lv35",name:"守护者",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"SwordShield"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,shield_charge:40,defensive_stance:50,fury_cutter_plus:60,first_aid:70,guardian:80,infinite_justice:90},passives:{atkByStr7:1,warriorsurvival2:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:45,lv35_warrior2_enhance2:55,lv35_warrior2_enhance3:65,lv35_warrior2_enhance4:80,lv35_warrior2_enhance5:85,lv35_warrior2_enhance6:90,lv35_warrior2_enhance7:95,lv35_warrior2_enhance8:100},availableClasses:{base:!0,swordshield:!0,armor:!0,ornament:!0}}},8781:e=>{e.exports={key:"warrior3.lv35",name:"枪骑兵",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior2.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{},passives:{atkByStr4:1,rage:1},enhances:{},availableClasses:{base:!0,spear:!0,lightArmor:!0,ornament:!0}}},3048:e=>{e.exports={key:"warrior4.lv35",name:"战神",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior2.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"SpearShield"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:.5,int:0,sta:2},skills:{},passives:{warriorsurvival1:1,rage:1},enhances:{},availableClasses:{base:!0,spearshield:!0,armor:!0,ornament:!0}}},6975:e=>{e.exports={key:"warrior5.lv35",name:"勇士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv15",level:35,stories:["chapter3-5"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1,dex:.5,int:0,sta:1},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:40,fanatical:50,hacking_plus_double:60,block:70},passives:{atkByStr3:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:45,lv35_warrior5_enhance2:55,lv35_warrior5_enhance3:65},availableClasses:{base:!0,machete:!0,lightArmor:!0,ornament:!0}}},3138:e=>{e.exports={key:"warrior6.lv35",name:"虎卫",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv15",level:101,stories:["chapter3-5"]},equipments:{weapon:"MacheteShield"},expFormula:[2,10,-4,2,.3],attrGrow:{str:.5,dex:.5,int:0,sta:2},skills:{},passives:{warriorsurvival1:1,rage:2},enhances:{},availableClasses:{base:!0,macheteshield:!0,armor:!0,ornament:!0}}},1235:e=>{e.exports={key:"warrior1.lv80",name:"魔剑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,element_fire:1,white_heat:1,fury_cutter_plus:1,block:1,flame_armor:80,dragon_breath:90},passives:{atkByStr6:1,rage:2,warriorfire:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior1_enhance1:1,lv35_warrior1_enhance2:1,lv35_warrior1_enhance3:1,lv80_warrior1_enhance1:80,lv80_warrior1_enhance2:85,lv80_warrior1_enhance3:90,lv80_warrior1_enhance4:95,lv80_warrior1_enhance5:100},availableClasses:{base:!0,sword:!0,lightArmor:!0,ornament:!0}}},7766:e=>{e.exports={key:"warrior2.lv80",name:"宗师",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior1.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,fury_cutter:1,warrior_hp:1,whirlwind:1,warrior_def:1,hamstring:1,element_fire:1,white_heat:1,fury_cutter_plus:1,block:1,fury_cutter_time:80,omnislash:90},passives:{atkByStr4:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior1_enhance1:1,lv35_warrior1_enhance2:1,lv35_warrior1_enhance3:1,lv80_warrior2_enhance1:80,lv80_warrior2_enhance2:85,lv80_warrior2_enhance3:90,lv80_warrior2_enhance4:95,lv80_warrior2_enhance5:100},availableClasses:{base:!0,sword:!0,lightArmor:!0,ornament:!0}}},9680:e=>{e.exports={key:"warrior4.lv80",name:"天启",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{},passives:{atkByStr6:1,warriorlightning:1,rage:1},enhances:{},availableClasses:{base:!0,spear:!0,lightArmor:!0,ornament:!0}}},983:e=>{e.exports={key:"warrior5.lv80",name:"龙骑士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior3.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Spear"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:1,fanatical:1,hacking_plus_double:1,block:1,ghost_shuffle:80,hacking_time:90},passives:{atkByStr5:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior5_enhance1:1,lv35_warrior5_enhance2:1,lv35_warrior5_enhance3:1,lv80_warrior5_enhance1:80,lv80_warrior5_enhance2:85,lv80_warrior5_enhance3:90,lv80_warrior5_enhance4:95,lv80_warrior5_enhance5:100},availableClasses:{base:!0,spear:!0,lightArmor:!0,ornament:!0}}},3977:e=>{e.exports={key:"warrior7.lv80",name:"血魔",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior5.lv35",level:80,stories:["career-lv80"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{warrior_atk:1,save_oneself:1,thump:1,hacking:1,warrior_hp:1,shield_wall:1,warrior_def:1,sunder_armor:1,element_cold_fire:1,fanatical:1,hacking_plus_double:1,block:1,ghost_shuffle:80,hacking_time:90},passives:{atkByStr4:1,rage:1},enhances:{warrior_enhance1:1,warrior_enhance2:1,lv15_warrior_enhance1:1,lv15_warrior_enhance2:1,lv15_warrior_enhance3:1,lv35_warrior2_enhance1:1,lv35_warrior5_enhance2:1,lv35_warrior5_enhance3:1,lv80_warrior5_enhance1:80,lv80_warrior5_enhance2:85,lv80_warrior5_enhance3:90,lv80_warrior5_enhance4:95,lv80_warrior5_enhance5:100},availableClasses:{base:!0,machete:!0,lightArmor:!0,ornament:!0}}},6340:e=>{e.exports={key:"warrior8.lv80",name:"焚天",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{career:"warrior5.lv35",level:99999,stories:["career-lv80"]},equipments:{weapon:"Machete"},expFormula:[2,10,-4,2,.3],attrGrow:{str:1.5,dex:1,int:0,sta:1.5},skills:{},passives:{atkByStr6:1,warriorfirecold:1,rage:1},enhances:{},availableClasses:{base:!0,machete:!0,lightArmor:!0,ornament:!0}}},9224:e=>{e.exports={key:"warrior",name:"战士",description:"好用的炮灰(?)职业，用肌肉来解决问题。",requirement:{role:"Eyer",level:101},equipments:{weapon:"stickSword"},expFormula:[2,10,-4,2,.3],attrGrow:{str:0,dex:0,int:0,sta:.5},skills:{warrior_atk:1,save_oneself:5,thump:10},passives:{atkByStr1:1,rage:1},enhances:{warrior_enhance1:5,warrior_enhance2:10},availableClasses:{base:!0,sword:!0,swordshield:!0,spear:!0,spearshield:!0,machete:!0,macheteshield:!0,lightArmor:!0,armor:!0,ornament:!0}}},7586:e=>{e.exports=[{key:"fotiaoqiang",name:"史莱姆果冻",description:e=>`力量、敏捷、智力、耐力分别增加${1*e}点`,hooks:{str:(e,t)=>t+1*e,dex:(e,t)=>t+1*e,int:(e,t)=>t+1*e}},{key:"sanxianzhou",name:"碳烤牛排",description:e=>`力量增加${5*e}点`,hooks:{str:(e,t)=>t+5*e}},{key:"zajinyuqiuzhou",name:"星光玉米卷",description:e=>`敏捷增加${5*e}点`,hooks:{dex:(e,t)=>t+5*e}},{key:"xianguzhou",name:"蓝莓鸡尾酒",description:e=>`智力增加${5*e}点`,hooks:{int:(e,t)=>t+5*e}},{key:"pidanshourouzhou",name:"梦境蘑菇汤",description:e=>`耐力增加${5*e}点`,hooks:{sta:(e,t)=>t+5*e}},{key:"huangguajianzirou",name:"艾尔秘制面包",description:e=>`物理防御增加${25*e}点`,hooks:{defAdd:(e,t)=>t+25*e}},{key:"cuigualijisi",name:"酒心巧克力",description:e=>`元素抗性增加${25*e}点`,hooks:{allResAdd:(e,t)=>t+25*e}},{key:"tangcupaigu",name:"小饼干",description:e=>`闪避增加${30*e}点`,hooks:{shanbizhiAdd:(e,t)=>t+30*e}},{key:"suanxiangbairou",name:"幻想森林果派",description:e=>`生命值恢复增加${e}点`,hooks:{hpRecovery:(e,t)=>t+e}},{key:"jintangsuancaiyu",name:"金汤酸菜鱼",description:e=>`法力值恢复增加${e}点`,hooks:{mpRecovery:(e,t)=>t+e}},{key:"lianyushuizhuyu",name:"炼狱海鲜烩",description:e=>`生命值上限${40*e}点`,hooks:{maxHpAdd:(e,t)=>t+40*e}},{key:"bingzhenxiaolongxia",name:"冰镇小龙虾",description:e=>`法力值上限${40*e}点`,hooks:{maxMpAdd:(e,t)=>t+40*e}}]},5353:e=>{e.exports=[{key:"chapter3.beast.wildpig",name:"豪猪",camp:"enemy",race:"unknown",career:"melee",maxHp:1800,def:100,atk:40,exp:65,atkSpeed:.4,level:84,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.shelter773":2,"chapter3.wood1":1}}]},{key:"chapter3.beast.lion",name:"雄狮",camp:"enemy",race:"unknown",career:"melee",exp:85,maxHp:900,def:50,atk:60,atkSpeed:.7,level:86,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"chapter3.shelter773":2,"chapter3.wood1":1}}]},{key:"chapter3.beast.pengpeng",name:"彭彭",camp:"enemy",race:"unknown",career:"melee",maxHp:6e4,exp:800,def:100,allResist:-500,atk:80,atkSpeed:.4,level:90,skills:[{key:"simba.thumpHead",level:0},{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[{type:"equip",rate:1,mfRate:2}]},{key:"chapter3.beast.simba",name:"辛巴",camp:"enemy",race:"unknown",career:"melee",maxHp:25e3,def:50,allResist:-500,exp:800,atk:120,atkSpeed:.7,level:90,skills:[{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[]},{key:"chapter3.beast.dingman",name:"丁满",camp:"enemy",race:"unknown",career:"melee",maxHp:2e4,atk:60,def:-500,exp:800,atkSpeed:.6,level:90,skills:[{key:"simba.heal",level:0},{key:"melee",level:0}],hooks:{"simba.goodFriends":e=>!0},buffs:[{type:"simba.goodFriends"}],loots:[{key:"gold",count:[150,250],rate:1}]}]},3973:e=>{e.exports=[{key:"chapter3.element.fire",name:"火焰精灵",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"fireElement.fireball",level:0}],maxHp:2e4,def:150,atk:250,fireAbsorb:1.2,atkSpeed:.4,exp:180,level:114,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.water",name:"水元素",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0}],maxHp:2e4,def:150,atk:200,coldAbsorb:1.2,atkSpeed:.4,exp:180,level:116,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.earth",name:"岩石傀儡",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"melee",level:0}],maxHp:2e4,def:350,atk:400,atkSpeed:.4,exp:180,level:118,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.auran1":4,"chapter3.auran2":2,"chapter3.tower2":1}}]},{key:"chapter3.element.azathoth.fire",name:"阿撒托斯[火]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"fireElement.fireball",level:0},{key:"azathoth.transformIce",level:0}],stunResist:3e3,maxHp:5e5,coldResist:-2e3,fireResist:2e4,def:-500,atk:500,atkSpeed:.4,exp:7e3,level:120,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.ice",name:"阿撒托斯[冰]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0},{key:"azathoth.transformEarth",level:0}],stunResist:3e3,maxHp:5e5,def:-500,atk:500,atkSpeed:.4,coldResist:2e4,fireResist:-2e3,exp:8e3,level:120,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.earth",name:"阿撒托斯[土]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"azathoth.transformDark",level:0},{key:"melee",level:0}],maxHp:5e5,def:2e3,atk:500,atkSpeed:.4,exp:8e3,level:120,stunResist:3e3,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.dark",name:"阿撒托斯[混乱]",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"azathoth.explode",level:0}],maxHp:5e5,def:-500,allResist:-500,darkAbsorb:.6,atk:500,atkSpeed:.4,exp:8e3,level:120,stunResist:3e3,loots:[{key:"gold",count:[250,500],rate:1}]},{key:"chapter3.element.azathoth.none",name:"阿撒托斯的灰烬",description:"一团跳动的混沌元素",camp:"enemy",race:"unknown",career:"melee",skills:[],maxHp:1e3,def:150,darkAbsorb:.6,atk:1500,atkSpeed:.4,exp:5e3,level:120,buffs:[],loots:[{key:"gold",count:[250,500],rate:1}]}]},6720:e=>{e.exports=[{key:"chapter3.fishzilla.magician",name:"湖畔镇魔法师",camp:"alien",race:"unknown",career:"melee",maxHp:3e3,atk:150,atkSpeed:.4,level:110,skills:[{key:"fishzilla.focus",level:0}],affixes:{stronger:2,faster:1,recover:1}},{key:"chapter3.murloc.slaves",name:"鱼人奴隶",camp:"enemy",race:"unknown",career:"melee",maxHp:5e3,atk:200,exp:100,atkSpeed:.5,level:110,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[10,40],rate:.1}]},{key:"chapter3.fishzilla",name:"鱼斯拉",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:4e6,hpRecovery:250,exp:5e3,atk:500,def:400,allResist:-800,coldResist:1300,level:110,atkSpeed:.6,skills:[{key:"fishzilla.summonSlaves",level:0},{key:"fishzilla.bomb",level:12},{key:"melee",level:0}],stunResist:3e3,affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[200,400],rate:1},{type:"equip",rate:1,mfRate:2}]}]},8110:e=>{e.exports=[{key:"chapter3.murloc.minions",name:"鱼人战士",camp:"enemy",race:"unknown",career:"melee",maxHp:4e3,atk:75,exp:150,atkSpeed:.4,level:94,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[10,40],rate:.1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.wood1":4,"chapter3.auran1":2,"chapter3.auran2":1}}]},{key:"chapter3.murloc.shaman",name:"鱼人祭祀",camp:"enemy",race:"unknown",career:"melee",exp:125,maxHp:3e3,def:50,atk:90,atkSpeed:.7,level:96,skills:[{key:"shaman.iceball",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,40],rate:.1},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.wood1":4,"chapter3.auran1":2,"chapter3.auran2":1}}]},{key:"chapter3.murloc.army",name:"鱼人大军",camp:"neutral",race:"unknown",career:"melee",maxHp:1e3,def:50,atk:50,atkSpeed:.4,level:1,skills:[{key:"murloc.army.thumpHead",level:0}]},{key:"chapter3.murloc.warlord",name:"鱼人督军",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:2e5,hpRecovery:50,exp:3e3,atk:300,level:100,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"murloc.thumpHead",level:0},{key:"murloc.shieldShout",level:0}],loots:[{key:"gold",count:[180,300],rate:1}]}]},5e3:e=>{e.exports=[{key:"chapter3.undead.ghost",name:"不安的冤魂",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:800,atk:35,atkSpeed:.4,exp:50,level:74,skills:[{key:"shaman.darkball",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,15],rate:1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"town.mine.2":2,"town.mine.3":1,"town.neighbourTown.2":2,"town.neighbourTown.3":1,"chapter3.shelter773":1}}]},{key:"chapter3.undead.zombie",name:"行尸",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:1500,exp:50,atk:45,level:76,atkSpeed:.4,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,20],rate:1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"town.mine.2":2,"town.mine.3":1,"town.neighbourTown.2":2,"town.neighbourTown.3":1,"chapter3.shelter773":1}}]},{key:"chapter3.undead.ghostShield",name:"幽魂护卫",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:400,atkSpeed:.4,level:64,skills:[{key:"ghostShield",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[]},{key:"chapter3.necromancer",name:"暗影法师奈布",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:3e4,hpRecovery:5,exp:1800,atk:100,def:-500,allResist:200,darkResist:1e3,lightResist:-2e3,level:80,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"necromancer.ghostShield",level:0}],loots:[{key:"gold",count:[100,200],rate:1}]}]},7072:e=>{e.exports=[{key:"chapter3.waterElement.nagaHero",name:"娜迦勇士",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"melee",level:0}],maxHp:3e4,def:150,atk:500,atkSpeed:.4,exp:220,level:124,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement",name:"水元素",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0}],maxHp:3e4,def:150,atk:400,coldAbsorb:1.2,atkSpeed:.4,exp:220,level:126,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement.giants",name:"深海巨人",description:"一团跳动的火焰",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"cleave",level:0}],maxHp:6e4,def:250,atk:800,atkSpeed:.4,exp:450,level:128,affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[20,50],rate:.1},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.tower2":2,"chapter3.auran4":1}}]},{key:"chapter3.waterElement.Nynnroth",name:"奈因洛斯的分身",description:"一团跳动的水元素",camp:"enemy",race:"unknown",career:"melee",skills:[{key:"waterElement.waterArrow",level:0},{key:"waterElement.waterFlow",level:0},{key:"enemy.upgrade",level:0}],stunResist:3e3,maxHp:1e6,coldResist:8e3,fireResist:-2e3,atk:1500,atkSpeed:.4,exp:1e4,level:130,loots:[{key:"gold",count:[400,600],rate:1}]},{key:"shrine.nynnroth.shield",name:"定海圣殿",description:"增加怒气、能量、法力恢复速度3秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("nynnroth.shield",5e3);return this.kill(),!1}}]},329:e=>{e.exports=[{key:"chapter4.humans.thief",name:"小偷",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,atk:900,atkSpeed:.6,exp:450,level:140,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1}]},{key:"chapter4.humans.rogue",name:"流氓",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:14e4,exp:450,atk:900,level:140,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1}]},{key:"chapter4.humans.monster",name:"虚空行者",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:1e6,atk:1200,darkResist:2e3,lightResist:-2e3,atkSpeed:.4,level:145,skills:[{key:"darkElement.darkball",level:0},{key:"summon.earth.comeToMe",level:0}],loots:[]},{key:"chapter4.humans.seck",name:"罗兰·赛克",description:"手黑党的领袖",camp:"enemy",race:"unknown",career:"melee",maxHp:12e5,maxMp:1e3,mpRecovery:20,hpRecovery:2e3,exp:1500,atk:2e3,darkResist:2e3,lightResist:-2e3,def:500,level:150,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter4.humans.seck.summonDarkSoul",level:0},{key:"enemy.upgrade",level:0}],loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.women",name:"魅魔",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:1e6,atk:2e3,darkResist:2e3,lightResist:-2e3,atkSpeed:.4,level:145,skills:[{key:"melee",level:0},{key:"chapter4.humans.women.thumpHead",level:0}],loots:[]},{key:"chapter4.humans.seck1",name:"罗兰·赛克",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",maxHp:12e5,maxMp:1e3,mpRecovery:20,hpRecovery:2e3,exp:1500,atk:2e3,darkResist:2e3,lightResist:-2e3,def:500,level:150,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter4.humans.seck.summonWomen",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0}],loots:[{key:"gold",count:[500,1e3],rate:1}]}]},3526:e=>{e.exports=[{key:"chapter4.humans.soldier",name:"士兵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:12e4,atk:1200,atkSpeed:.6,exp:450,level:154,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.musketeer",name:"火枪手",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,atk:900,atkSpeed:.8,critRate:.3,critBonus:2.5,exp:450,level:156,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.mortar",name:"迫击炮",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:2e5,exp:450,atk:2500,level:158,atkSpeed:.2,skills:[{key:"melee.aoe",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"chapter4.westRolan1":4,"chapter4.westRolan2":2,"chapter4.sanAnthony1":2,"chapter4.sanAnthony2":1}}]},{key:"chapter4.humans.knights.dare",name:"英勇骑士达尔",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",maxHp:15e5,maxRp:100,rpOnAttack:10,rpOnAttacked:1,exp:1500,atk:2e3,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"meleeForRage",level:4},{key:"thump",level:2},{key:"mortalStrike",level:5},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.light",name:"光明骑士莱特",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",maxHp:15e5,exp:1500,atk:1500,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"knight.melee",level:4},{key:"knight.glory.enemy",level:0},{key:"enemy.upgrade",level:0}],hooks:{displayCpBar:(e,t)=>!0},stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.blood",name:"鲜血骑士布莱德",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",maxHp:15e5,exp:1500,atk:1500,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"knight.sacrifice",level:4},{key:"knight.thump",level:2},{key:"enemy.upgrade",level:0}],stunResist:4e3,hooks:{displayCpBar:(e,t)=>!0},loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.sanction",name:"制裁骑士山新",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",maxHp:15e5,exp:1500,atk:2e3,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"swordSkill",level:4},{key:"knight.kick",level:0},{key:"knight.thumpHead.enemy",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.knights.rage",name:"全能骑士雷格",description:"手黑党的领袖，丫用灵魂石复活了",camp:"enemy",race:"unknown",career:"melee",maxHp:15e5,maxRp:100,rpRecovery:1,rpOnAttack:10,rpOnAttacked:3,exp:1500,atk:2e3,def:500,allResist:500,level:160,atkSpeed:.4,skills:[{key:"cleave",level:4},{key:"thump",level:2},{key:"shockWave",level:0},{key:"commandShout",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,loots:[{key:"gold",count:[500,1e3],rate:1}]}]},7347:e=>{e.exports=[{key:"chapter4.humans.trigger.1",name:"神秘的把手",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("机关被触动了。一阵令人牙酸的声音之后，下水道的入口显现了出来。"),!1}},{key:"chapter4.humans.trigger.2",name:"下水道",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),!1}},{key:"chapter4.humans.trigger.3.1",name:"未知的机关",description:"真正通过的机关。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units)t.type&&t.type.indexOf("chapter4.humans.trigger.3")>=0&&t.kill(!1);return e.sendGeneralMsg("你触发了一个看起来很危险的机关，所有其它的机关都消失了。"),!1}},{key:"chapter4.humans.trigger.3.2",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(),e.sendGeneralMsg("这个机关看起来没有任何作用。"),!1}},{key:"chapter4.humans.trigger.3.3",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){this.kill();for(const t of e.units)t.type&&t.type.indexOf("chapter4.humans.trigger")>=0||e.sendDamage("real",this,t,{name:"爆炸"},.7*t.maxHp);return!1}},{key:"chapter4.humans.trigger.3.4",name:"未知的机关",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",maxHp:4e5,onPress(e){return this.transformType("chapter4.humans.trigger.4"),!1}},{key:"chapter4.humans.trigger.4",name:"活动的机关",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:4e5,atk:6e3,atkSpeed:1.5,level:156,skills:[{key:"melee",level:0}]},{key:"chapter4.humans.boss.fearas",name:"菲尔斯男爵",description:"地精刺客",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,exp:1800,atk:3e3,level:170,atkSpeed:1,skills:[{key:"melee",level:0},{key:"enemy.fearas.summonTrigger",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1}]},{key:"chapter4.humans.trigger.5.1",name:"安全牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:1e3,skills:[{key:"enemy.fearas.bomb",level:0}],onPress(e){for(const t of e.units)this.canAttack(t)&&e.sendDamage("fire",this,t,{name:"爆炸"},1e4);return this.kill(!1),e.sendGeneralMsg("你试图解除安全牌地雷的时候，地雷反而爆炸的更厉害了。"),!1}},{key:"chapter4.humans.trigger.5.2",name:"哑炮牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:1e4,skills:[{key:"enemy.fearas.bomb1",level:0}],onPress(e){for(const t of e.units)this.canAttack(t)&&(t.breakCasting(),t.stun(3,"stunned"));return this.kill(!1),e.sendGeneralMsg("哑炮牌地雷释放了一阵烟雾，你一时动弹不得。"),!1}},{key:"chapter4.humans.trigger.5.3",name:"科学牌地雷",description:"将在3秒后爆炸。",camp:"neutral",race:"unknown",career:"melee",atk:6e3,skills:[{key:"enemy.fearas.bomb",level:0}],onPress(e){return this.kill(!1),e.sendGeneralMsg("科学牌地雷被解除后，很科学的停止了工作。"),!1}},{key:"chapter4.humans.trigger.5.4",name:"机械松鼠",description:"额，拿错了。",camp:"alien",race:"unknown",career:"melee",skills:[{key:"enemy.fearas.bomb2",level:0}]},{key:"chapter4.humans.trigger.6",name:"牢笼控制台",description:"真正通过的机关。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),!1}},{key:"chapter4.humans.boss.milhous",name:"米尔豪斯·法力风暴",description:"侏儒法师",camp:"alien",race:"unknown",career:"melee",maxHp:1e6,exp:1800,atk:2500,level:170,maxMp:5e3,mpRecovery:100,atkSpeed:1,skills:[{key:"fireBall",level:0},{key:"iceArrow",level:0},{key:"windBlade",level:10},{key:"burning",level:0},{key:"iceNova",level:0},{key:"iceLance",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1}],onPress(e){const t=this.buffs.find((e=>"enemy.evil.control"===e.type));t&&this.removeBuff(t)}},{key:"chapter4.humans.boss.evil",name:"上古邪恶",description:"地精刺客",camp:"enemy",race:"unknown",career:"melee",maxHp:5e6,exp:1800,atk:5e3,def:-1e3,allResist:-1e3,darkResist:8e3,lightResist:-8e3,level:170,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"enemy.evil.reading1",level:0},{key:"enemy.evil.control",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1}]}]},1088:e=>{e.exports=[{key:"chapter4.orcs.warrior",name:"兽人战士",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:1e5,atk:1e3,atkSpeed:.4,exp:300,level:134,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[30,80],rate:1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter3.auran4":4,"chapter4.westRolan1":2,"chapter4.westRolan2":1}}]},{key:"chapter4.orcs.hunter",name:"兽人驯狼师",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:12e4,maxEp:50,epRecovery:2,exp:450,atk:600,level:136,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"orcs.summonWolf",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[30,80],rate:1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"chapter3.auran4":4,"chapter4.westRolan1":2,"chapter4.westRolan2":1}}]},{key:"chapter3.orcs.wolf",name:"野狼",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:5e4,atk:600,atkSpeed:.6,level:130,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[]},{key:"chapter3.orcs.totem",name:"治疗图腾",description:"",camp:"neutral",race:"unknown",career:"melee",maxHp:3e4,atk:1200,atkSpeed:.6,level:126,skills:[{key:"totem.heal",level:0}],affixes:{stronger:2,faster:1,recover:.5},loots:[]},{key:"chapter3.orcs.shaman",name:"萨布罗·霜狼",description:"兽人霜狼氏族领袖",camp:"enemy",race:"unknown",career:"melee",maxHp:12e5,hpRecovery:1500,exp:1800,atk:1e3,level:140,lightningResist:500,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.chainingLightning",level:0},{key:"orcs.summonHealToken",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[500,1e3],rate:1}]}]},6242:e=>{e.exports=[{key:"chapter5.daughter.monster1",name:"黑暗之灵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,atk:600,atkSpeed:.4,def:50,allResist:50,exp:700,level:194,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster2",name:"孤独之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:194,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"chapter5.daughter.monster2",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster3",name:"疼痛之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:196,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.evil.reading1",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster4",name:"惊悸之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:196,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"chapter5.daughter.monster4",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster5",name:"寒冷之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:198,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.iceball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.monster6",name:"饥饿之灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,allResist:50,exp:700,atk:1500,level:198,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"chapter4.humans.seck.healthDrill",level:20}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[180,250],rate:.5},{type:"equip",rate:.15,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer6":1}}]},{key:"chapter5.daughter.badGiant",name:"吃小孩的巨人",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:4e6,def:50,allResist:50,exp:3e3,atk:5e3,level:200,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0},{key:"shockWave",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[850,1800],rate:1}]},{key:"chapter5.daughter.amira",name:"艾米拉",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:4e6,def:200,allResist:200,darkResist:1e3,lightResist:-1e3,exp:3e3,atk:3e3,level:200,atkSpeed:.4,speedRate:1.5,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter5.daughter.monster2",level:0},{key:"enemy.evil.reading1",level:0},{key:"chapter5.daughter.monster4",level:0},{key:"shaman.iceball",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[850,1800],rate:1}]}]},8002:e=>{e.exports=[{key:"chapter5.undead.ghost",name:"受折磨的灵魂",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:125e3,atk:400,atkSpeed:.4,allResist:50,exp:500,level:174,skills:[{key:"shaman.darkball",level:0},{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[75,200],rate:1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer2":1}}]},{key:"chapter5.undead.zombie",name:"不安份的尸体",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:15e4,def:50,exp:550,atk:1e3,level:176,atkSpeed:.4,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,20],rate:1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"chapter5.byer2":1}}]},{key:"chapter5.necromancer",name:"邪恶法师奈布",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:4e6,hpRecovery:500,exp:1800,atk:3500,darkResist:2e3,lightResist:-5e3,level:180,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"chapter4.humans.seck.healthDrill",level:0},{key:"enemy.upgrade",level:0},{key:"zombie.hide",level:0}],stunResist:5e3,affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[700,1500],rate:1}]}]},4102:e=>{e.exports=[{key:"chapter5.woodElf.crazy",name:"发疯的木灵",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:175e3,atk:1200,atkSpeed:.4,allResist:50,exp:550,level:184,skills:[{key:"melee",level:0},{key:"simba.thumpHead",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[150,200],rate:1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.001,dungeons:{"chapter5.byer4":1}}]},{key:"chapter5.woodElf.sad",name:"悲痛过度的木灵",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e4,def:50,exp:650,atk:1500,level:186,atkSpeed:.4,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[150,300],rate:1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.001,dungeons:{"chapter5.byer4":1}}]},{key:"chapter5.woodElf.shamansa",name:"暴食的萨曼莎",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,hpRecovery:2500,exp:2400,atk:7500,level:190,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0},{key:"shamansa.spew",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[700,1500],rate:1}]},{key:"chapter5.woodElf.arms",name:"恐怖的残肢",description:"",camp:"enemy",race:"unknown",career:"melee",maxHp:75e3,atk:1200,atkSpeed:.4,allResist:50,level:180,skills:[{key:"melee",level:0}]},{key:"chapter5.woodElf.rosa",name:"懒惰的罗莎",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:4e6,hpRecovery:2500,exp:2400,atk:9e3,level:190,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"rosa.sleepy",level:0},{key:"rosa.angry",level:0},{key:"enemy.upgrade",level:0}],stunResist:5e3,loots:[{key:"gold",count:[700,1500],rate:1}]}]},7635:e=>{e.exports=[{key:"kakarif.generations",name:"卡卡列夫的后代",description:"一团燃烧着的火元素",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:30,atk:20,fireAbsorb:1.2,level:45,atkSpeed:.4,skills:[{key:"fireElement.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,25],rate:.1}]},{key:"kakarif.servants",name:"卡卡列夫的仆从",description:"一种来自火元素位面的蛇形生物",camp:"enemy",race:"unknown",career:"melee",fireAbsorb:.3,maxHp:750,exp:30,atk:25,level:45,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"fireElement.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1}]},{key:"kakarif.illusion",name:"卡卡列夫的幻象",description:"一人高的元素生物，灼热的气浪迎面而来",camp:"enemy",race:"unknown",career:"melee",maxHp:7500,fireAbsorb:1,hpRecovery:20,exp:1200,atk:40,level:50,atkSpeed:.5,skills:[{key:"kakarif.melee",level:0},{key:"kakarif.mad",level:0}],affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[50,150],rate:.25}]}]},9580:(e,t,n)=>{e.exports=[...n(7964),...n(2245),...n(1926),...n(7635),...n(1320),...n(2282),...n(1011),...n(5e3),...n(5353),...n(8110),...n(6720),...n(3973),...n(7072),...n(1088),...n(329),...n(3526),...n(7347),...n(7562),...n(9431),...n(8497),...n(4697),...n(2175),...n(9536),...n(9370),...n(8057),...n(3788),...n(8002),...n(4102),...n(6242),...n(3023)]},2282:e=>{e.exports=[{key:"knight.normal",name:"圣殿骑士",description:"一团燃烧着的火元素",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:30,atk:20,def:200,level:65,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shieldShock",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,25],rate:.1},{type:"equip",rate:.1,mfRate:1}]},{key:"knight.prayer",name:"圣殿牧师",description:"一种来自火元素位面的蛇形生物",camp:"enemy",race:"unknown",career:"melee",maxHp:750,exp:30,atk:10,level:65,def:100,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"knight.heal",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,35],rate:.1},{type:"equip",rate:.15,mfRate:1.5}]},{key:"knight.leader",name:"骑士队长卡罗",description:"一人高的元素生物，灼热的气浪迎面而来",camp:"enemy",race:"unknown",career:"melee",maxHp:1e4,def:300,exp:1200,atk:50,level:70,atkSpeed:.5,skills:[{key:"melee",level:0},{key:"knight.shout",level:0},{key:"knight.reflect",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[50,150],rate:.25}]}]},1926:e=>{e.exports=[{key:"kobold.miner",name:"狗头人矿工",description:"狗头人居然长这么多的胡子，有点萌。😊",camp:"enemy",race:"unknown",career:"melee",maxHp:350,atk:10,atkSpeed:.4,exp:20,level:34,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.2},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"town.woods":4,"town.mine.2":2,"town.mine.3":1}}]},{key:"kobold.shaman",name:"狗头人萨满",description:"会玩火的狗头人，还是好萌。🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:500,exp:40,atk:10,level:36,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.fireball",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,10],rate:.2},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"town.woods":4,"town.mine.2":2,"town.mine.3":1}}]},{key:"kobold.candle",name:"安全牌蜡烛",description:"一根蜡烛。",camp:"neutral",race:"unknown",career:"melee",maxHp:10,exp:0,atk:80,level:1,atkSpeed:.4,skills:[{key:"bomb",level:0}],onPress(e){return this.kill(),!1},affixes:{stronger:2},loots:[]},{key:"kobold.goldteeth",name:"金牙",description:"狗头人的大王，最萌了~ 🔥",camp:"enemy",race:"unknown",career:"melee",maxHp:3e3,hpRecovery:15,exp:800,atk:50,level:40,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"candle.call",level:0}],affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[5,100],rate:1}]}]},1011:e=>{e.exports=[{key:"muzhuang",name:"训练木桩",description:"   ",camp:"enemy",race:"unknown",career:"melee",maxHp:1e18,atk:1,atkSpeed:.2,exp:1,level:250,skills:[{key:"melee",level:0}],loots:[{key:"gold",count:[999999,999999],rate:1},{key:"diamonds",rate:1,count:[1,1]}]}]},4697:e=>{e.exports=[{key:"shrine.heal",name:"生命圣殿",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.hp+=.6*t.maxHp;return this.kill(),!1}},{key:"shrine.energy",name:"能量圣殿",description:"增加怒气、能量、法力恢复速度30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.energy",3e4);return this.kill(),!1}},{key:"shrine.power",name:"威能圣殿",description:"增加所有造成的伤害30秒。",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units.filter((e=>"player"===e.camp||"alien"===e.camp)))t.addBuff("shrine.power",3e4);return this.kill(),!1}}]},9536:e=>{e.exports=[{key:"silver.assassin.trigger.1",name:"隐秘的记号",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("白鲸，请刺杀目标人物。比目鱼。"),!1}},{key:"silver.assassin.boss.1",name:"体态优雅的贵族",description:"远古野蛮人",camp:"neutral",race:"unknown",career:"melee",maxHp:2e5,exp:1800,atk:15e3,level:160,atkSpeed:.4,skills:[],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.assassin.boss.1.summon",name:"保镖",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:2e7,exp:1800,atk:1e6,level:160,atkSpeed:.4,skills:[{key:"melee",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.assassin.trigger.2",name:"奇怪的门",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){this.kill(!1),e.sendGeneralMsg("当心！");const t={name:"射出的弩箭"};for(let n=0;n<3;n++)e.testDodge(this,e.playerUnit,t)||e.sendDamage("real",this,e.playerUnit,t,1e5);return!1}},{key:"silver.assassin.trigger.3",name:"通道",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("寇马克：刺客！你逃不掉了！"),!1}},{key:"silver.assassin.boss.3",name:"寇马克",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:5e6,def:100,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]}]},3788:e=>{e.exports=[{key:"silver.knight.trigger.1",name:"祷告台",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("卡罗兰：年轻的骑士，我感觉到了你内心深处的迷惘。不要躲避它，勇敢的面对。"),!1}},{key:"silver.knight.boss.1",name:"你内心的迷惘",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:3e6,exp:1800,atk:15e3,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"shaman.darkball",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.knight.trigger.2",name:"祷告台",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("卡罗兰：年轻的骑士，我知道你的迷惘来自何处了。在你年幼的时候，你的家乡曾经被铁蹄践踏，整个村子的人都被屠杀一尽，只有前往森林砍柴的你幸免于难，后来你是怎么做的呢？"),!1}},{key:"silver.knight.boss.2",name:"面容模糊的敌人",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:3e6,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.knight.trigger.3",name:"祷告台",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("卡罗兰：是的，你的刀刃染上了敌人的鲜血，当敌人在你面前惨叫、哭嚎时，你突然开始怀疑，你的所作所为是否是正确的，你是否已经成为了你自己曾经最痛恨的人了呢……？"),!1}},{key:"silver.knight.boss.3",name:"心中的邪念",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:5e6,def:100,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.knight.trigger.4",name:"祷告台",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("卡罗兰：年轻的骑士，我想你已经认清了正义和邪恶的区别，坚定了自己内心的信念。如果你再一次感到迷茫，请再来找我，我会为你指明方向。"),!1}}]},9370:e=>{e.exports=[{key:"silver.sorceress.trigger.1",name:"奥术能量核心",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("麦迪文的回响：魔法的奥秘无穷无尽，但也蕴含着无穷的危险。你是否能面对并掌控这种危险呢？"),!1}},{key:"silver.sorceress.boss.1",name:"奥术能量核心",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:3e6,exp:1800,atk:15e3,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"silver.sorceress.boss.1.bolt",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.sorceress.trigger.2",name:"书架",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("麦迪文的回响：知识蕴含着无穷的力量，却也成为了无数法师的牢笼。面对知识的困境，你会如何处理呢？"),!1}},{key:"silver.sorceress.boss.2",name:"飞舞的书籍",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:5e5,fireResist:-40,exp:180,atk:5e3,level:160,atkSpeed:.4,skills:[{key:"melee",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[50,100],rate:1},{type:"equip",rate:.1,mfRate:2}]},{key:"silver.sorceress.trigger.3",name:"法阵",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("麦迪文的回响：哦？聪明的办法。但是真正的战斗没有捷径可言。面对真正的敌人吧！"),!1}},{key:"silver.sorceress.boss.3",name:"恐怖的怪物",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:5e6,def:100,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]}]},8057:e=>{e.exports=[{key:"silver.summoner.trigger.1",name:"火位面之门",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("小亚的声音：亚莲娜，元素生物在艾希大陆被创造之前就已经存在的古老生物，其中的火元素，代表了毁灭，是世界的基石之一。"),!1}},{key:"silver.summoner.boss.1",name:"暴躁的火元素",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",fireAbsorb:1,maxHp:3e6,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"kakarif.melee",level:0},{key:"fireElement.fireball",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.summoner.trigger.2",name:"水位面之门",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("小亚的声音：水元素大都在大海中活动，所以在陆地上看起来很笨拙。但是它的危险程度却一点都不低！"),!1}},{key:"silver.summoner.boss.2",name:"流动的水元素",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:3e6,coldAbsorb:1,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"waterElement.waterArrow.notBreakable",level:0},{key:"fishzilla.bomb",level:0},{key:"iceNova",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.summoner.trigger.3",name:"土位面之门",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("小亚的声音：火位面和水位面都不适合生存，但土位面也没有好到哪里去……漫天的沙尘不知不觉的侵蚀你的心肺，呆久了甚至会被土元素同化。"),!1}},{key:"silver.summoner.boss.3",name:"沉重的土元素",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:5e6,def:100,exp:1800,atk:15e3,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]}]},2175:e=>{e.exports=[{key:"silver.warrior.trigger.1",name:"坚毅试炼之座",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("科力克：年轻的战士，你是否具备足够的毅力，承担永恒无尽的责任呢？"),!1}},{key:"silver.warrior.boss.1",name:"科力克",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:3e6,exp:1800,atk:15e3,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"knight.thumpHead.enemy",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.warrior.trigger.2",name:"勇气试炼之座",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("科力克：年轻的战士，我已经看到了你的决心，但你是否具备足够的勇气，面对千军万马的战斗呢？"),!1}},{key:"silver.warrior.boss.2",name:"马道克",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:3e6,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]},{key:"silver.warrior.trigger.3",name:"技巧试炼之座",description:"生命圣殿。",camp:"shrine",race:"unknown",career:"melee",onPress(e){return this.kill(!1),e.sendGeneralMsg("塔里克：年轻的战士，我很欣赏你的勇气，但是如果缺乏技艺，勇气就等同于鲁莽。那么，你究竟是否准备好了呢？"),!1}},{key:"silver.warrior.boss.3",name:"塔里克",description:"远古野蛮人",camp:"enemy",race:"unknown",career:"melee",maxHp:5e6,def:100,exp:1800,atk:1e4,level:160,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0}],stunResist:4e3,affixes:{stronger:1},loots:[{key:"gold",count:[500,1e3],rate:1},{type:"equip",rate:1,mfRate:2}]}]},7964:e=>{e.exports=[{key:"slime.minimal",name:"小史莱姆",description:"黏糊糊的一团，是被黑暗之力操控的最原始的生物，不断吞噬周遭的物体。",camp:"enemy",race:"unknown",career:"melee",maxHp:15,atk:.5,atkSpeed:.2,exp:2,level:8,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,5],rate:.1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"town.cave2":1}}]},{key:"slime.giant",name:"大史莱姆",description:"黏糊糊的一大团，缓慢的蠕动着，透过身体还能看到未消化的东西。",camp:"neutral",race:"unknown",career:"melee",maxHp:30,exp:3,atk:2,level:12,atkSpeed:.25,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"town.cave2":1}}]},{key:"slime.giant.enemy",name:"大史莱姆",description:"黏糊糊的一大团，缓慢的蠕动着，透过身体还能看到未消化的杂物。",camp:"enemy",race:"unknown",career:"melee",maxHp:30,exp:3,atk:1,level:16,atkSpeed:.25,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"town.cave2":1}}]},{key:"slime.queen",name:"母体史莱姆",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:500,def:100,exp:50,atk:5,level:20,atkSpeed:.1,skills:[{key:"melee",level:0},{key:"slime.swallow",level:0}],loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}]},3023:e=>{e.exports=[{key:"soul_karon",name:"百鬼之王·卡隆",description:"百鬼之王·卡隆",camp:"enemy",race:"unknown",career:"melee",maxHp:8e6,hpRecovery:8e4,maxMp:9999999999,mpRecovery:9999999999,def:2e3,allResist:2e3,darkResist:99999,lightResist:-99999,exp:1,atk:5e3,level:300,atkSpeed:1,stunResist:4e4,skills:[{key:"soul_7",level:50},{key:"soul_iceplus",level:50},{key:"karon_dark_jige",level:50},{key:"karon_tombstoneplus",level:50},{key:"soul_darkfire",level:50},{key:"ghost_puncture",level:50},{key:"soul_poison",level:50},{key:"soul_ice",level:50},{key:"soul_shadow",level:50},{key:"ghost_fury",level:50},{key:"soul_weak",level:50},{key:"karon_tombstone",level:50},{key:"soul_armor",level:50},{key:"ghost_whip",level:50},{key:"moonlight_slash",level:50},{key:"soul_power",level:50},{key:"onikiri",level:50},{key:"jige_atk",level:50}],loots:[{key:"gold",count:[1,1],rate:1}]}]},7562:e=>{e.exports=[{key:"summon.assassin.puppet",name:"活动假人",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,skills:[{key:"summon.puppet.comeToMe",level:0}],hooks:{maxHp(e,t){return this.summoner?.5*this.summoner.maxHp:0}}}]},9431:e=>{function t(e){return e<=60?.3*e+1:e<=70?.5*e+1-6:void 0}const n=[{key:"summon.element.slime",name:"~史莱姆~",description:"一团跳动的火焰",camp:"player",race:"unknown",career:"melee",maxHp:10,def:2e3,fireResist:-2e3,meleeAbsorb:.5,skills:[{key:"melee",level:0}],v2Skills:[{key:"melee",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.meleeAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"melee",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summon_slime");return this.summoner.maxHp**(1+r/10)},atk(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summon_slime");return Math.round(this.summoner.int/2+r)}}},{key:"summon.element.fire",name:"火焰精灵",description:"一团跳动的火焰",camp:"player",race:"unknown",career:"melee",maxHp:10,fireAbsorb:1.2,skills:[{key:"fireElement.fireball",level:0}],v2Skills:[{key:"fireElement.flameStrike",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.fireAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"fire",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonFire");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonFire");return 5*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner.def}}},{key:"summon.element.water",name:"水元素",description:"一团滚动的水元素",camp:"player",race:"unknown",career:"melee",maxHp:10,iceAbsorb:1.2,skills:[{key:"waterElement.waterArrow",level:0},{key:"iceNova",level:0}],v2Skills:[{key:"fishzilla.bomb",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.coldAbsorb<1,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"water",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonWater");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonWater");return 4*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner?2*this.summoner.def:0}}},{key:"summon.element.earth",name:"岩石傀儡",description:"坚固的岩石傀儡",camp:"player",race:"unknown",career:"melee",maxHp:10,atkSpeed:.666,def:100,skills:[{key:"melee",level:0},{key:"summon.earth.comeToMe",level:0}],v2Skills:[{key:"earthElement.recovery",level:0},{key:"summon.puppet.comeToMe",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"melee",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonEarth");return.4*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonEarth");return 6*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return this.summoner?5*this.summoner.def:0}}},{key:"summon.element.lightning",name:"闪电风暴",description:"一团跳动的闪电",camp:"player",race:"unknown",career:"melee",maxHp:10,lightningAbsorb:1.2,skills:[{key:"lightningElement.chainingLightning",level:0}],v2Skills:[{key:"lightningElement.stunAll",level:0}],hooks:{speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},willAttack:(e,t,n)=>t&&n.lightningAbsorb<.5,willDamage(e,t,n,r){return this.summoner?this.summoner.runAttrHooks(t,"summonerWillDamage",this,n,r):t},elementType:(e,t)=>"lightning",maxHp(e,t){if(!this.summoner)return 0;const{player:n}=this.summoner,r=n.getSkillLevel("summonLightning");return.2*this.summoner.maxHp*(1+r/10)},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},atk(e,n){if(!this.summoner)return 0;const{player:r}=this.summoner,i=r.getSkillLevel("summonLightning");return 5*t(r.level)*(.01*this.summoner.int+1)*(.3*i+1)*this.summoner.dmgAdd},def(e,t){return 2*this.summoner.def}}}],r=n.map((e=>({...e,key:e.key+".2",name:"II型"+e.name,skills:[...e.skills,...e.v2Skills]})));e.exports=[...n,...r]},8497:e=>{e.exports=[{key:"summon_tombstone",name:"墓碑",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,skills:[{key:"tombstone_boom",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("tombstone")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.05*this.summoner.maxHp:1}}},{key:"summon_tombstoneplus",name:"坟头",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,allResist:2e3,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"tombstoneplus_skill1",level:0},{key:"tombstoneplus_skill2",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("tombstoneplus")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.1*this.summoner.maxHp:1}}},{key:"summon_jige",name:"神官吉哥",description:"哈哈哈哈，来打我啊",camp:"alien",race:"unknown",career:"melee",maxHp:10,maxMp:9999999,mpRecovery:99999,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"jige_atk",level:25},{key:"onikiri",level:25},{key:"tombstone",level:25},{key:"tombstoneplus_skill2",level:0}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},def(e,t){if(!this.summoner)return 1;const{player:n}=this.summoner;return n.getSkillLevel("dark_jige")},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?this.summoner.maxHp:1}}},{key:"karon_summon_tombstone",name:"墓碑",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,skills:[{key:"tombstone_boom",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.05*this.summoner.maxHp:1}}},{key:"karon_summon_tombstoneplus",name:"坟头",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,allResist:2e3,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"tombstoneplus_skill1",level:50},{key:"tombstoneplus_skill2",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?.1*this.summoner.maxHp:1}}},{key:"karon_summon_jige",name:"神官吉哥",description:"哈哈哈哈，来打我啊",camp:"enemy",race:"unknown",career:"melee",maxHp:10,def:50,maxMp:9999999,mpRecovery:99999,poisonResist:99999,darkResist:99999,lightResist:-99999,skills:[{key:"jige_atk",level:50},{key:"onikiri",level:50},{key:"karon_tombstone",level:50},{key:"tombstoneplus_skill2",level:50}],hooks:{atk(e,t){return this.summoner?this.summoner.atk:0},speedRateAdd(e,t,n){return this.summoner?this.summoner.runAttrHooks(t,"speedRateAdd"):t},critRate(e,t){return this.summoner?this.summoner.critRate:0},critBonus(e,t){return this.summoner?this.summoner.critBonus:0},darkdmgAdd(e,t){return this.summoner?this.summoner.darkdmgAdd:0},maxHp(e,t){return this.summoner?this.summoner.maxHp:1}}}]},2245:e=>{e.exports=[{key:"wolf.minimal",name:"幼狼",description:"山里的狼有这么多？看来大人们真的没有骗人。",camp:"enemy",race:"unknown",career:"melee",maxHp:100,atk:1.5,atkSpeed:.4,exp:5,level:24,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.1},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"town.cave2":2,"town.woods":1}}]},{key:"wolf.giant",name:"母狼",description:"你问我怎么分清是公是母的？小孩子不要问太多……",camp:"enemy",race:"unknown",career:"melee",maxHp:200,exp:10,atk:6,level:26,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"wolf.heal",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,20],rate:.1},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"town.cave2":2,"town.woods":1}}]},{key:"wolf.king",name:"狼王",description:"头顶有一撮白毛。据说这是最好的品种的象征",camp:"enemy",race:"unknown",career:"melee",maxHp:4e3,def:50,exp:200,atk:12,level:30,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"wolf.call",level:0}],loots:[{key:"gold",count:[1,200],rate:.25}]}]},1320:e=>{e.exports=[{key:"zombies.farmer",name:"农夫发狂",description:"两眼发红，口水流了一嘴，看起来极其可怕",camp:"enemy",race:"unknown",career:"melee",maxHp:450,atk:10,atkSpeed:.4,exp:20,level:54,skills:[{key:"melee",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[1,10],rate:.2},{type:"equip",rate:.1,mfRate:1},{type:"ticket",rate:.0015,dungeons:{"town.woods":4,"town.neighbourTown.2":3,"town.neighbourTown.3":1}}]},{key:"zombies.hammersmith",name:"铁匠发狂",description:"大哥，放下你手里的锤子！有话好好说！",camp:"enemy",race:"unknown",career:"melee",maxHp:600,exp:40,atk:30,level:56,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"zombie.thumpHead",level:0}],affixes:{stronger:2,faster:1,recover:1,yingpi:1,dead:1,magic:1,old:1},loots:[{key:"gold",count:[5,10],rate:.2},{type:"equip",rate:.15,mfRate:1.5},{type:"ticket",rate:.0015,dungeons:{"town.woods":4,"town.neighbourTown.2":3,"town.neighbourTown.3":1}}]},{key:"zombie.necromancer",name:"死灵法师奈布",description:"死灵法师头目",camp:"enemy",race:"unknown",career:"melee",maxHp:5e3,hpRecovery:15,exp:800,atk:0,level:60,atkSpeed:.4,skills:[{key:"zombie.heal",level:0},{key:"zombie.hide",level:0}],affixes:{stronger:2,faster:1,recover:.5},loots:[{key:"gold",count:[5,100],rate:1}]}]},77:e=>{e.exports=[{key:"stronger",name:"强壮的",hooks:{maxHpMul:(e,t)=>1.5*t}},{key:"faster",name:"快速的",hooks:{atkSpeedMul:(e,t)=>2*t}},{key:"recover",name:"自愈的",hooks:{hpRecovery(e,t){return t+.005*this.maxHp}}},{key:"yingpi",name:"硬皮的",hooks:{defAdd:(e,t)=>t+99999}},{key:"dead",name:"快嘎的",hooks:{maxHpMul:(e,t)=>.1*t}},{key:"magic",name:"抗魔的",hooks:{fireResist:(e,t)=>t+99999,coldResist:(e,t)=>t+99999,lightningResist:(e,t)=>t+99999,darkResist:(e,t)=>t+99999,lightResist:(e,t)=>t+99999}},{key:"old",name:"年迈的",hooks:{atkSpeedMul:(e,t)=>.1*t}}]},1862:(e,t,n)=>{e.exports=[...n(77)]},5642:e=>{e.exports=[{key:"assassin.sharp",name:"机敏信条",description:"增加25%闪避几率",hooks:{noDodgeRate:(e,t)=>.75*t}},{key:"assassin.speed",name:"迅捷信条",description:"增加25%基础能量恢复速度",hooks:{epRecovery:(e,t)=>1.25*t}},{key:"assassin.dexBeleive",name:"离经叛道",description:"增加15%法术吸收",hooks:{fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15}},{key:"assassin.protect",name:"自我保护",description:"每点敏捷也会为你增加1点物理防御值",hooks:{defAdd(e,t){return t+this.dex}}},{key:"assassin.atkFromStr",name:"刃击",description:"每点力量也会为你增加0.75%伤害",hooks:{atkAdd(e,t){return t+.0075*this.str}}},{key:"assassin.prevertDeath",name:"假死",description:"当你受到致命伤害时，阻挡该伤害，并恢复到10%的气血值，并在2秒内减少所受所有伤害的90%，该效果每30秒只能触发一次。",hooks:{damaged(e,t){return this.hp<=t?this.buffs.filter((e=>"assassin.prevertDeathCD"===e.type)).length>0?t:(this.hp=Math.max(this.hp,this.maxHp/10),this.addBuff("assassin.prevertDeathCD",3e4),this.addBuff("assassin.prevertDeath",2e3),0):t}}}]},6575:e=>{e.exports=[{key:"summonCount",name:"召唤大师",description:"每种元素可以多召唤一个。",hooks:{summonCount:(e,t)=>t+1}},{key:"longLive",name:"召唤技巧",description:"召唤物的持续时间延长10秒。",hooks:{summonTime:(e,t)=>t+1e4}},{key:"summonBack",name:"法力回流",description:"召唤物死亡时，恢复50%的技能消耗。",hooks:{summonBack:(e,t)=>!0}}]},787:(e,t,n)=>{e.exports=[...n(6413),...n(5928),...n(5642),...n(5494),...n(6575),...n(7985)]},5494:e=>{e.exports=[{key:"knight.protectBelieve",name:"守护信仰",description:"每有一点圣能，增加20%物理防御",hooks:{defMul(e,t){return t+.2*(this.comboPoint||0)}}},{key:"knight.attackBelieve",name:"惩戒信仰",description:"每有一点圣能，增加15%伤害",hooks:{atkAdd(e,t){return t+.15*(this.comboPoint||0)}}},{key:"knight.spirit",name:"骑士精神",description:"增加2点圣能上限",hooks:{maxComboPoint:(e,t)=>t+2}},{key:"knight.talking",name:"坐而论道",description:"每获得1点圣能，减少所有技能1秒冷却时间。",hooks:{holyCombo(e,t){for(const e of this.skills)e!==this&&e.reduceCoolDown(1e3*t);return t}}},{key:"knight.recharge",name:"信仰灌注",description:"每消耗1点圣能，有15%几率为你补充3点圣能",hooks:{postCostComboPoint(e,t){return Math.random()<.15*t&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(3,"maxComboPoint");for(let n=0;n<t;n++)e.runAttrHooks(null,"holyCombo");e.comboPoint=Math.min(n,e.comboPoint+t)}(this,3),t}}},{key:"knight.absorb",name:"巫师克星",description:"受到所有法术伤害减少40%",hooks:{fireAbsorb:(e,t)=>t+.4,coldAbsorb:(e,t)=>t+.4,darkAbsorb:(e,t)=>t+.4,lightningAbsorb:(e,t)=>t+.4}},{key:"knight.defense",name:"背水一战",description:"血量每损失1%，提升1%物理防御",hooks:{player_def(e,t){return t*(2-this.hp/this.maxHp)}}}]},5928:e=>{e.exports=[{key:"sorceress_enhance1",name:"能量亲和",description:"每秒恢复0.5%的法力值。",hooks:{mpRecovery(e,t){return t+.005*this.maxMp}}},{key:"sorceress_enhance2",name:"魔法铠甲",description:"每秒消耗（智力/5）点法力值，同时增加（智力）点物理防御和元素抗性。",hooks:{mpRecovery(e,t){return t-.2*this.int},defAdd(e,t){return t+this.int},allResAdd(e,t){return t+this.int}}},{key:"lv15_sorceress1_enhance1",name:"和弦",description:"施展“魔法连弹”将使你下一个元素法术的伤害提高20%，但任何类型的持续伤害不受影响。",hooks:{lv15_sorceress1_enhance1:()=>!0}},{key:"lv15_sorceress1_enhance2",name:"法力转化",description:"以减少50%法力值上限为代价，按照1:1的比例将减少的法力值上限转化为元素伤害。",hooks:{maxMpMul:(e,t)=>.5,firedmgLAdd(e,t){return t+this.maxMp},colddmgLAdd(e,t){return t+this.maxMp},lightningdmgLAdd(e,t){return t+this.maxMp}}},{key:"lv15_sorceress1_enhance3",name:"魔力激化",description:"每次施展伤害类的法术将额外消耗法力值上限2%的法力值，每额外消耗10点法力则造成的伤害提高1%，该效果在法力值低于20%时无法生效。",hooks:{lv15_sorceress1_enhance3:()=>!0}},{key:"thinking",name:"冥思",description:"每5秒恢复2.5%的气血值和法力值。",hooks:{hpRecovery(e,t){return t+.005*this.maxHp},mpRecovery(e,t){return t+.005*this.maxMp}}},{key:"soCold",name:"急冻",description:"你造成的寒冷效果有20%几率变为冻结效果。",hooks:{soCold:()=>.2}},{key:"flaming",name:"燃尽",description:"你的火焰法术造成的会心效果可以在接下来10秒内造成同等的持续伤害。新的燃尽效果会刷新旧效果的持续时间。",hooks:{flaming:()=>!0}},{key:"magicArtist",name:"法力交织",description:"每释放一个和上次技能不同系的技能，就增加10%的伤害，持续5秒",hooks:{magicArtist:()=>!0}},{key:"coldWeaken",name:"寒冷弱点",description:"对冰冷目标造成的伤害增加20%，对冻结目标造成的伤害增加40%。",hooks:{willDamage:(e,t,n)=>n.runAttrHooks(!1,"freezed")?1.4*t:n.runAttrHooks(!1,"cold")?1.2*t:t}},{key:"fireFrenzy",name:"烈焰狂热",description:"火球术可使你所有火焰法术的技能调息减少1秒",hooks:{fireFrenzy:()=>!0}},{key:"manaExchange",name:"法力转化",description:"每当你消耗法力值，就为你创建一个可吸收相同数值伤害的护盾。护盾的总数额不会超过你的气血值上限。",hooks:{postCostMp(e,t){const n=this.buffs.find((e=>"manaShield"===e.group)),r=t;return n?n.arg=Math.min(n.arg+r,this.maxHp):this.addBuff("manaShield",null,r,"manaShield"),t}}},{key:"coldAir",name:"冻气",description:"你的冰冷法术和效果将使敌人永久减速1%，最多叠加90层。",hooks:{coldAir:()=>!0}},{key:"fireRunner",name:"烈焰行者",description:"遇敌速度增加100%。"},{key:"lifeExchange",name:"气血值转化",description:"每损失1%气血值，就为你恢复1%法力值。"}]},7985:e=>{e.exports=[{key:"soulbringer_enhance1",name:"黑暗君王·布甲精通",description:"根据穿戴的布甲品质等级提升属性。每级提升0.5智力、4闪避值、0.05法力值恢复、3暗抗性，但自身的光抗性同时减少2。",hooks:{intAdd(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+.5*n},shanbizhiAdd(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+4*n},mpRecovery(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+.05*n},darkResist(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),t+3*n},lightResist(e,t){let n=0;const{plastron:r,gaiter:i}=this.player.equipments;return r.empty||(n+=r.level),i.empty||(n+=i.level),Math.max(t-2*n,0)}}},{key:"soulbringer_enhance2",name:"鬼斩·噬魂",description:"“鬼斩”的伤害+30%，造成伤害后提高（技能等级×10）力量、智力，持续4秒。",hooks:{soulbringer_enhance2:(e,t)=>1.3}},{key:"soulbringer_enhance3",name:"凭依",description:"普通攻击转变为暗属性伤害，且伤害提高50%，攻击目标数+2。",hooks:{soulbringer_enhance3:(e,t)=>!0}},{key:"soulbringer_enhance4",name:"黑暗降临",description:"鬼神·虚弱的力量将使所有目标额外减少（技能等级×200）暗抗性。",hooks:{soulbringer_enhance4:(e,t)=>!0}},{key:"soulbringer_enhance5",name:"黑暗光环",description:"鬼神·铠甲的力量将使自身暗伤害+（技能等级×1%）。",hooks:{soulbringer_enhance5:(e,t)=>!0}},{key:"soulbringer_enhance6",name:"封印解除",description:"鬼神系列技能的技能效果提高10级，可突破等级上限的限制。",hooks:{soulbringer_enhance6:(e,t)=>10}}]},6413:e=>{e.exports=[{key:"warrior_enhance1",name:"坚韧",description:"物理防御+300，元素（火焰、寒冷、闪电）抗性+100",hooks:{defAdd:(e,t)=>t+300,allResAdd:(e,t)=>t+100}},{key:"warrior_enhance2",name:"奋勇",description:"攻击力+20",hooks:{atk_self_Add:(e,t)=>t+20}},{key:"lv15_warrior_enhance1",name:"生存技巧",description:"“伤口包扎”恢复的生命值×2",hooks:{lv15_warrior_enhance1_time:(e,t)=>2}},{key:"lv15_warrior_enhance2",name:"武器掌握",description:"攻击力+20%",hooks:{atk_Add(e,t){return t+.2*this.atk_self}}},{key:"lv15_warrior_enhance3",name:"联防",description:"施展“钢铁之躯”时，额外增加等量的元素抗性",hooks:{lv15_warrior_enhance3_time:(e,t)=>!0}},{key:"lv35_warrior1_enhance1",name:"剑花",description:"施展“斩击”有20%几率触发“剑花”效果，对目标额外造成80%的物理伤害",hooks:{lv35_warrior1_enhance1_time:(e,t)=>!0}},{key:"lv35_warrior1_enhance2",name:"克敌",description:"对受“断筋”效果影响的目标造成的伤害提高30%",hooks:{lv35_warrior1_enhance2_time:(e,t)=>!0}},{key:"lv35_warrior1_enhance3",name:"火焰之舞",description:"施展“元素附魔·火”额外使下一个“旋风斩”变为火焰伤害，并对目标添加一层“灼烧”效果。灼烧：每3秒受到20%攻击力的火焰伤害，持续15秒，可叠加。",hooks:{lv35_warrior1_enhance3_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance1",name:"火锤",description:"施展“重斩”将使目标受到的火焰伤害+50%，持续12秒。",hooks:{lv80_warrior1_enhance1_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance2",name:"借力打力",description:"格挡概率提高至30%，成功格挡后将施展一次“旋风斩”。",hooks:{lv80_warrior1_enhance2_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance3",name:"元素掌控",description:"“元素附魔·火”的效果不再因为施展技能而被消耗，且可以维持10秒。",hooks:{lv80_warrior1_enhance3_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance4",name:"越战越勇",description:"每点怒气使“重斩”、“炎龙吐息”造成的伤害增加0.5%。",hooks:{lv80_warrior1_enhance4_time:(e,t)=>!0}},{key:"lv80_warrior1_enhance5",name:"星火",description:"每次施展“斩击”造成火焰伤害，可以额外获得2点怒气，并使“炎龙吐息”的冷却时间减少1秒。",hooks:{lv80_warrior1_enhance5_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance1",name:"追击",description:"“重斩”命中目标后，有50%立即对目标施展一次额外的“斩击”。",hooks:{lv80_warrior2_enhance1_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance2",name:"借力打力",description:"格挡概率提高至30%，成功格挡后将立即施展一次额外的“斩击”。",hooks:{lv80_warrior2_enhance2_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance3",name:"剑术专精",description:"触发“剑花”效果后不再造成额外伤害，而是对目标再施展一次额外的“斩击”，可重复触发。",hooks:{lv80_warrior2_enhance3_time:(e,t)=>!0}},{key:"lv80_warrior2_enhance4",name:"冷静",description:"当怒气小于50点时，攻击力+30%",hooks:{atk_Add(e,t){return this.rp<50?t+1.3*this.atk_self:t}}},{key:"lv80_warrior2_enhance5",name:"蓄剑势",description:"施展“连斩姿态”将立即重置“无敌斩”的冷却时间。",hooks:{lv80_warrior2_enhance5_time:(e,t)=>!0}},{key:"lv35_warrior2_enhance1",name:"生生不息",description:"“气血激增”的效果提高100%。",hooks:{lv35_warrior2_enhance1_time:(e,t)=>2}},{key:"lv35_warrior2_enhance2",name:"金石之躯",description:"“钢铁之躯”的效果提高100%。",hooks:{lv35_warrior2_enhance2_time:(e,t)=>2}},{key:"lv35_warrior2_enhance3",name:"以攻代守",description:"“断筋”的减速效果提高至50%。",hooks:{lv35_warrior2_enhance3_time:(e,t)=>.5}},{key:"lv35_warrior2_enhance4",name:"不屈意志",description:"每损失1点气血值，增加1点物理防御、1点元素（火焰、寒冷、闪电）抗性。",hooks:{defselfAdd(e,t){return t+(this.maxHp-this.hp)},allResselfAdd(e,t){return t+(this.maxHp-this.hp)}}},{key:"lv35_warrior2_enhance5",name:"血怒屏障",description:"每10点怒气增加1%物理吸收和1%元素（火焰、寒冷、闪电）吸收。",hooks:{meleeAbsorb(e,t){return t+.01*Math.floor(this.rp/10)},fireAbsorb(e,t){return t+.01*Math.floor(this.rp/10)},coldAbsorb(e,t){return t+.01*Math.floor(this.rp/10)},lightningAbsorb(e,t){return t+.01*Math.floor(this.rp/10)}}},{key:"lv35_warrior2_enhance6",name:"猪突猛进",description:"“盾冲”造成的昏迷效果延长2秒。",hooks:{lv35_warrior2_enhance6_time:(e,t)=>5e3}},{key:"lv35_warrior2_enhance7",name:"以守待攻",description:"成功防御后有50%的几率立即施展一次额外的“无限正义之剑”。",hooks:{lv35_warrior2_enhance7_time:(e,t)=>!0}},{key:"lv35_warrior2_enhance8",name:"荆棘",description:"受到攻击时“守护者之魂”会反击所有敌人，造成（物理防御×10%）点真实伤害。",hooks:{lv35_warrior2_enhance8_time:(e,t)=>!0}},{key:"lv35_warrior5_enhance2",name:"浴血奋战",description:"每损失1%生命值，提高0.5%物理伤害。",hooks:{dmgAdd(e,t){return t+(this.maxHp-this.hp)/this.maxHp*.5}}},{key:"lv35_warrior5_enhance3",name:"瓦解",description:"“碎甲”效果从30%提升至45%。",hooks:{lv35_warrior5_enhance3_time:(e,t)=>.15}},{key:"lv80_warrior5_enhance1",name:"力量训练",description:"“劈砍”和“致命劈砍”的伤害提高30%，但每次施展“劈砍”和“致命劈砍”都会损失当前5%/10%的生命值。",hooks:{lv80_warrior5_enhance1_time:(e,t)=>1.3}},{key:"lv80_warrior5_enhance2",name:"血沸",description:"施展“狂热”时，每损失100点生命值将额外提高1点攻击力，持续10秒。",hooks:{lv80_warrior5_enhance2_time:(e,t)=>!0}},{key:"lv80_warrior5_enhance3",name:"双刀专精",description:"暴击几率+10%，暴击伤害+20%。",hooks:{critRateAdd:(e,t)=>t+.1,critBonusAdd:(e,t)=>t+.2}},{key:"lv80_warrior5_enhance4",name:"挣扎",description:"每损失1%生命值，提高0.25%急速。",hooks:{speedRateAdd(e,t){return t+(this.maxHp-this.hp)/this.maxHp*.25}}},{key:"lv80_warrior5_enhance5",name:"破釜沉舟",description:"施展“血甲缚”获得的护盾以及护盾上限+100%，但施展后仅保留1点生命值。",hooks:{lv80_warrior5_enhance5_time:(e,t)=>2}},{key:"ironBody",name:"钢铁之躯",description:"增加25%物理防御",hooks:{player_def:(e,t)=>1.25*t}},{key:"rageFromHeart",name:"怒意高涨",description:"怒气生成速度增加10%，怒气上限增加20点。",hooks:{maxRp:(e,t)=>t+20,rpReceiveMul:(e,t)=>1.1*t}},{key:"keepingRage",name:"怒不可遏",description:"你的怒气不再衰竭，相反，它以每秒2点的速度增加。",hooks:{rpRecovery:(e,t)=>t+3}},{key:"phoenixHeart",name:"火凤之心",description:"每损失100点气血值，增加每5秒15点气血值恢复速度。",hooks:{hpRecovery(e,t){return t+(this.maxHp-this.hp)/100*3}}},{key:"strengthBelieve",name:"力量信仰",description:"当你受到非外功伤害时，可以获得5点怒气",hooks:{rpFromNonPhy:(e,t)=>t+5}},{key:"pugnacity",name:"好斗勇者",description:"面对3个以上敌人时，攻击力增加20%",hooks:{atkMul(e,t){return e.units.filter((e=>this.willAttack(e))).length>=3?1.2*t:t}}}]},6304:e=>{e.exports=[{key:"copperArmor",type:"equip",position:"plastron",class:"armor",name:"锁子甲",description:"铜环串联而成的胸甲，远远看去像身上挂满了铜钱，很是炫富。"},{key:"copperShinGuard",type:"equip",position:"gaiter",class:"armor",name:"锁链靴",minLevel:99999999999,description:"木质的鞋底，铜环串联而成鞋面，防御力很不错。"},{key:"copperShinGuard1",type:"equip",position:"gaiter",class:"armor",name:"锁链靴",description:"木质的鞋底，铜环串联而成鞋面，防御力很不错。"},{key:"boneArmor",type:"equip",position:"plastron",class:"lightArmor",name:"骨甲",description:"烧焦的人骨紧密排列，不但防御良好而且轻便，但是敢穿的人真不多……"},{key:"boneShinGuard",type:"equip",position:"gaiter",class:"lightArmor",name:"骨靴",description:"用骨片雕琢而成的靴子，已经看不出骨头来自哪个部位了。"},{key:"boneArmor1",type:"equip",position:"plastron",class:"lightArmor",name:"骨甲",description:"烧焦的人骨紧密排列，不但防御良好而且轻便，但是敢穿的人真不多……",minLevel:99999999999},{key:"mithrilDress",type:"equip",position:"plastron",class:"cloth",name:"秘银衬衫",description:"布料掺杂秘银制造的衬衫，不过到处是镂空，不知道是为了美观还是为了节约成本。"},{key:"mithrilSkirt",type:"equip",position:"gaiter",class:"cloth",name:"秘银短裙",description:"一层布料一层秘银叠加而成的褶裙，自带防走光被动。"}]},4058:(e,t,n)=>{e.exports=[...n(8997),...n(6928),...n(8479),...n(6304),...n(7868)]},7868:e=>{e.exports=[{key:"ornament",type:"equip",class:"ornament",position:"ornament",name:"首饰",description:"就是普通的首饰。",item:"sta",minLevel:999999999999},{key:"mithrilStannumRing",type:"equip",class:"ornament",position:"ornament",name:"秘银指环",description:"按当前的市场价，铜其实也不便宜。",item:"sta"}]},8997:e=>{e.exports=[{key:"mucus",type:"junk",name:"粘液",description:"黏糊糊的一团，不小心咽下去可能会窒息。",stack:9999,price:1},{key:"boneFragment",type:"junk",name:"碎骨",description:"骨头的碎片，已经看不清来自什么生物，希望不是人类……",stack:9999,price:2},{key:"furFragment",type:"junk",name:"破烂的毛皮",description:"破破烂烂的兽皮，没有办法缝合了。",stack:9999,price:4},{key:"animalMeat",type:"junk",name:"新鲜的肉",description:"肉很新鲜，喜欢它的不止是人类……",stack:9999,price:8},{key:"candle",type:"junk",name:"破烂的蜡烛",description:"传说蜡烛帮狗头人驱散了恐怖的暗影，带来了光明，是狗头人最珍视的宝物。",stack:9999,price:12},{key:"zombieMeat",type:"junk",name:"僵尸肉",description:"僵尸的肉，散发着奇怪的臭气。就这也有人收购，简直细思极恐……",stack:9999,price:12},{key:"junkEquips",type:"junk",name:"破损的装甲",description:"圣堂教会剩骑士的装备，看起来被擦洗了无数遍。剩骑士真是很穷的一种职业……",stack:9999,price:20},{key:"elementJunk",type:"junk",name:"无用的元素颗粒",description:"来自元素位面的物质，但已经丝毫没有了元素的波动。",stack:9999,price:20},{key:"wood",type:"material",name:"木块",description:"一块普通木头。",quality:1,price:5,stack:9999},{key:"stick",type:"material",name:"树枝",quality:0,description:"一小段树枝，削尖了也许可以当武器用。",price:2,stack:9999},{key:"cloth",type:"material",name:"破布",quality:0,description:"一小片破布，已经看不出原本的颜色了。",price:2,stack:9999},{key:"fur",type:"material",name:"完整的毛皮",description:"一块完整的兽皮。看起来就很保暖。",quality:0,price:5,stack:9999},{key:"animalBone",type:"material",name:"兽骨",description:"一块很完整的兽骨。布帕阿姨家的汪会很喜欢。",quality:0,price:5,stack:9999},{key:"wolfTeeth",type:"material",name:"狼牙",description:"无比锋利的狼牙，还在闪闪发光。",quality:1,price:15,stack:9999},{key:"copper",type:"material",name:"红铜",stack:9999,description:"天然的高纯度铜矿，延展性很不错，就是有些软。",quality:0,price:20},{key:"stannum",type:"material",name:"锡石",stack:9999,description:"锡的氧化物，需要先进行熔炼方可进行锻造。",quality:0,price:40},{key:"fireElement",type:"material",name:"火元素精华",stack:9999,description:"蕴含火元素能量的燃素，可以取暖或者照明。",quality:1,price:50},{key:"zombieBone",type:"material",name:"僵尸骨",quality:0,stack:9999,price:20,description:"蕴含魔力的骨头，散发着黑色的烟雾。"},{key:"silk",type:"material",name:"丝绸",quality:0,stack:9999,price:40,description:"光滑的丝绸，质地非常好。"},{key:"mithril",type:"material",name:"秘银",quality:1,stack:9999,price:50,description:"导魔性很好的金属。"},{key:"ghostCream",type:"material",name:"幽魂精华",quality:0,stack:9999,price:50,description:"幽魂的浓缩精华，靠近了还能听到声声惨叫。"},{key:"bodyDust",type:"material",name:"尸尘",quality:0,stack:9999,price:50,description:"尘归尘，土归土……"}]},6928:e=>{e.exports=[{key:"dust1",type:"material",name:"微光之尘",quality:1,stack:9999,price:4,energy:4,description:"在黑暗中会微微发光。"},{key:"piece1",type:"material",name:"微光碎片",quality:2,stack:9999,price:8,energy:8,description:"一整块发出微微光芒的碎片"},{key:"dust2",type:"material",name:"闪光之尘",quality:1,stack:9999,price:20,energy:20,description:"有淡淡的光芒在闪耀。"},{key:"piece2",type:"material",name:"闪光碎片",quality:2,stack:9999,price:40,energy:40,description:"蓝色的光芒似有似无。"},{key:"dust3",type:"material",name:"强光之尘",quality:1,stack:9999,price:50,energy:50,description:"闪耀着强烈的光芒。"},{key:"piece3",type:"material",name:"强光碎片",quality:2,stack:9999,price:100,energy:100,description:"闪耀着强烈的光芒。"},{key:"dust4",type:"material",name:"炫目之尘",quality:1,stack:9999,price:120,energy:120,description:"闪耀着炫目的光芒。"},{key:"piece4",type:"material",name:"炫目碎片",quality:2,stack:9999,price:240,energy:240,description:"闪耀着炫目的光芒。"},{key:"dust5",type:"material",name:"幻彩之尘",quality:1,stack:9999,price:200,energy:200,description:"闪耀着炫目的光芒。"},{key:"piece5",type:"material",name:"幻彩碎片",quality:2,stack:9999,price:400,energy:400,description:"闪耀着炫目的光芒。"},{key:"dust6",type:"material",name:"神秘之尘",quality:1,stack:9999,price:350,energy:350,description:"闪耀着炫目的光芒。"},{key:"piece6",type:"material",name:"神秘碎片",quality:2,stack:9999,price:700,energy:700,description:"闪耀着炫目的光芒。"},{key:"wuxingshi",type:"material",name:"奇怪的精粹",quality:2,stack:999999,price:1,energy:1,description:"分解装备留下的不明物，闪耀着奇怪的光彩。"}]},8479:e=>{e.exports=[{key:"stickSword",type:"equip",class:"sword",position:"weapon",name:"长剑",description:"朴素的长剑。"},{key:"SwordShield",type:"equip",class:"swordshield",position:"weapon",name:"剑盾",description:"外加朴素的圆盾。"},{key:"LongSword",type:"equip",class:"longsword",position:"weapon",name:"太刀",description:"用木头制作的长刀，有传言说这是萨菲罗斯小时候使用过的。"},{key:"Machete",type:"equip",class:"machete",position:"weapon",name:"双刀",description:"左手一把菜刀，右手还是一把菜刀。"},{key:"MacheteShield",type:"equip",class:"macheteshield",position:"weapon",name:"刀盾",description:"左手是朴素的圆盾。",minLevel:999999999999},{key:"stickWand",type:"equip",class:"wand",position:"weapon",name:"铁木长杖",description:"搬不动，真的搬不动，不是开玩笑的。"}]},7615:(e,t,n)=>{e.exports=n(4130),n(5403),n(1448)},118:(e,t,n)=>{e.exports=[...n(5836),...n(2789)]},5836:e=>{e.exports=[{key:"ornament-1",type:"ornament",itemName:"沉思的鲱鱼干",itemDescription:"作为一条鱼干，人生的大部分就是找个地方挂着……",display:e=>"所有经验值增加50%",generate:e=>.5,range:e=>"无法附魔",hooks:{expMul:(e,t)=>1.5*t}},{key:"ornament-melee",type:"ornament",itemName:"报纸壳壳",itemDescription:"Vehicle ready...奇怪的东西，对物理伤害似乎有很好的防御效果。",display:e=>"物理吸收+15%，物理吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,meleeAbsorbmax:(e,t)=>.9}},{key:"ornament-fire",type:"ornament",itemName:"凉宝宝",itemDescription:"奇怪的东西，对火焰伤害似乎有很好的防御效果。",display:e=>"火焰吸收+15%，火焰吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{fireAbsorb:(e,t)=>t+.15,fireAbsorbmax:(e,t)=>.9}},{key:"ornament-cold",type:"ornament",itemName:"暖宝宝",itemDescription:"奇怪的东西，对寒冷伤害似乎有很好的防御效果。",display:e=>"寒冷吸收+15%，寒冷吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{coldAbsorb:(e,t)=>t+.15,coldAbsorbmax:(e,t)=>.9}},{key:"ornament-lightning",type:"ornament",itemName:"绝缘楔子",itemDescription:"奇怪的东西，对闪电伤害似乎有很好的防御效果。",display:e=>"闪电吸收+15%，闪电吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{lightningAbsorb:(e,t)=>t+.15,lightningAbsorbmax:(e,t)=>.9}},{key:"ornament-dark",type:"ornament",itemName:"黑暗守护",itemDescription:"一团五彩斑斓的黑色，对暗属性伤害似乎有很好的防御效果。",display:e=>"暗吸收+15%，暗吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{darkAbsorb:(e,t)=>t+.15,darkAbsorbmax:(e,t)=>.9}},{key:"ornament-light",type:"ornament",itemName:"光明守护",itemDescription:"一团耀眼的光芒，对光属性伤害似乎有很好的防御效果。",display:e=>"光吸收+15%，光吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{lightAbsorb:(e,t)=>t+.15,lightAbsorbmax:(e,t)=>.9}},{key:"ornament-poison",type:"ornament",itemName:"腐肉之风",itemDescription:"一枚奇怪的戒指，但对毒素伤害有很好的防御效果。",display:e=>"毒素吸收+15%，毒素吸收上限+15%",generate:e=>.5,range:e=>"无法附魔",hooks:{poisonAbsorb:(e,t)=>t+.15,poisonAbsorbmax:(e,t)=>.9}},{key:"stickWand-1",type:"stickWand",itemName:"锟斤拷",itemDescription:"手持两把锟斤拷。",special:!0,display:e=>"火球术的伤害提高100%",generate:e=>3,range:e=>"无法附魔",hooks:{two_kjk:(e,t)=>2}}]},2789:e=>{e.exports=[{key:"ornament-2",type:"ornament",itemName:"史莱姆之心",itemDescription:"用史莱姆核心制作的挂坠，似乎有着不太一样的效果。",special:!0,display:e=>"生命值恢复+5，法力值恢复+2",generate(e){},range:e=>"无法附魔",hooks:{hpRecovery:(e,t)=>t+5,mpRecovery:(e,t)=>t+2}},{key:"stickSword-1",type:"stickSword",itemName:"狼牙剑",itemDescription:"虽然叫做狼牙剑，但很显然并不是用狼牙做的。",special:!0,display:e=>"攻击力+10",generate:e=>.5,range:e=>"无法附魔",hooks:{atk_self_Add:(e,t)=>t+10}},{key:"ornament-3",type:"ornament",itemName:"大“金”牙",itemDescription:"金牙之所以是叫金牙......",special:!0,display:e=>"火焰抗性+500",generate:e=>.5,range:e=>"无法附魔",hooks:{fireResist:(e,t)=>t+500}},{key:"Machete-1",type:"Machete",itemName:"卡卡列夫的爱抚",itemDescription:"在卡卡列夫看来，你和狗头人好像没有很大的区别。",special:!0,display:e=>"“重击”有40%的几率造成50%的额外火焰伤害",generate:e=>3,range:e=>"无法附魔",hooks:{kklf_love:(e,t)=>!0}},{key:"boneArmor-1",type:"boneArmor",itemName:"吉祥三宝",itemDescription:"你最喜欢的歌词——哎，对啦，在天上，他回家啦。",special:!0,display:e=>"每秒获得2点怒气",generate:e=>2,range:e=>"无法附魔",hooks:{rpRecovery:(e,t)=>!0}},{key:"ornament-ceshi",type:"ornament",itemName:"测试",itemDescription:"穿上之后会有奇怪的效果。",special:!0,display:e=>"穿上之后会有奇怪的效果",generate:e=>4,range:e=>"无法附魔",hooks:{poisonAbsorb:(e,t)=>t+.15,poisonAbsorbmax:(e,t)=>.9}}]},7443:(e,t,n)=>{e.exports=[n(6897)]},6897:e=>{e.exports={key:"soulbringer_map",name:"庇护所深处",hint:"庇护所深处",isDungeon:!0,outside:"home",requirement:{stories:["soulbringer-1"],beforeStories:["soulbringer-2"]},phases:[{description:"击败百鬼之王·卡隆",monsters:[{type:"soul_karon",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:-1,level:300,loots:[]}},4877:e=>{e.exports={key:"chapter3.auran",name:"奥兰境内",hint:"抵达奥兰帝国的必经之路。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.murloc.minions",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter3.murloc.shaman",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},8850:e=>{e.exports={key:"chapter3.auran1",name:"湖畔镇",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran",requirement:{stories:["chapter3-7"]},phases:[{description:"击败鱼人督军，拯救被鱼人袭击的当地村民。",monsters:[{type:"chapter3.murloc.warlord",total:1}]}],monsters:[{type:"chapter3.murloc.minions",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter3.murloc.minions",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter3.murloc.shaman",warmup:6e3,delay:2e4,max:2,quality:[25,5,1]},{type:"chapter3.murloc.shaman",warmup:14e3,delay:2e4,max:2,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:100,level:100,exp:3e5,loots:[{key:"gold",rate:1,count:[18e3,3e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},9391:e=>{e.exports={key:"chapter3.auran2",name:"闪光湖",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran",requirement:{stories:["chapter3-7"]},phases:[{description:"击败巨型海怪鱼斯拉。",monsters:[{type:"chapter3.fishzilla",warmup:25e3,total:1}]}],monsters:[{type:"chapter3.fishzilla.magician",warmup:5e3,delay:1e4,max:5}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:110,level:110,exp:4e5,loots:[{key:"gold",rate:1,count:[2e4,4e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},6232:e=>{e.exports={key:"chapter3.auran3",name:"卡格西城",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.waterElement.nagaHero",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter3.waterElement",warmup:6e3,delay:2e4,max:2,quality:[25,5,1]},{type:"chapter3.waterElement.giants",warmup:3e4,delay:5e4,max:1},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},5021:e=>{e.exports={key:"chapter3.auran4",name:"雨之都卡格西",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter3.auran3",requirement:{stories:["chapter3-7"]},phases:[{description:"击败奈因洛斯降临的分身",monsters:[{type:"chapter3.waterElement.Nynnroth",total:1},{type:"shrine.nynnroth.shield",max:1,warmup:15e3,delay:3e4}]}],monsters:[{type:"chapter3.waterElement.nagaHero",warmup:1e3,delay:15e3,max:3,quality:[25,5,1]},{type:"chapter3.waterElement",warmup:6e3,delay:25e3,max:2,quality:[25,5,1]},{type:"chapter3.waterElement.giants",warmup:3e4,delay:5e4,max:1}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:130,level:130,exp:75e4,loots:[{key:"gold",rate:1,count:[4e4,6e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},3578:(e,t,n)=>{e.exports=[n(9362),n(4088),n(2717),n(386),n(4877),n(8850),n(9391),n(4968),n(1313),n(6232),n(5021)]},9362:e=>{e.exports={key:"chapter3.road",name:"大路",hint:"很宽的马路。",requirement:{stories:["chapter3-1"]},monsters:[{type:"chapter3.undead.ghost",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter3.undead.zombie",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},4088:e=>{e.exports={key:"chapter3.shelter773",name:"庇护所773号",hint:"一个被亡灵化了的庇护所",isDungeon:!0,outside:"chapter3.road",requirement:{stories:["chapter3-3"]},phases:[{description:"击败暗影法师奈布。",monsters:[{type:"chapter3.necromancer",total:1}]}],monsters:[{type:"chapter3.undead.ghost",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"chapter3.undead.ghost",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"chapter3.undead.zombie",warmup:6e3,delay:2e4,max:1,quality:[25,5,1]},{type:"chapter3.undead.zombie",warmup:14e3,delay:2e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:80,level:80,exp:18e4,loots:[{key:"gold",rate:1,count:[1e4,2e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},4968:e=>{e.exports={key:"chapter3.tower1",name:"混乱元素之塔",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter3.element.fire",warmup:5e3,delay:3e4,max:2,quality:[25,5,1]},{type:"chapter3.element.water",warmup:15e3,delay:3e4,max:2,quality:[25,5,1]},{type:"chapter3.element.earth",warmup:25e3,delay:3e4,max:2,quality:[25,5,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},1313:e=>{e.exports={key:"chapter3.tower2",name:"混乱元素王座",isDungeon:!0,outside:"chapter3.tower1",hint:"小湖边的镇子，到处都是鱼人。",requirement:{stories:["chapter3-7"]},phases:[{description:"击败失去控制的阿撒托斯的分身",monsters:[{type:"chapter3.element.azathoth.fire",total:1}]}],monsters:[{type:"chapter3.element.fire",warmup:5e3,delay:6e4,max:1,quality:[25,2]},{type:"chapter3.element.water",warmup:25e3,delay:6e4,max:1,quality:[25,2]},{type:"chapter3.element.earth",warmup:45e3,delay:6e4,max:1,quality:[25,2]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:120,level:120,exp:5e5,loots:[{key:"gold",rate:1,count:[25e3,5e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},2717:e=>{e.exports={key:"chapter3.wood",name:"边界森林",hint:"抵达奥兰帝国的必经之路。",requirement:{stories:["chapter3-5"]},monsters:[{type:"chapter3.beast.wildpig",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter3.beast.lion",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},386:e=>{e.exports={key:"chapter3.wood1",name:"森林深处",hint:"抵达奥兰帝国的必经之路。",isDungeon:!0,outside:"chapter3.wood",requirement:{stories:["chapter3-6"]},phases:[{description:"击败辛巴、彭彭和丁满。",monsters:[{type:"chapter3.beast.pengpeng",total:1},{type:"chapter3.beast.simba",total:1},{type:"chapter3.beast.dingman",total:1}]}],monsters:[{type:"chapter3.beast.wildpig",warmup:1e3,delay:1e4,max:3,quality:[49,7,1]},{type:"chapter3.beast.lion",warmup:6e3,delay:15e3,max:1,quality:[49,7,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:90,level:90,exp:18e4,loots:[{key:"gold",rate:1,count:[15e3,25e3]},{type:"specialEquip",rate:.1,items:["boneArmor-1"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},7707:(e,t,n)=>{e.exports=[n(8488),n(4505),n(7872),n(4396),n(7157),n(204)]},4396:e=>{e.exports={key:"chapter4.sanAnthony",name:"圣安东尼帝国",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter4.humans.soldier",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter4.humans.musketeer",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]},{type:"chapter4.humans.mortar",warmup:18e3,delay:4e4,max:1,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},7157:e=>{e.exports={key:"chapter4.sanAnthony1",name:"四骑士圣殿",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{stories:["chapter3-7"]},phases:[{description:"抵挡迫击炮的齐射。",monsters:[{type:"chapter4.humans.mortar",max:1,warmup:1e3,delay:5e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:3e3,delay:5e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:5e3,delay:5e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:7e3,delay:5e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:9e3,delay:5e3,total:2},{type:"chapter4.humans.mortar",max:1,warmup:11e3,delay:5e3,total:2}]},{description:"击败英勇骑士达尔。",monsters:[{type:"chapter4.humans.knights.dare",max:1,warmup:8e3,delay:8e3,total:1}]},{description:"击败光明骑士莱特和鲜血骑士布莱德。",monsters:[{type:"chapter4.humans.knights.blood",max:1,warmup:8e3,delay:8e3,total:1},{type:"chapter4.humans.knights.light",max:1,warmup:8e3,delay:8e3,total:1}]},{description:"击败制裁骑士山新和全能骑士雷格。没错，四骑士组合有五个人。",monsters:[{type:"chapter4.humans.knights.sanction",max:1,warmup:8e3,delay:8e3,total:1},{type:"chapter4.humans.knights.rage",max:1,warmup:8e3,delay:8e3,total:1}]}],monsters:[{type:"chapter4.humans.soldier",warmup:1e3,delay:2e4,max:3,quality:[25,5,1]},{type:"chapter4.humans.musketeer",warmup:1e3,delay:3e4,max:3,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:160,level:160,exp:18e5,loots:[{key:"gold",rate:1,count:[75e3,15e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500}]}},204:e=>{e.exports={key:"chapter4.sanAnthony2",name:"未知暗殿",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{stories:["chapter3-7"]},phases:[{description:"触动把手，打开秘密的通道。",monsters:[{type:"chapter4.humans.trigger.1",max:1,delay:5e3,total:1}]},{description:"进入下水道，揭开未知暗殿的奥秘。",monsters:[{type:"chapter4.humans.trigger.2",max:1,delay:5e3,total:1}]},{description:"通过陷阱阵。",monsters:[{type:"chapter4.humans.trigger.3.1",max:1,randomPosition:!0,delay:10,total:1},{type:"chapter4.humans.trigger.3.2",max:3,randomPosition:!0,delay:10,total:3},{type:"chapter4.humans.trigger.3.3",max:3,randomPosition:!0,delay:10,total:3},{type:"chapter4.humans.trigger.3.4",max:3,randomPosition:!0,delay:10,total:3}]},{description:"击败守门人菲尔斯男爵",monsters:[{type:"chapter4.humans.boss.fearas",max:1,delay:10,total:1}]},{description:"打开监狱的牢笼，释放强大的邪恶",monsters:[{type:"chapter4.humans.trigger.6",max:1,warmup:1e3,delay:10,total:1}]},{description:"击败……哈？",monsters:[{type:"chapter4.humans.boss.milhous",max:1,delay:10},{type:"chapter4.humans.trigger.6",max:1,warmup:2e3,delay:10,total:1}]},{description:"击败解除封印的上古邪恶。",monsters:[{type:"chapter4.humans.boss.evil",max:1,delay:10,total:1}]}],monsters:[],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:170,level:170,exp:22e5,loots:[{key:"gold",rate:1,count:[1e5,15e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:500}]}},8488:e=>{e.exports={key:"chapter4.westRolan",name:"东罗兰帝国",requirement:{stories:["chapter3-7"]},monsters:[{type:"chapter4.orcs.warrior",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter4.orcs.hunter",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},4505:e=>{e.exports={key:"chapter4.westRolan1",name:"卡尔要塞",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.westRolan",requirement:{stories:["chapter3-7"]},phases:[{description:"击败汹涌的狼群。",monsters:[{type:"chapter3.orcs.wolf",max:2,delay:8e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:8e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:8e3,total:4},{type:"chapter3.orcs.wolf",max:2,delay:8e3,total:4}]},{description:"击败兽人酋长萨布罗·霜狼。",monsters:[{type:"chapter3.orcs.shaman",max:1,delay:8e3,total:1}]}],monsters:[{type:"chapter4.orcs.warrior",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter4.orcs.warrior",warmup:1e3,delay:1e4,max:3,quality:[25,5,1]},{type:"chapter4.orcs.hunter",warmup:6e3,delay:2e4,max:2,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:140,level:140,exp:1e6,loots:[{key:"gold",rate:1,count:[5e4,1e5]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},7872:e=>{e.exports={key:"chapter4.westRolan2",name:"司璐登监狱",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.westRolan",requirement:{stories:["chapter3-7"]},phases:[{description:"击败流氓和小偷的偷袭。",monsters:[{type:"chapter4.humans.thief",max:2,delay:2e4,total:4},{type:"chapter4.humans.thief",max:2,delay:2e4,warmup:12e3,total:4},{type:"chapter4.humans.rogue",max:2,delay:2e4,warmup:6e3,total:4},{type:"chapter4.humans.rogue",max:2,delay:2e4,warmup:16e3,total:4}]},{description:"击败手黑党的领袖罗兰·赛克。",monsters:[{type:"chapter4.humans.seck",max:1,delay:8e3,total:1}]},{description:"再次击败手黑党的领袖罗兰·赛克。这货绑了灵魂石。",monsters:[{type:"chapter4.humans.seck1",max:1,delay:8e3,total:1}]}],monsters:[],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:150,level:150,exp:15e5,loots:[{key:"gold",rate:1,count:[75e3,1e5]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},4933:e=>{e.exports={key:"chapter5.byer1",name:"西拜尔港",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{type:"chapter5.undead.ghost",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter5.undead.zombie",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},7468:e=>{e.exports={key:"chapter5.byer2",name:"幽暗的货仓",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败亡灵法师，阻止他的邪恶魔法。",monsters:[{type:"chapter5.necromancer",total:1}]}],monsters:[{type:"chapter5.undead.ghost",warmup:1e3,delay:8e3,max:3,quality:[25,5,1]},{type:"chapter5.undead.zombie",warmup:1e3,delay:8e3,max:3,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:180,level:180,exp:15e5,loots:[{key:"gold",rate:1,count:[5e4,1e5]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},6339:e=>{e.exports={key:"chapter5.byer3",name:"梦境之森",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e4,max:5,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},8826:e=>{e.exports={key:"chapter5.byer4",name:"睡美人湖",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败并安抚节制的萨曼莎。",monsters:[{type:"chapter5.woodElf.shamansa",warmup:15e3,total:1}]},{description:"击败并安抚勤勉的罗莎。",monsters:[{type:"chapter5.woodElf.rosa",warmup:15e3,total:1}]}],monsters:[{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e4,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e4,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:190,level:190,exp:18e5,loots:[{key:"gold",rate:1,count:[75e3,12e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},9081:e=>{e.exports={key:"chapter5.byer5",name:"噩梦边境",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},monsters:[{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:6e3,max:5,quality:[49,7,1]},{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:4e3,delay:6e3,max:5,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},4784:e=>{e.exports={key:"chapter5.byer6",name:"噩梦巨人国度",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"chapter5.byer1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败拦路的噩梦之灵，找到好心的巨人",monsters:[{types:{"chapter5.daughter.monster1":1,"chapter5.daughter.monster2":1,"chapter5.daughter.monster3":1,"chapter5.daughter.monster4":1,"chapter5.daughter.monster5":1,"chapter5.daughter.monster6":1},warmup:1e3,delay:6e3,max:5,total:10}]},{description:"击败吃小孩的巨人",monsters:[{type:"chapter5.daughter.badGiant",warmup:5e3,total:1},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e4,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.crazy",warmup:1e3,delay:1e4,max:3,quality:[49,7,1]},{type:"chapter5.woodElf.sad",warmup:6e3,delay:15e3,max:2,quality:[49,7,1]}]},{description:"唤醒不安的艾米拉",monsters:[{type:"chapter5.daughter.amira",warmup:5e3,total:1}]}],monsters:[],resetPrice:200,level:200,exp:22e5,loots:[{key:"gold",rate:1,count:[95e3,15e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500},{type:"ticket",rate:1,dungeons:{"nightmare.1":1}}]}},5652:(e,t,n)=>{e.exports=[n(4933),n(7468),n(6339),n(8826),n(9081),n(4784)]},9520:e=>{e.exports={key:"home",name:"自宅",hint:"安全的避难所。休息够了就可以再度出发。"}},3663:(e,t,n)=>{e.exports=[n(5189),n(9520),...n(6328),...n(3578),...n(7707),...n(7637),...n(5652),...n(7443)]},7008:e=>{e.exports={key:"silver.assassin",name:"白银试炼 - 刺客",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{career:"assassin",level:60,atMostMaxLevel:60},phases:[{description:"进行刺杀试炼。",monsters:[{type:"silver.assassin.trigger.1",max:1,delay:5e3,total:1}]},{description:"在保镖赶到前刺杀目标一号。",monsters:[{type:"silver.assassin.boss.1",max:1,delay:5e3,total:1},{type:"silver.assassin.boss.1.summon",max:1,warmup:3e4},{type:"silver.assassin.boss.1.summon",max:1,warmup:3e4},{type:"silver.assassin.boss.1.summon",max:1,warmup:3e4},{type:"silver.assassin.boss.1.summon",max:1,warmup:3e4},{type:"silver.assassin.boss.1.summon",max:1,warmup:3e4}]},{description:"进行闪避试炼。",monsters:[{type:"silver.assassin.trigger.2",max:1,delay:5e3,total:1}]},{description:"进行战斗试炼。",monsters:[{type:"silver.assassin.trigger.3",max:1,delay:5e3,total:1}]},{description:"击败寇马克。",monsters:[{type:"silver.assassin.boss.3",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:-1,level:180,loots:[{type:"maxLevel",value:70}]}},7637:(e,t,n)=>{e.exports=[n(3375),n(7008),n(6010),n(8569),n(1068)]},1068:e=>{e.exports={key:"silver.knight",name:"白银试炼 - 圣骑士",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{career:"knight",level:60,atMostMaxLevel:60},phases:[{description:"开始祷告",monsters:[{type:"silver.knight.trigger.1",max:1,delay:5e3,total:1}]},{description:"击败内心深处的迷惘。",monsters:[{type:"silver.knight.boss.1",max:1,delay:5e3,total:1}]},{description:"继续祷告。",monsters:[{type:"silver.knight.trigger.2",max:1,delay:5e3,total:1}]},{description:"在梦境中复仇。",monsters:[{type:"silver.knight.boss.2",max:1,delay:5e3,total:1},{type:"chapter4.humans.soldier",max:3,delay:1e4,total:6},{type:"chapter4.humans.musketeer",max:3,delay:1e4,warmup:3e3,total:6},{type:"chapter4.humans.soldier",max:3,delay:1e4,warmup:5e3,total:6},{type:"chapter4.humans.musketeer",max:3,delay:1e4,warmup:8e3,total:6}]},{description:"继续祷告。",monsters:[{type:"silver.knight.trigger.3",max:1,delay:5e3,total:1}]},{description:"阻止你自己。",monsters:[{type:"silver.knight.boss.3",max:1,delay:5e3,total:1}]},{description:"完成祷告。",monsters:[{type:"silver.knight.trigger.4",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:-1,level:180,loots:[{type:"maxLevel",value:70}]}},6010:e=>{e.exports={key:"silver.sorceress",name:"白银试炼 - 魔法少女",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{career:"sorceress",level:60,atMostMaxLevel:60},phases:[{description:"进行奥术试炼。",monsters:[{type:"silver.sorceress.trigger.1",max:1,delay:5e3,total:1}]},{description:"击败奥术灵体。",monsters:[{type:"silver.sorceress.boss.1",max:1,delay:5e3,total:1}]},{description:"进行数学试炼。",monsters:[{type:"silver.sorceress.trigger.2",max:1,delay:5e3,total:1}]},{description:"从魔力书籍的围困中脱身。",monsters:[{type:"silver.sorceress.boss.2",max:3,delay:1e4,total:6},{type:"silver.sorceress.boss.2",max:3,delay:1e4,warmup:3e3,total:6},{type:"silver.sorceress.boss.2",max:3,delay:1e4,warmup:5e3,total:6},{type:"silver.sorceress.boss.2",max:3,delay:1e4,warmup:8e3,total:6}]},{description:"进行作战试炼。",monsters:[{type:"silver.sorceress.trigger.3",max:1,delay:5e3,total:1}]},{description:"击败恐怖的怪物。",monsters:[{type:"silver.sorceress.boss.3",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:-1,level:180,loots:[{type:"maxLevel",value:70}]}},8569:e=>{e.exports={key:"silver.summoner",name:"白银试炼 - 元素召唤师",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{career:"elementSommoner",level:60,atMostMaxLevel:60},phases:[{description:"开启火元素试炼。",monsters:[{type:"silver.summoner.trigger.1",max:1,delay:5e3,total:1}]},{description:"击败火元素。",monsters:[{type:"silver.summoner.boss.1",max:1,delay:5e3,total:1}]},{description:"开启水元素试炼。",monsters:[{type:"silver.summoner.trigger.2",max:1,delay:5e3,total:1}]},{description:"击败水元素。",monsters:[{type:"silver.summoner.boss.2",max:1,delay:1e4,total:1}]},{description:"开启土元素试炼。",monsters:[{type:"silver.summoner.trigger.3",max:1,delay:5e3,total:1}]},{description:"击败土元素。",monsters:[{type:"silver.summoner.boss.3",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:-1,level:180,loots:[{type:"maxLevel",value:70}]}},3375:e=>{e.exports={key:"silver.warrior",name:"白银试炼 - 战士",hint:"小湖边的镇子，到处都是鱼人。",isDungeon:!0,outside:"chapter4.sanAnthony",requirement:{career:"warrior",level:101,atMostMaxLevel:60},phases:[{description:"进行坚毅试炼。",monsters:[{type:"silver.warrior.trigger.1",max:1,delay:5e3,total:1}]},{description:"击败科力克。",monsters:[{type:"silver.warrior.boss.1",max:1,delay:5e3,total:1}]},{description:"进行勇气试炼。",monsters:[{type:"silver.warrior.trigger.2",max:1,delay:5e3,total:1}]},{description:"击败马道克和士兵们。",monsters:[{type:"silver.warrior.boss.2",max:1,delay:5e3,total:1},{type:"chapter4.humans.soldier",max:3,delay:1e4,total:6},{type:"chapter4.humans.musketeer",max:3,delay:1e4,warmup:3e3,total:6},{type:"chapter4.humans.soldier",max:3,delay:1e4,warmup:5e3,total:6},{type:"chapter4.humans.musketeer",max:3,delay:1e4,warmup:8e3,total:6}]},{description:"进行技巧试炼。",monsters:[{type:"silver.warrior.trigger.3",max:1,delay:5e3,total:1}]},{description:"击败塔里克。",monsters:[{type:"silver.warrior.boss.3",max:1,delay:5e3,total:1}]}],monsters:[],resetPrice:-1,level:180,loots:[{type:"maxLevel",value:70}]}},7759:e=>{e.exports={key:"town.cave",name:"洞窟一层",hint:"边境之村通往邻村的一条小路旁的洞窟，里面阴森且潮湿。",requirement:{stories:["eyer-stories-4"]},monsters:[{type:"slime.minimal",warmup:1e3,delay:1e4,max:2,quality:[49,7,1]},{type:"slime.minimal",warmup:6e3,delay:1e4,max:2,quality:[49,7,1]},{type:"slime.giant.enemy",warmup:15e3,delay:6e4,max:2,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},1433:e=>{e.exports={key:"town.cave2",name:"洞窟深处",hint:"洞穴的底层，让人隐隐赶到不安。",isDungeon:!0,outside:"town.cave",requirement:{stories:["eyer-stories-4"]},phases:[{description:"击败母体史莱姆，拯救亚莲娜。",monsters:[{type:"slime.queen",total:1}]}],monsters:[{type:"slime.minimal",warmup:1e3,delay:1e4,max:1},{type:"slime.minimal",warmup:6e3,delay:1e4,max:1},{type:"slime.giant.enemy",warmup:1e4,delay:3e4,max:1}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:20,level:20,exp:5e3,loots:[{key:"gold",rate:1,count:[1e3,2e3]},{type:"specialEquip",rate:.1,items:["ornament-2"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},6328:(e,t,n)=>{e.exports=[n(9073),n(7759),n(1433),n(9469),n(9530),n(9079),n(7626),n(409),n(8835),n(137),n(4656)]},9079:e=>{e.exports={key:"town.mine.1",name:"矿洞入口",hint:"一个看似废弃已久的矿洞，被附近的狗头人霸占了。",requirement:{stories:["eyer-stories-10"]},monsters:[{type:"kobold.miner",warmup:1e3,delay:1e4,max:4,quality:[49,7,1]},{type:"kobold.shaman",warmup:15e3,delay:6e4,max:1,quality:[100,10]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},7626:e=>{e.exports={key:"town.mine.2",name:"矿洞深处",hint:"金牙居住之处。",isDungeon:!0,outside:"town.mine.1",requirement:{stories:["eyer-grow-2"]},phases:[{description:"击败金牙，探听村长的情报。",monsters:[{type:"kobold.goldteeth",total:1}]}],monsters:[{type:"kobold.miner",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kobold.miner",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kobold.shaman",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:40,level:40,exp:8e4,loots:[{key:"gold",rate:1,count:[4e3,7e3]},{type:"specialEquip",rate:.1,items:["ornament-3"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},409:e=>{e.exports={key:"town.mine.3",name:"神秘祭坛",hint:"矿洞深处的祭坛，通往下位面的传送门。",isDungeon:!0,outside:"town.mine.1",requirement:{stories:["eyer-grow-4"]},phases:[{description:"击败卡卡列夫的幻象，找回村长",monsters:[{type:"kakarif.illusion",total:1}]}],monsters:[{type:"kakarif.generations",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kakarif.generations",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"kakarif.servants",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:50,level:50,exp:12e4,loots:[{key:"gold",rate:1,count:[5e3,1e4]},{type:"specialEquip",rate:.1,items:["Machete-1"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},137:e=>{e.exports={key:"town.neighbourTown.2",name:"幽暗的地窖",hint:"一个亡灵法师在这里布置了一个招魂阵法。",isDungeon:!0,outside:"town.neighbourTown",requirement:{stories:["aleanor-stories-4"]},phases:[{description:"击败亡灵法师，阻止他的邪恶魔法。",monsters:[{type:"zombie.necromancer",total:1}]}],monsters:[{type:"zombies.farmer",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"zombies.farmer",warmup:1e3,delay:1e4,max:2,quality:[25,5,1]},{type:"zombies.hammersmith",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:60,level:60,exp:8e4,loots:[{key:"gold",rate:1,count:[4e3,7e3]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},4656:e=>{e.exports={key:"town.neighbourTown.3",name:"邻村村口",hint:"闻讯赶来的圣殿骑士团保卫了整个村子。",isDungeon:!0,outside:"town.neighbourTown",requirement:{stories:["aleanor-stories-5"]},phases:[{description:"阻止骑士团对村民的屠杀。",monsters:[{type:"knight.leader",total:1}]}],monsters:[{type:"knight.normal",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"knight.normal",warmup:1e3,delay:1e4,max:1,quality:[25,5,1]},{type:"knight.prayer",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:70,level:70,exp:12e4,loots:[{key:"gold",rate:1,count:[5e3,1e4]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},8835:e=>{e.exports={key:"town.neighbourTown",name:"邻村",hint:"隔壁的村子。当亚莲娜赶到时，所有的村民都发狂了。",requirement:{stories:["aleanor-stories-2"]},monsters:[{type:"zombies.farmer",warmup:1e3,delay:1e4,max:4,quality:[49,7,1]},{type:"zombies.hammersmith",warmup:15e3,delay:6e4,max:1,quality:[100,10]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},9073:e=>{e.exports={key:"town.street",name:"村间小路",hint:"边境之村通往邻村的一条小路。",requirement:{stories:["eyer-stories-1"]},monsters:[{type:"slime.minimal",warmup:1e3,delay:5e3,max:2,quality:[81,9,1]},{type:"slime.giant",warmup:12e4,delay:12e4,max:1,quality:[49,7,1]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},9469:e=>{e.exports={key:"town.valley",name:"山谷",hint:"靠近邻村的山谷，有各种各样的野兽。",requirement:{stories:["eyer-stories-6"]},monsters:[{type:"wolf.minimal",warmup:1e3,delay:1e4,max:4,quality:[49,7,1]},{type:"wolf.giant",warmup:15e3,delay:6e4,max:1,quality:[100,10]},{types:{"shrine.heal":10,"shrine.energy":10,"shrine.power":2.5},warmup:3e5,delay:3e5,max:1}]}},9530:e=>{e.exports={key:"town.woods",name:"迷雾森林",hint:"山谷底部的森林，笼罩在雾气之中。",isDungeon:!0,outside:"town.valley",requirement:{stories:["eyer-stories-8"]},phases:[{description:"击败狼王。",monsters:[{type:"wolf.king",total:1}]}],monsters:[{type:"wolf.minimal",warmup:1e3,delay:3e4,max:1,quality:[49,7,1]},{type:"wolf.minimal",warmup:6e3,delay:3e4,max:1,quality:[49,7,1]},{type:"wolf.giant",warmup:1e4,delay:3e4,max:1,quality:[25,5,1]}],coolDown:864e5,maxCoolDownStack:1,coolDownOffset:-144e5,resetPrice:30,level:30,exp:2e4,loots:[{key:"gold",rate:1,count:[25,5e3]},{type:"specialEquip",rate:.1,items:["stickSword-1"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]}},5189:e=>{e.exports={key:"training_ground",name:"训练场",hint:"这里有你的挚爱——训练木桩。",monsters:[{type:"muzhuang",warmup:1e3,delay:1e3,max:1}]}},206:e=>{e.exports=[{key:"zhengqiwan",name:"幸运药剂",description:e=>`运气增加${5*e}点`,hooks:{gf:(e,t)=>t+.05*e,mf:(e,t)=>t+.05*e}},{key:"nayuandan",name:"知识药剂",description:e=>`经验获得增加${5*e}%`,hooks:{expMul:(e,t)=>t+.05*e}},{key:" xiaoyaosan",name:"训练药剂",description:e=>`熟练度获得增加${5*e}%`,hooks:{skillExpMul:(e,t)=>t+.05*e}},{key:"fengshenlu",name:"急速药剂",description:e=>`急速+${e}%`,Max_level:100,hooks:{speedRateAdd:(e,t)=>t+.01*e}}]},8230:(e,t,n)=>{const{define:r,extend:i}=n(6637);r("buffs","bossState",{name:"BOSS阶段",hidden:!0,description:"BOSS阶段",hooks:{bossState(e){return this.arg}}}),r("skills","bossState",{name:"转换阶段",group:"boss",description:"BOSS转换阶段",coolDown:1,maxExp:e=>0,canUse:(e,t,n)=>!(t.runAttrHooks(100,"bossState")<=n)&&t.hp/t.maxHp*100<=n,effect(e,t,n){t.addBuff("bossState",null,n,"bossState")}})},3459:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("skills","nightmare.fire.kakarif.1",{name:"地震",coolDown:15e3,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("melee",t,n,this,t.atk,!0)}}),r("skills","nightmare.fire.kakarif.2",{name:"火狱之楔",coolDown:3e4,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75),effect(e,t,n){let r=t.atk;for(const n of e.units.filter((e=>"nightmare.fire.minimal"===e.type)))n.kill(),r+=t.atk;for(let n=0;n<8;n++)e.addEnemy("nightmare.fire.minimal",null,0,t);for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("fire",t,n,this,r/2,!0)}}),r("buffs","nightmare.fire.kakarif.3",{name:"烈焰之子",effectInterval:500,effect(e){e.addEnemy("nightmare.fire.minimal1",null,0,this.unit)}}),r("skills","nightmare.fire.kakarif.3",{name:"烈焰之子",coolDown:3e4,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50),effect(e,t,n){t.startRead("nightmare.fire.kakarif.3",1e4,null,this)}}),r("buffs","nightmare.fire.kakarif.4",{name:"元素怒火",effectInterval:1e3,effect(e){e.sendDamage("fire",null,this.unit,null,this.arg,!1)}}),r("skills","nightmare.fire.kakarif.4",{name:"元素怒火",coolDown:3e4,castTime:1e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50||!t.target),effect(e,t,n){const{target:r}=t;e.sendSkillUsage(t,[r],this),r.addBuff("nightmare.fire.kakarif.4",1e4,t.atk,null)}}),r("skills","nightmare.fire.kakarif.5",{name:"卡卡列夫之怒",description:"增加300%攻击速度，持续6秒。",targetType:"target",castTime:2e3,coolDown:3e4,nonBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>25||!t.target),effect(e,t,n){t.addBuff("kakarif.mad",6e3,null,"kakarif.mad")}}),r("enemies","nightmare.fire.minimal",{name:"火狱之楔",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:75e5,exp:2400,atk:1500,level:300,atkSpeed:.6,skills:[]}),r("enemies","nightmare.fire.minimal1",{name:"卡卡列夫之子",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:75e5,exp:2400,atk:1500,level:300,atkSpeed:.6,skills:[{key:"fireElement.fireball",level:0}]}),r("enemies","nightmare.fire.kakarif",{name:"烈焰领主卡卡列夫",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:2e7,def:100,fireResist:2e3,coldResist:-8e3,exp:2400,atk:6e3,level:300,atkSpeed:.4,skills:[{key:"kakarif.melee",level:0},{key:"nightmare.fire.kakarif.1",level:0},{key:"nightmare.fire.kakarif.2",level:0},{key:"nightmare.fire.kakarif.3",level:0},{key:"nightmare.fire.kakarif.4",level:0},{key:"nightmare.fire.kakarif.5",level:0},{key:"enemy.upgrade",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:4e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.fire",{name:"噩梦-卡卡列夫",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.2",requirement:{},phases:[{description:"击败噩梦中再次出现的烈焰领主卡卡列夫。",monsters:[{type:"nightmare.fire.kakarif",total:1}]}],stunResist:1e4,resetPrice:300,level:300,exp:5e6,loots:[{key:"gold",rate:1,count:[25e4,5e5]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},5403:(e,t,n)=>{n(5404),n(3991),n(5670),n(7958),n(3459),n(4142)},4142:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);i("buffs","nightmare.knight.buff.1","manaShield",{name:"盾墙",hooks:{hasShield:()=>function(e){return!0}}}),r("buffs","nightmare.knight.buff.2",{name:"盾姿",hooks:{hasShield:()=>!0,willDamaged:(e,t,n)=>"melee"===n?e/4:e}}),r("buffs","nightmare.knight.buff.3",{name:"盾反",hooks:{hasShield:()=>!0,willDamaged:(e,t,n)=>"fire"===n||"cold"===n||"lightning"===n||"dark"===n||"light"===n?0:e}});const a=["盾墙","盾姿","盾反"];for(let e=1;e<=3;e++)r("skills",`nightmare.knight.${e}`,{name:a[e],castTime:300,coolDown:3e4,antiBreak:.5,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75||t.runAttrHooks(!1,"hasShield")),effect(t,n,r){n.addBuff(`nightmare.knight.buff.${e}`,1e4,n.hp/8)}});i("skills","nightmare.knight.4","knight.melee1",{canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)}}),i("skills","nightmare.knight.5","knight.deserve",{canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)}}),i("skills","nightmare.knight.6","knight.heal",{antiBreak:.5,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e(t,n)},effect:()=>function(e,t,n){e.sendSkillUsage(t,[t],this),t.hp+=t.maxHp/16}}),i("skills","nightmare.knight.7","knight.thumpHead.enemy",{canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e(t,n)}}),i("skills","nightmare.knight.8","shockWave",{name:"神圣愤怒",castTime:3e3,antiBreak:.5,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e(t,n)}}),r("enemies","nightmare.knight.boss",{name:"皇家骑士队长卡罗",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:2e7,def:2e3,allResist:-5e3,darkResist:-5e3,lightResist:-2e3,exp:2400,atk:6e3,level:300,atkSpeed:.8,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.knight.1",level:0},{key:"nightmare.knight.2",level:0},{key:"nightmare.knight.3",level:0},{key:"nightmare.knight.4",level:0},{key:"nightmare.knight.5",level:0},{key:"nightmare.knight.6",level:0},{key:"nightmare.knight.7",level:0},{key:"nightmare.knight.8",level:6},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:4e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.knight",{name:"噩梦-卡罗",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.2",requirement:{},phases:[{description:"击败噩梦中再次出现的皇家骑士队长卡罗。",monsters:[{type:"nightmare.knight.boss",total:1}]}],stunResist:1e4,resetPrice:300,level:300,exp:5e6,loots:[{key:"gold",rate:1,count:[25e4,5e5]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},5670:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("enemies","nightmare.kobold.candle",{name:"安全牌蜡烛",description:"一根蜡烛。",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,exp:0,atk:8e3,level:1,atkSpeed:.4,skills:[{key:"nightmare.kobold.bomb",level:0}]}),i("skills","nightmare.kobold.bomb","bomb",{notBreakable:!0}),i("skills","nightmare.kobold.bomb1","bomb",{notBreakable:!0,effect:e=>function(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.testDodge(t,n,this)||(e.sendDamage("fire",t,n,this,t.atk,!1),n.stun(5))})),t.kill()}}),r("enemies","nightmare.kobold.candle.1",{name:"安全牌大蜡烛",description:"一根蜡烛。",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,exp:0,atk:8e3,level:1,atkSpeed:.4,skills:[{key:"nightmare.kobold.bomb1",level:0}]}),i("skills","nightmare.kobold.1","candle.call",{coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")<=50)&&e.call(this,t,n)},effect:e=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.kobold.candle",null,0,t)}}),i("skills","nightmare.kobold.3","candle.call",{name:"驱散更多暗影",coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e.call(this,t,n)},effect:e=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.kobold.candle.1",null,0,t)}}),r("enemies","nightmare.kobold.altar",{name:"火焰祭坛",camp:"shrine",race:"unknown",career:"melee",atk:8e3,onPress(e){for(const t of e.units)"player"!==t.camp&&"alien"!==t.camp||e.sendDamage("fire",this,t,null,this.atk);this.kill()}}),r("buffs","nightmare.kobold.2.1",{name:"火焰献祭"}),r("buffs","nightmare.kobold.2.3",{name:"更多火焰献祭"}),r("buffs","nightmare.kobold.2.2",{name:"火焰献祭",didRemove(e){for(const t of e.units)"player"!==t.camp&&"alien"!==t.camp||e.sendDamage("fire",this.unit,t,null,5*this.unit.atk);this.unit.kill()}}),r("skills","nightmare.kobold.2",{name:"火焰献祭",coolDown:15e3,notBreakable:!0,canUse(e,t){const n=t.runAttrHooks(100,"bossState");return!(n<=20||n>75||!e.units.find((e=>"nightmare.kobold.altar"===e.key)))},effect(e,t,n){e.units.find((e=>"nightmare.kobold.altar"===e.type)).startRead("nightmare.kobold.2.2",5e3,null,this),t.startRead("nightmare.kobold.2.1",5e3,null,this)}}),r("skills","nightmare.kobold.4",{name:"更多火焰献祭",coolDown:15e3,notBreakable:!0,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>20||!e.units.find((e=>"nightmare.kobold.altar"===e.type))),effect(e,t,n){for(const t of e.units.filter((e=>"nightmare.kobold.altar"===e.type)))t.startRead("nightmare.kobold.2.2",5e3,null,this);t.startRead("nightmare.kobold.2.3",5e3,null,this)}}),r("enemies","nightmare.kobold.king",{name:"金牙大王",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:1e7,def:500,fireResist:1e3,coldResist:-5e3,exp:2400,atk:4e3,level:250,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"nightmare.kobold.1",level:0},{key:"nightmare.kobold.2",level:0},{key:"nightmare.kobold.3",level:0},{key:"nightmare.kobold.4",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.kobold",{name:"噩梦-金牙",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败噩梦中再次出现的狗头人金牙。",monsters:[{type:"nightmare.kobold.altar",max:5,delay:3e3},{type:"nightmare.kobold.king",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:5e6,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"ornament"},{type:"equip",rate:1,mfRate:750,position:"ornament"},{type:"equip",rate:1,mfRate:1250,position:"ornament"},{key:"year2018.redbag",count:[1,1],rate:.02}]})},5404:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("buffs","nightmare.slime.queen.debuff.1",{name:"粘液",description:"所有行动减缓20%。",hooks:{speedRateAdd:e=>.8*e}}),i("buffs","nightmare.slime.queen.buff.1","manaShield",{name:"黏性外壳",hooks:{hasShield:()=>function(e){return!0}}}),r("skills","nightmare.slime.queue.1",{name:"粘液",coolDown:1e4,castTime:300,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("melee",t,n,this,5e3,!0),n.addBuff("nightmare.slime.queen.debuff.1",5e3)}}),r("buffs","nightmare.slime.queue.2",{name:"组合",hooks:{},willRemove(e){let t=1e6;for(const n of e.units)"nightmare.slime.minium"===n.type&&(n.kill(),t+=15e5);this.unit.addBuff("nightmare.slime.queen.buff.1",null,t)}}),r("skills","nightmare.slime.queue.2",{name:"分裂",castTime:300,notBreakable:!0,canUse:(e,t)=>!t.runAttrHooks(!1,"hasShield"),effect(e,t,n){for(let n=0;n<10;n++)e.addEnemy("nightmare.slime.minium",null,0,t);t.startRead("nightmare.slime.queue.2",15e3)}}),r("skills","nightmare.slime.queue.3",{name:"召唤组合体",castTime:300,coolDown:15e3,notBreakable:!0,canUse:(e,t)=>t.runAttrHooks(100,"bossState")<=50,effect(e,t,n){e.addEnemy("nightmare.slime.minium1",null,0,t)}}),r("skills","nightmare.slime.queue.3.1",{name:"组合",castTime:1e4,notBreakable:!0,effect(e,t,n){for(const t of e.units)"nightmare.slime.queen"===t.type&&(t.hp+=t.maxHp/4);t.kill()}}),r("skills","nightmare.slime.queue.4",{name:"召唤不稳定的组合体",castTime:300,coolDown:15e3,notBreakable:!0,canUse:(e,t)=>20===t.runAttrHooks(100,"bossState"),effect(e,t,n){e.addEnemy("nightmare.slime.minium2",null,0,t)}}),r("skills","nightmare.slime.queue.4.1",{name:"不稳定的组合",castTime:1e4,notBreakable:!0,effect(e,t,n){for(const n of e.units)"nightmare.slime.queen"===n.type&&(n.hp+=n.maxHp/4,t.addBuff("enemy.upgrade"),t.addBuff("enemy.upgrade"));t.kill()}}),r("enemies","nightmare.slime.minium",{name:"巨型史莱姆",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:2400,atk:1500,level:250,atkSpeed:.6,skills:[{key:"melee",level:0}]}),r("enemies","nightmare.slime.minium1",{name:"史莱姆组合体",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e6,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"nightmare.slime.queue.3.1",level:0}]}),r("enemies","nightmare.slime.minium2",{name:"史莱姆组合体",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:8e6,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"nightmare.slime.queue.4.1",level:0}]}),r("enemies","nightmare.slime.queen",{name:"史莱姆王后",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:15e6,def:1e3,allResist:-5e3,darkResist:-5e3,lightResist:-2e3,exp:2400,atk:4e3,level:250,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.slime.queue.1",level:0},{key:"nightmare.slime.queue.2",level:0},{key:"nightmare.slime.queue.3",level:0},{key:"nightmare.slime.queue.4",level:0},{key:"bossState",level:50},{key:"bossState",level:20}],hooks:{appeared(e,t){this.addBuff("nightmare.slime.queen.buff.1",null,16e6)}},stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.slime",{name:"噩梦-母体史莱姆",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{},phases:[{description:"击败噩梦中再次出现的母体史莱姆。",monsters:[{type:"nightmare.slime.queen",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:5e6,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},7958:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("enemies","nightmare.undead.minimal",{name:"重生的僵尸",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:25e5,exp:2400,atk:1500,level:250,atkSpeed:.6,skills:[{key:"melee",level:0}]}),r("skills","nightmare.undead.1",{name:"毒爆",coolDown:15e3,castTime:5e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>75||!e.units.find((e=>"nightmare.undead.minimal"===e.type))),effect(e,t,n){const r=e.units.find((e=>"nightmare.undead.minimal"===e.type));if(!r)return;const i=r.hp/100;r.kill();for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("dark",t,n,this,i,!1)}}),r("skills","nightmare.undead.2",{name:"暗影治疗",coolDown:15e3,castTime:5e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>50||!e.units.find((e=>"nightmare.undead.minimal"===e.type))),effect(e,t,n){for(const n of e.units.filter((e=>"nightmare.undead.minimal"===e.type)))e.sendHeal(t,n,this,n.maxHp/10)}}),r("skills","nightmare.undead.3",{name:"死亡一指",coolDown:4e4,castTime:15e3,antiBreak:.8,canUse:(e,t)=>!(t.runAttrHooks(100,"bossState")>20),effect(e,t,n){const r=e.playerUnit;"ghost"!==r.camp&&r.kill()}}),r("enemies","nightmare.undead.king",{name:"亡者统帅奈布",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:1e7,def:100,allResist:50,def:-2e3,allResist:500,darkResist:2e3,lightResist:-5e3,exp:2400,atk:4e3,level:250,atkSpeed:.4,skills:[{key:"melee",level:0},{key:"shaman.darkball",level:0},{key:"nightmare.undead.1",level:0},{key:"nightmare.undead.2",level:0},{key:"nightmare.undead.3",level:0},{key:"enemy.upgrade",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.undead",{name:"噩梦-奈布",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{stories:["chapter3-7"],atLeastMaxLevel:70},phases:[{description:"击败噩梦中再次出现的死灵法师奈布。",monsters:[{type:"nightmare.undead.minimal",max:10,delay:5e3},{type:"nightmare.undead.king",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:5e6,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500,position:"gaiter"},{type:"equip",rate:1,mfRate:750,position:"gaiter"},{type:"equip",rate:1,mfRate:1250,position:"gaiter"},{key:"year2018.redbag",count:[1,1],rate:.02}]})},3991:(e,t,n)=>{n(8230);const{define:r,extend:i}=n(6637);r("skills","nightmare.wolf.hunter",{name:"召唤陷阱",castTime:25e3,canUse:(e,t)=>!e.units.find((e=>"nightmare.wolf.hunter.trigger"===e.type)),effect(e,t,n){e.addEnemy("nightmare.wolf.hunter.trigger",null,0,t)}}),r("enemies","nightmare.wolf.hunter",{name:"老练的猎人",description:"的",camp:"shrine",race:"unknown",career:"melee",skills:[{key:"nightmare.wolf.hunter",level:0}]}),r("enemies","nightmare.wolf.hunter.trigger",{name:"陷阱",description:"的",camp:"shrine",race:"unknown",career:"melee",onPress(e){for(const t of e.units)"nightmare.wolf.king"===t.type&&t.stun(5,"stunned",!0);this.kill()}}),r("enemies","nightmare.wolf.healer",{name:"母狼",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"wolf.heal",level:8e6}]}),r("enemies","nightmare.wolf.minium",{name:"公狼",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:2400,atk:1e3,level:250,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0}]}),i("skills","nightmare.wolf.1","wolf.call",{coolDown:3e4,notBreakable:!0,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>75)&&e.call(this,t,n)},effect:()=>function(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("nightmare.wolf.healer",null,0,t),e.addEnemy("nightmare.wolf.minium",null,0,t),e.addEnemy("nightmare.wolf.minium",null,0,t)}}),i("skills","nightmare.wolf.2","knight.melee1",{name:"爪击",coolDown:2e3,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&e.call(this,t,n)}}),i("skills","nightmare.wolf.3","rosa.angry",{name:"嗜血",canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>25)&&e.call(this,t,n)}}),r("enemies","nightmare.wolf.king",{name:"白鬃狼王",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:1e7,def:500,allResist:-500,fireResist:-1500,exp:2400,atk:4e3,level:250,atkSpeed:.8,skills:[{key:"melee",level:0},{key:"enemy.upgrade",level:0},{key:"nightmare.wolf.1",level:0},{key:"nightmare.wolf.2",level:0},{key:"nightmare.wolf.3",level:0},{key:"bossState",level:75},{key:"bossState",level:50},{key:"bossState",level:20}],stunResist:2e4,loots:[{key:"gold",count:[1,100],rate:.25},{type:"equip",rate:1,mfRate:2}]}),r("maps","nightmare.wolf",{name:"噩梦-狼王",isDungeon:!0,isEndless:!0,outside:"home",group:"nightmare.1",requirement:{},phases:[{description:"击败噩梦中再次出现的狼王。",monsters:[{type:"nightmare.wolf.hunter",max:1,delay:10},{type:"nightmare.wolf.king",total:1}]}],stunResist:1e4,resetPrice:250,level:250,exp:5e6,loots:[{key:"gold",rate:1,count:[15e4,25e4]},{type:"equip",rate:1,mfRate:500},{type:"equip",rate:1,mfRate:750},{type:"equip",rate:1,mfRate:1250},{key:"year2018.redbag",count:[1,1],rate:.02}]})},6637:(e,t,n)=>{const r=n(4130);function i(e,t,n){n.key=t,r[e][t]=n}function a(e,t){const n={...e};for(const e of Object.keys(t))"object"!=typeof t[e]||Array.isArray(t[e])?"function"==typeof t[e]?n[e]=t[e](n[e],n):n[e]=t[e]:n[e]=a(n[e],t[e]);return n}t.define=i,t.extend=function(e,t,n,o){i(e,t,a(r[e][n],o))}},1654:(e,t,n)=>{const{define:r,extend:i}=n(6637);i("skills","year2018.heal","wolf.heal",{canUse:e=>function(e,t){const{summoner:n}=t;return!(!n||n.hp>.25*n.maxHp)},effect:()=>function(e,t,n){const r=this.summoner;r&&(e.sendSkillUsage(t,[r],this),r.hp+=1e5)}}),r("enemies","year2018.minimal.fire",{name:"火·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:3e3,atk:2500,level:300,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.fireball",level:3},{key:"year2018.heal",level:0}]}),r("enemies","year2018.minimal.cold",{name:"冰·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:3e3,atk:2500,level:300,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.iceball",level:3},{key:"year2018.heal",level:0}]}),r("enemies","year2018.minimal.lightning",{name:"电·年兽幼崽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:125e4,exp:3e3,atk:2500,level:300,atkSpeed:.6,skills:[{key:"melee",level:0},{key:"shaman.chainingLightning",level:3},{key:"year2018.heal",level:0}]}),i("skills","year2018.shockWave","shockWave",{coolDown:3e4,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>75)&&!(n.hp<.25*n.maxHp)&&(!e||e(t,n))}});const a=["year2018.minimal.fire","year2018.minimal.cold","year2018.minimal.lightning"];i("buffs","year2018.summonMinimal","murloc.thumpHead",{name:"呼唤幼崽",effect:()=>function(e){const t=a[Math.floor(3*Math.random())];e.addEnemy(t,null,0,this.unit)}}),i("skills","year2018.summonMinimal","murloc.thumpHead",{name:"呼唤幼崽",castTime:0,antiBreak:.9,canUse:e=>function(t,n){return!(n.runAttrHooks(100,"bossState")>50)&&(!e||e(t,n))},effect:()=>function(e,t,n){t.startRead("year2018.summonMinimal",5001,null,this)}}),r("enemies","year2018.boss",{name:"三头年兽",description:"不断变形着的黏液，会吞食周围的其它史莱姆。",camp:"enemy",race:"unknown",career:"melee",maxHp:4e7,exp:3200,atk:1e4,level:300,atkSpeed:.8,stunResist:4e4,skills:[{key:"melee",level:0},{key:"wolf.worry",level:0},{key:"year2018.summonMinimal",level:0},{key:"year2018.shockWave",level:10},{key:"bossState",level:75},{key:"bossState",level:50}],hooks:{onSummonDeath(){this.addBuff("swordSkill",void 0,.01)},atkSpeedMul(e,t){return this.hp<.25*this.maxHp?.25*t:t}}}),r("maps","year2018.dungeon",{name:"年兽巢穴",isDungeon:!0,outside:"home",requirement:{level:100},phases:[{description:"沿着阴森的小路前进，寻找年兽的踪迹。",monsters:[{types:{"year2018.minimal.fire":1,"year2018.minimal.cold":1,"year2018.minimal.lightning":1},warmup:1e3,delay:6e3,max:4,total:10}]},{description:"击败洞穴中的三头巨兽。",monsters:[{type:"year2018.boss",delay:1e9,total:1}]}],level:300,exp:15e6,loots:[{key:"gold",rate:1,count:[3e5,6e5]},{type:"specialEquip",rate:1,items:["year2018.yearBeastWeapon-1","year2018.yearBeastWeapon-2","year2018.yearBeastWeapon-3","year2018.yearBeastPlastron-1","year2018.yearBeastPlastron-2","year2018.yearBeastPlastron-3","year2018.yearBeastTrousers-1","year2018.yearBeastTrousers-22","year2018.yearBeastTrousers-3","year2018.yearBeastHeart"]},{type:"equip",rate:1,mfRate:200},{type:"equip",rate:1,mfRate:300},{type:"equip",rate:1,mfRate:500}]})},1448:(e,t,n)=>{n(3046),n(3077),n(1654)},3046:(e,t,n)=>{const{define:r,extend:i}=n(6637);r("buffs","year2018.yearBeastWeapon-1-Buff",{name:"蓄能",description:"蓄能3次后的下一次技能增加100%会心和伤害"}),r("buffs","year2018.yearBeastWeapon-1-Buff2",{name:"充能完毕",description:"下一次技能增加100%会心和伤害",hooks:{critRate:e=>e+1,critBonus:e=>e+1,postSkillEffect(){const{unit:e}=this;e.removeBuff(this)}}}),r("legends","year2018.yearBeastWeapon-1X",{type:"boneWand",itemName:"年兽的小腿骨",itemDescription:"上面的肉去哪儿了？",special:!0,minLevel:1,display:e=>"每释放三个技能，使你下一个技能的会心和会心效果增加100%",generate:e=>1,range:e=>1,hooks:{postSkillEffect(){const e=this.buffs.filter((e=>"year2018.yearBeastWeapon-1-Buff"===e.type));if(e.length>=2){for(const t of e)this.removeBuff(t);this.timeline.setTimeout((()=>{this.addBuff("year2018.yearBeastWeapon-1-Buff2")}),0)}else this.addBuff("year2018.yearBeastWeapon-1-Buff")}}}),r("legends","year2018.yearBeastWeapon-1",{type:"stickSword",itemName:"年兽的利齿",itemDescription:"虽然是利齿，但更像是长剑。",minLevel:1,special:!0,display:e=>"额外增加20%暴击率",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}}),r("legends","year2018.yearBeastWeapon-2",{type:"Machete",itemName:"年兽的利齿",itemDescription:"虽然是利齿，但其实是双刀。",minLevel:1,special:!0,display:e=>"额外增加20%暴击率",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}}),r("legends","year2018.yearBeastWeapon-3",{type:"LongSword",itemName:"年兽的利齿",itemDescription:"虽然是利齿，但其实是太刀。",minLevel:1,special:!0,display:e=>"额外增加20%暴击率",generate:e=>1,range:e=>"无法附魔",hooks:{critRate:(e,t)=>t+.2}}),r("legends","year2018.yearBeastWeapon-XX",{type:"wolfTeethMace",itemName:"年兽的大腿骨",itemDescription:"上面的肉去哪儿了？嗝儿……",minLevel:1,display:e=>"每层暴击使你接下来5秒内伤害增加10%。",special:!0,generate:e=>1,range:e=>1,hooks:{testCrit(e,t){return t>0&&this.addBuff("swordSkill",5e3,.1*t),t}}}),r("legends","year2018.yearBeastPlastron-1",{type:"copperArmor",itemName:"年兽的硬甲",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-1",{type:"copperShinGuard1",itemName:"年兽的鬃毛",itemDescription:"比钢铁还硬的鬃毛。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.1,fireAbsorb:(e,t)=>t+.1,darkAbsorb:(e,t)=>t+.1,coldAbsorb:(e,t)=>t+.1,lightningAbsorb:(e,t)=>t+.1,lightAbsorb:(e,t)=>t+.1,poisonAbsorb:(e,t)=>t+.1}}),r("legends","year2018.yearBeastPlastron-2",{type:"boneArmor",itemName:"年兽的厚皮",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-2",{type:"boneArmor1",itemName:"年兽的厚皮",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-22",{type:"boneShinGuard",itemName:"年兽的皮裤",itemDescription:"再胖的人都穿得上。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.1,fireAbsorb:(e,t)=>t+.1,darkAbsorb:(e,t)=>t+.1,coldAbsorb:(e,t)=>t+.1,lightningAbsorb:(e,t)=>t+.1,lightAbsorb:(e,t)=>t+.1,poisonAbsorb:(e,t)=>t+.1}}),r("legends","year2018.yearBeastPlastron-3",{type:"mithrilDress",itemName:"年兽的毛衣",itemDescription:"散发着硝烟的气息。",minLevel:1,display:e=>"所有伤害吸收+15%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.15,fireAbsorb:(e,t)=>t+.15,darkAbsorb:(e,t)=>t+.15,coldAbsorb:(e,t)=>t+.15,lightningAbsorb:(e,t)=>t+.15,lightAbsorb:(e,t)=>t+.15,poisonAbsorb:(e,t)=>t+.15}}),r("legends","year2018.yearBeastTrousers-3",{type:"mithrilSkirt",itemName:"年兽的毛裤",itemDescription:"再胖的人都穿得上。",minLevel:1,display:e=>"所有伤害吸收+10%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{meleeAbsorb:(e,t)=>t+.1,fireAbsorb:(e,t)=>t+.1,darkAbsorb:(e,t)=>t+.1,coldAbsorb:(e,t)=>t+.1,lightningAbsorb:(e,t)=>t+.1,lightAbsorb:(e,t)=>t+.1,poisonAbsorb:(e,t)=>t+.1}}),r("legends","year2018.yearBeastHeart",{type:"ornament",itemName:"年兽的心脏",itemDescription:"蕴含着时间的力量。",minLevel:1,display:e=>"所有行动速度增加20%。",special:!0,generate:e=>1,range:e=>"无法附魔",hooks:{speedRateAdd:(e,t)=>t+.2}})},3077:(e,t,n)=>{const{define:r,extend:i}=n(6637);r("goods","year2018.redbag",{type:"package",name:"红包",description:"龙年吉祥，新年快乐！打开后获得少量神力和奇怪的精粹！",stack:99999,price:1,requireInventory:2,backgroundColor:"#ff215b",nameColor:"white",loots:[{key:"diamonds",rate:1,count:[10,30]},{key:"wuxingshi",rate:1,count:[3,5]},{type:"ticket",rate:.2,dungeons:{"year2018.dungeon":1}},{type:"specialEquip",rate:.2,items:["year2018.yearBeastWeapon-1","year2018.yearBeastWeapon-2","year2018.yearBeastWeapon-3","year2018.yearBeastPlastron-1","year2018.yearBeastPlastron-2","year2018.yearBeastPlastron-3","year2018.yearBeastTrousers-1","year2018.yearBeastTrousers-22","year2018.yearBeastTrousers-3","year2018.yearBeastHeart"]}]});const{enemies:a,maps:o}=n(4130);for(const e of Object.keys(a)){const t=a[e];t.loots&&t.loots.push({key:"year2018.redbag",count:[1,1],rate:3e-4})}for(const e of Object.keys(o)){const t=o[e];t.loots&&t.loots.push({key:"year2018.redbag",count:[1,1],rate:.3})}},9497:e=>{e.exports=[{key:"atkByDex",name:"强力攻击",description:"攻击你的敌人的弱点。每点敏捷增加1%的攻击力。",hooks:{atkAdd(e,t){return t+this.dex/100}}},{key:"energy",name:"能量",description:"增加100点能量上限。增加10点能量恢复速度。",hooks:{maxEp:(e,t)=>t+100,epRecovery:(e,t)=>t+5}}]},3577:e=>{e.exports=[]},5034:(e,t,n)=>{e.exports=[...n(3577),...n(3236),...n(8441),...n(9497),...n(436)]},8441:e=>{e.exports=[{key:"magic",name:"法力",description:"法力值上限+50，每点智力额外增加5点法力值上限；法力值恢复+1，每点智力额外增加0.1法力值恢复。",hooks:{maxMpAdd(e,t){return t+50+5*this.int},mpRecovery(e,t){return t+1+.1*this.int}}}]},436:e=>{e.exports=[{key:"soulbringer_passive",name:"鬼泣封印",description:"增加20点法力值，每角色等级额外增加5点法力值。每5秒恢复1点法力值，每角色等级额外恢复0.2法力值",hooks:{maxMp(e,t){return t+50+5*this.int},darkResist(e,t){return t+1*this.int},darkdmgLAdd(e,t){return t+1*this.int},atk_self_Add(e,t){return t+.2*this.int+.2*this.str}}}]},3236:e=>{e.exports=[{key:"atkByStr1",name:"力量训练-战士",description:"每点力量+0.2基础攻击",hooks:{atk_self_Add(e,t){return t+.2*this.str}}},{key:"atkByStr2",name:"力量训练-剑士/刀客",description:"每点力量+0.25基础攻击",hooks:{atk_self_Add(e,t){return t+.25*this.str+5}}},{key:"atkByStr3",name:"力量训练-枪兵/大剑士/勇士",description:"每点力量+0.2基础攻击",hooks:{atk_self_Add(e,t){return t+.3*this.str+10}}},{key:"atkByStr4",name:"力量训练-枪骑兵/宗师/血魔",description:"每点力量+0.3基础攻击",hooks:{atk_self_Add(e,t){return t+.4*this.str+15}}},{key:"atkByStr5",name:"力量训练-龙骑",description:"每点力量+0.4基础攻击",hooks:{atk_self_Add(e,t){return t+.5*this.str+20}}},{key:"atkByStr6",name:"力量训练-魔剑/天启/焚天",description:"每点力量+0.4基础攻击",hooks:{atk_self_Add(e,t){return t+.3*this.str+.15*this.int+15}}},{key:"atkByStr7",name:"力量训练-守护/战神/虎卫",description:"每点力量+0.4基础攻击",hooks:{atk_self_Add(e,t){return t+.003*this.maxHp}}},{key:"warriorfire",name:"火伤",description:"火伤+20%",hooks:{firedmgAdd:(e,t)=>t+.2}},{key:"warriorfirecold",name:"冰火伤",description:"冰火伤+20%",hooks:{firedmgAdd:(e,t)=>t+.2,colddmgAdd:(e,t)=>t+.2}},{key:"warriorlightning",name:"雷伤",description:"雷伤+20%",hooks:{lightningdmgAdd:(e,t)=>t+.2}},{key:"warriorsurvival1",name:"生存训练",description:"hp+15%，双防+15%",hooks:{maxHpMul:(e,t)=>t+.15,defMul:(e,t)=>t+.15,allResMul:(e,t)=>t+.15}},{key:"warriorsurvival2",name:"生存训练",description:"hp+15%，双防+15%",hooks:{maxHpMul:(e,t)=>t+.3,defMul:(e,t)=>t+.3,allResMul:(e,t)=>t+.3}},{key:"rage",name:"怒气",description:"增加100点怒气上限。每次攻击增加5点怒气，每次受到攻击增加1点怒气。",hooks:{maxRp:(e,t)=>t+100,rpOnAttack:(e,t)=>t+5,rpOnAttacked:(e,t)=>t+1,maxMpMul:(e,t)=>0}}]},8531:e=>{e.exports={}},1675:e=>{e.exports={key:"Aleanor",name:"亚莲娜",description:"艾尔的童年好友，一名蓝发的少女。似乎有些不同寻常的地方……\n   \n  职业： 魔法学徒\n  职业特性： \n  ①法力值上限+50，法力值恢复+1\n  ②每点智力额外增加5点法力值上限和0.1法力值恢复\n   \n  可以使用的武器： 法杖\n  可以穿戴的防具： 布甲\n    \n  可以习得的主动技能： 杖击、魔法连弹、召唤术·史莱姆\n  可以习得的被动技能： 能量亲和、魔法铠甲\n   \n  当角色等级达到15级且任意一个角色完成副本“迷雾森林”的首通时，可以进行第一次转职。",defaultCareer:"sorceress",atk:0,atkSpeed:1,requirement:{stories:["aleanor-startup"]},attrBase:{str:4,dex:8,int:12,sta:8}}},4564:e=>{e.exports={key:"Eyer",name:"艾尔",description:"边境之村的一名普通少年，熟读数百本勇者传，头发染成了勇者专用的金色。\n   \n  职业： 战士\n  职业特性： \n  ①每点力量额外增加0.2攻击力\n  ②被攻击时获得1点怒气\n  \n  可以使用的武器： 长剑、剑盾、双刀\n  可以穿戴的防具： 轻甲、重甲\n   \n  可以习得的主动技能： 普通攻击、包扎伤口、重击\n  可以习得的被动技能： 坚韧、奋勇\n  \n  当角色等级达到15级且任意一个角色完成副本“迷雾森林”的首通时，可以进行第一次转职。\n  ",defaultCareer:"warrior",atk:1,atkSpeed:.5,attrBase:{str:10,dex:8,int:4,sta:10}}},2334:e=>{e.exports={key:"iPhone14promax",name:"恶魔五月哭",description:"I am the storm that is approaching\n\t \n\tProvoking black clouds in isolation\n\t \n\tI am reclaimer of my name\n\t \n\tBorn in flames, I have been blessed\n\t \n\tMy family crest is a demon of death!\n\t \n\t \n\t职业： 黑暗君主\n\t职业特性： \n\t①法力值上限+50\n\t②每点力量额外增加0.2攻击力\n\t③每点智力额外增加0.2攻击力、1点暗伤害、1点暗抗性、5点法力值上限\n\t \n\t可以使用的武器： 太刀\n\t可以穿戴的防具： 布甲\n\t  \n\t艾冯十世·普洛·麦克斯大佬为大家定制的超强角色。\n\t",defaultCareer:"soulbringer",atk:1,atkSpeed:1,requirement:{stories:["soulbringer-2"],beforeStories:["soulbringer-3"]},attrBase:{str:10,dex:8,int:10,sta:8}}},1725:(e,t,n)=>{e.exports=[n(4564),n(1675),n(2334)]},5969:e=>{function t(e,t){e.combos.push(t),e.combos.length>20&&e.combos.shift()}function n(e){return e?e.combos.length:0}function r(e,t,n,r,i){let a;a=r?n.combos.splice(0,r):n.combos.splice(0),a.forEach((n=>{n.effect(e,t,i)})),i.isCrit=t.testCrit(i.critRate),a.forEach((n=>{n.postEffect(e,t,i)}))}class i{constructor(e){(function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(this,"value",void 0),this.value=e}effect(e,t,n){}postEffect(e,t,n){}}class a extends i{effect(e,t,n){n.dmg+=this.value}}class o extends i{effect(e,t,n){n.critRate+=this.value}}class s extends i{postEffect(e,t,n){t.hp+=t.getCritBonus(n.isCrit,n.critBonus)*this.value}}e.exports=[{key:"assassin.melee",name:"攻击",group:"melee",expGroup:"melee",description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.6*t*100}%-${0|1*t*100}%伤害。连击：在最终一击时额外造成${0|.4*t*100}%武器伤害。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:o=0,atk:s}=n;if(e.testDodge(n,i,this))return;const l=.2*r+1,u=s*(.4*Math.random()+.6)*l,c=n.testCrit(),h=n.getCritBonus(c);e.sendDamage("melee",n,i,this,u*h,c),o&&(n.hp+=o),t(i,new a(.4*s*l)),i.runAttrHooks(n,"attacked")}},{key:"assassin.thump",group:"finalAttack",name:"剔骨",description:e=>{const t=1+.2*e;return`造成巨额的伤害。对目标造成武器每秒伤害的${0|150*t}%-${0|250*t}%伤害。最终一击：需要三个连击效果。`},coolDown:1e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>n(t.target)>=3,effect(e,t,n){const{target:i,atk:a,atkSpeed:o,leech:s=0,critRate:l=0,critBonus:u=1.5}=t,c={dmg:a*(Math.random()+1.5)*(n/5+1)*o,critRate:l,critBonus:u};r(e,t,i,3,c),e.testDodge(t,i,this)||(e.sendDamage("melee",t,i,this,t.getCritBonus(c.isCrit,c.critBonus)*c.dmg,c.isCrit),s&&(t.hp+=s),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked"))}},{key:"assassin.blood",name:"血债血偿",coolDown:1500,cost:{ep:20},description:e=>{const t=1+.2*e;return`用仇恨引导你的攻击，对目标造成武器每秒伤害的${0|1*t*100}%-${0|1.5*t*100}%伤害。连击：在最终一击时恢复武器每秒伤害的${(.2*t*100).toFixed(1)}%生命。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:a=0,atk:o,atkSpeed:l}=n;if(e.testDodge(n,i,this))return;const u=.2*r+1,c=o*(.5*Math.random()+1)*u*l,h=n.testCrit();e.sendDamage("melee",n,i,this,c*n.getCritBonus(h),h),a&&(n.hp+=a),t(i,new s(.2*o*u*l)),i.runAttrHooks(n,"attacked")}},{key:"assassin.coherentExtrapolated",name:"集中意志",coolDown:1500,cost:{ep:20},description:e=>{const t=1+.2*e;return`用意志引导你的攻击，对目标造成武器每秒伤害的${0|1*t*100}%-${0|1.5*t*100}%伤害。连击：使你的最终一击暴击几率提升5%。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:a=0,atk:s,atkSpeed:l}=n;if(e.testDodge(n,i,this))return;const u=.2*r+1,c=s*(.5*Math.random()+1)*u*l,h=n.testCrit();e.sendDamage("melee",n,i,this,n.getCritBonus(h)*c,h),a&&(n.hp+=a),t(i,new o(.05)),i.runAttrHooks(n,"attacked")}},{key:"assassin.cutting",group:"finalAttack",name:"切割",coolDown:1e3,description:e=>`并增加${0|15*(1+.2*e)}%攻击速度和能量恢复速度，持续5秒。最终一击：需要至少五个连击效果，消耗并触发所有剩余连击效果。`,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>n(t.target)>=5,effect(e,t,n){const{target:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t,l={dmg:0,critRate:o,critBonus:s};if(r(e,t,i,0,l),e.testDodge(t,i,this))return;const u=.15*(1+.2*n)+1;t.addBuff("assassin.cutting",5e3,u,"assassin.cutting"),l.dmg>0&&(e.sendDamage("melee",t,i,this,t.getCritBonus(l.isCrit,l.critBonus)*l.dmg,l.isCrit),a&&(t.hp+=a),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked"))}},{key:"assassin.ambush",name:"伏击",description:e=>{const t=1+.2*e;return`对目标造成${0|400*t}%-${0|600*t}%攻击力伤害，30秒内不能对相同的目标再次使用。连击：再次造成相同的伤害值。`},coolDown:e=>5e3/(1+e/10),maxExp:e=>e**2*200+600*e+400,canUse:(e,t,n)=>!!t.target&&!t.target.runAttrHooks(!1,"isAmbushed"),effect(e,n,r){const{target:i,critRate:o=0,critBonus:s=1.5}=n;if(e.testDodge(n,i,this))return;const l=n.testCrit(n.runAttrHooks(o,"ambushCritRate")),u=n.atk*(2*Math.random()+4)*(1+.2*r);e.sendDamage("melee",n,i,this,n.getCritBonus(l)*u,l),t(i,new a(u)),i.addBuff("assassin.Ambush",3e4),i.runAttrHooks(n,"attacked")}},{key:"assassin.daggerFan",name:"刀扇",coolDown:1500,cost:{ep:30},description:e=>{const t=1+.2*e;return`对所有敌人造成武器每秒伤害的${0|.6*t*100}%-${0|1*t*100}%伤害。连击：在最终一击时再次造成武器每秒伤害的${(.1*t*100).toFixed(1)}%伤害。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{leech:i=0,atk:o,atkSpeed:s}=n,l=.2*r+1,u=o*(.4*Math.random()+.6)*l*s;let c=!1;for(const r of e.units.filter((e=>n.willAttack(e)))){if(e.testDodge(n,r,this))continue;c=!0;const i=n.testCrit();e.sendDamage("melee",n,r,this,n.getCritBonus(i)*u,i),t(r,new a(.1*o*l*s))}c&&i&&(n.hp+=i)}},{key:"assassin.kick",name:"脚踢",description:e=>"用力踢飞一个目标，打断其正在释放的技能，并阻止其5秒内释放相同的技能",coolDown:e=>1e4/(1+.1*e),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.sendSkillUsage(t,null,this),r.breakCasting(5e3)}},{key:"assassin.swordSkill",name:"狂热",group:"melee",expGroup:"swordSkill",description:e=>{const t=1+.2*e;return`对目标造成攻击力的${0|60*t}%-${0|100*t}%伤害。连击：使最终一击和接下来的${e+1}秒内增加10%伤害。`},targetType:"target",isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:a,leech:o=0,atk:s}=n;if(e.testDodge(n,a,this))return;const l=s*(.4*Math.random()+.6)*(.2*r+1),u=n.testCrit();e.sendDamage("melee",n,a,this,n.getCritBonus(u)*l,u),o&&(n.hp+=o);const c=new i;c.effect=(e,t,n)=>{n.atkAdd=n.atkAdd||1,n.atkAdd+=.1},c.postEffect=(e,t,n)=>{n.dmg*=n.atkAdd||1,n.atkAdd=null,t.addBuff("swordSkill",1e3*(r+1),.1)},t(a,c),a.runAttrHooks(n,"attacked")}},{key:"assassin.thumpHead",group:"finalAttack",name:"击颅",description:e=>`使目标昏迷${(e+1)/2}秒。最终一击：需要四个连击效果。`,coolDown:1e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>n(t.target)>=3,effect(e,t,n){const{target:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t,l={dmg:0,critRate:o,critBonus:s};r(e,t,i,0,l),e.testDodge(t,i,this)||(i.stun((n+1)/2),l.dmg>0&&(e.sendDamage("melee",t,i,this,t.getCritBonus(l.isCrit,l.critBonus)*l.dmg,l.isCrit),a&&(t.hp+=a),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")))}},{key:"assassin.summonPuppet",name:"影分身",coolDown:e=>3e4/(1+e/10),description:e=>"召唤一个拥有你50%生命值的分身，分散敌人的注意力。同时最多存在3个分身。升级减少此技能的冷却时间。",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&"summon.assassin.puppet"===e.type&&"ghost"!==e.camp)).length<3,effect(e,t,n){e.addEnemy("summon.assassin.puppet",null,0,t,this)}},{key:"summon.puppet.comeToMe",name:"来打我啊",castTime:1500,coolDown:1e4,canUse:(e,t)=>!!t.target,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))n.target=t}},{key:"assassin.dodge",name:"闪避",description:e=>`在未来5秒内，${(100-100/(2+.1*e)).toFixed(2)}%几率闪躲所有攻击`,coolDown:15e3,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){const r=2+.1*n;t.addBuff("assassin.dodge",5e3,r)}}]},7249:e=>{e.exports=[{key:"melee",name:"攻击",group:"melee",description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害。`},coolDown:5e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.5*Math.random()+.75)*(.2*n+1),s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*o,s),i&&(t.hp+=i),t.rp+=t.rpOnAttack,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"melee.aoe",name:"炮击",group:"melee",castTime:500,description:e=>{const t=1+.2*e;return`普普通通的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{leech:r=0,atk:i}=t,a=i*(.5*Math.random()+.75)*(.2*n+1);for(const n of e.units.filter((e=>t.willAttack(e)))){if(e.testDodge(t,n,this))return;const r=t.testCrit();e.sendDamage("melee",t,n,this,t.getCritBonus(r)*a,r),n.rp+=n.rpOnAttacked,n.runAttrHooks(t,"attacked")}r&&(t.hp+=r),t.rp+=t.rpOnAttack}}]},5422:e=>{function t(e){return e<=60?.3*e+1:.5*e+1-6}e.exports=[{key:"summonWindBlade",name:"召唤奥术球",expGroup:"windBlade",element:"wind",description:(e,n)=>{const{int:r}=n;return`召唤${e+3}个奥术球，每个对目标造成${0|1*t(n.level)*(.01*r+1)*n.dmgAdd}点秘法伤害。奥术球有80%几率攻击你当前的目标。`},coolDown:1500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{int:i,target:a}=n,o=1*t(n.level)*(.01*i+1)*n.dmgAdd,s=e.units.filter((e=>e!==a&&n.willAttack(e)));for(let t=0;t<r+3;t++){let t=a;if(e.testDodge(n,t,this))return;const r=n.testCrit();s.length>0&&(!n.target||Math.random()<.2)&&(t=s[Math.floor(Math.random()*s.length)]),e.sendDamage("magic",n,t,this,n.getCritBonus(r)*o,r)}}},{key:"summonFire",name:"召唤火焰精灵",coolDown:1500,cost:{mp:e=>25*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*t(n.level)*(.01*r+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.fire")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.fire",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"summonWater",name:"召唤水元素",coolDown:1500,cost:{mp:e=>20*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一个水元素，使用水箭术攻击你的敌人，每次攻击造成${0|4*t(n.level)*(.01*r+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.water")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.water",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"healthDrill",name:"生命汲取",castTime:1500,coolDown:1e4,description:(e,n)=>{const{int:r}=n;return`对目标造成${0|10*t(n.level)*(.01*r+1)*(.3*e+1)}伤害，为你恢复${10+e}%生命值。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{critRate:i,critBonus:a,target:o,int:s}=n;if(e.testDodge(n,o,this))return;const l=n.testCrit(),u=10*t(n.level)*(.01*s+1)*(.3*r+1)*n.dmgAdd;e.sendHeal(n,n,this,n.maxHp*(.1+.01*r)),e.sendDamage("magic",n,o,this,n.getCritBonus(l)*u,l)}},{key:"explodeSummons",name:"献祭",castTime:1500,coolDown:e=>1e4,maxExp:e=>e**2*200+600*e+400,description:(e,t)=>{const{int:n}=t;return"摧毁你的一个召唤物，对所有目标造成相当于召唤物生命上限的伤害。伤害类型取决于召唤物的类型。"},canUse:(e,t)=>!!e.units.find((e=>e.summoner===t&&e.target)),effect(e,t,n){const r=e.units.filter((e=>e.summoner===t&&e.target)),i=r[Math.floor(Math.random()*r.length)],a=i.runAttrHooks("magic","elementType"),o=i.maxHp*(1+.2*n);for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.testCrit();e.sendDamage(a,i,n,this,t.getCritBonus(r)*o,r)}t.runAttrHooks(i,"onSummonExploded"),i.kill()}},{key:"summonEarth",name:"召唤岩石傀儡",coolDown:1500,cost:{mp:e=>30*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一个岩石傀儡，每次攻击造成${0|6*t(n.level)*(.01*r+1)*(.3*e+1)}物理伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.earth")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.earth",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"summonLightning",name:"召唤闪电风暴",coolDown:1500,cost:{mp:e=>30*(.2*e.level+1)},description:(e,n)=>{const{int:r}=n;return`召唤一团变幻莫测的闪电风暴，每次攻击造成${0|6*t(n.level)*(.01*r+1)*(.3*e+1)}闪电伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.lightning")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.lightning",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(15e3,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"summon.earth.comeToMe",name:"嘲讽",castTime:500,coolDown:5e3,canUse:(e,t)=>!!t.target&&t.target.target!==t,effect(e,t,n){t.target.target=t}},{key:"summon.disappear",name:"隐身术",description:"让所有以你为目标的敌人重新选择目标。升级可以减少此技能的冷却时间",coolDown:e=>2e4/(e+10)*10,maxExp:e=>e**2*200+600*e+400,effect(e,t,n){e.units.forEach((e=>{e.target===t&&(e.setTarget(null),e.findTarget())}))}},{key:"summon.upgrade",name:"升级",description:e=>`升级你的一个召唤物，使其永久存在，提升${e}%生命值和伤害并获得一个新的技能。每种元素最多升级一个。`,castTime:1e3,coolDown:e=>2e4,maxExp:e=>e**2*200+600*e+400,canUse(e,t){const n=e.units.filter((e=>e.summoner===t&&"ghost"!==e.camp)),r=n.filter((e=>e.runAttrHooks(!1,"summon.upgraded"))),i={};for(const e of r)i[e.runAttrHooks("magic","elementType")]=!0;for(const e of n)if(!i[e.runAttrHooks("magic","elementType")])return!0;return!1},effect(e,t,n){const r=e.units.filter((e=>e.summoner===t&&"ghost"!==e.camp)),i=r.filter((e=>e.runAttrHooks(!1,"summon.upgraded"))),a={};for(const e of i)a[e.runAttrHooks("magic","elementType")]=!0;const o=r.filter((e=>!a[e.runAttrHooks("magic","elementType")]));if(!o.length)return;const s=o[Math.floor(Math.random()*o.length)];e.sendSkillUsage(t,[s],this);const l=s.runAttrHooks(null,"getSummonedBuff");l&&(l.stopped=!0,s.removeBuff(l)),s.transformType(s.type+".2"),s.addBuff("summon.upgraded",null,n,"summon.upgraded")}}]},4586:e=>{e.exports=[{key:"slime.swallow",name:"吞噬",description:"吞噬一个小型史莱姆，获取对方的所有生命值。",coolDown:25e3,castTime:1e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&t.maxHp-t.hp>e.maxHp)),effect(e,t,n){const r=e.units.find((e=>e!==t&&t.willAssist(e)));e.sendSkillUsage(t,[r],this);const i=r.maxHp*(.2+.1*n);e.sendHeal(t,t,this,i),e.removeUnit(r)}},{key:"wolf.heal",name:"舔舐伤口",castTime:2e3,description:"用心舔舐同伴的伤口，恢复100点生命值",coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=20)),effect(e,t,n){const r=e.units.filter((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=20)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=30)}},{key:"wolf.call",name:"召唤狼群",description:"召唤伙伴来共同作战",castTime:500,coolDown:45e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<40,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("wolf.giant",null,0,t),e.addEnemy("wolf.minimal",null,0,t),e.addEnemy("wolf.minimal",null,0,t)}},{key:"shaman.fireball",name:"火球术",description:"造成50点火焰伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("fire",t,r,this,2.5*i,!1)}},{key:"bomb",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:2e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.testDodge(t,n,this)||e.sendDamage("fire",t,n,this,t.atk,!1)})),t.kill()}},{key:"candle.call",name:"驱散暗影",description:"召唤一大堆蜡烛",castTime:500,coolDown:4e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<50,effect(e,t,n){e.sendSkillUsage(t,null,this);for(let n=0;n<8;n++)e.addEnemy("kobold.candle",null,0,t)}},{key:"fireElement.fireball",name:"火球术",description:"造成30点火焰伤害",castTime:4e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;if(e.testDodge(t,r,this))return;const a=t.testCrit();e.sendDamage("fire",t,r,this,t.getCritBonus(a)*i,a)}},{key:"kakarif.melee",name:"火焰冲击",group:"melee",description:"造成巨额的火焰伤害",targetType:"target",isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i}=t;e.testDodge(t,i,this)||e.sendDamage("fire",t,i,this,r)}},{key:"kakarif.mad",name:"卡卡列夫之怒",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:2e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("kakarif.mad",4e3)}},{key:"zombie.thumpHead",name:"击颅",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+1)/2}秒。`},coolDown:15e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t;if(e.testDodge(t,r,this))return;const l=i*(.8*Math.random()+2),u=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(u)*l,u),a&&(t.hp+=a),r.breakCasting(),r.stun((n+1)/2),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"zombie.heal",name:"暗影治疗",description:"治疗所有盟友100点生命。每治疗一个盟友，就对所有敌人造成10点暗影伤害",castTime:2e3,coolDown:2e4,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e)));if(r.length>0){for(const e of r)e.hp+=100;const n=10*r.length,i=e.units.filter((e=>t.willAttack(e)));for(const r of i){if(e.testDodge(t,r,this))return;e.sendDamage("dark",t,r,this,n,!1)}}}},{key:"zombie.hide",name:"驱使亡灵",description:"将自己的位置移动到最后，并调整所有目标为自己的敌人",castTime:1e3,coolDown:30589,effect(e,t,n){e.units.remove(t),e.units.push(t),e.units.forEach((e=>{e.target===t&&(e.setTarget(null),e.findTarget())}))}},{key:"shieldShock",name:"盾击",description:e=>`反制一个目标，打断其正在释放的技能，并阻止其${e+5}秒内释放相同的技能`,coolDown:e=>1e4+1e3*e,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.testDodge(t,r,this)||(e.sendSkillUsage(t,null,this),r.breakCasting(5e3+1e3*n))}},{key:"knight.heal",name:"圣光术",description:"治疗一个队友",castTime:3e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=100)),effect(e,t,n){const r=e.units.filter((e=>e!==t&&t.willAssist(e)&&e.maxHp-e.hp>=100)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=t.maxHp/5)}},{key:"knight.shout",name:"战斗怒吼",description:e=>`在未来30秒内增加所有同伴${10+10*e|0}%护甲。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this),e.units.filter((e=>e===t||t.willAssist(e))).forEach((e=>{e.addBuff("shout",3e4,1,"shout")}))}},{key:"necromancer.ghostShield",name:"幽魂护卫",description:"召唤伙伴来共同作战",coolDown:45e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!e.units.find((e=>"chapter3.undead.ghostShield"===e.type)),effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.undead.ghostShield",null,0,t),e.addEnemy("chapter3.undead.ghostShield",null,0,t),e.addEnemy("chapter3.undead.ghostShield",null,0,t)}},{key:"ghostShield",name:"幽魂护卫",description:"使奈布免疫所有伤害",castTime:500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>"chapter3.necromancer"===e.type)),effect(e,t,n){e.units.find((e=>"chapter3.necromancer"===e.type)).addBuff("ghostShield",1e3,null,"ghostShield")}},{key:"shaman.darkball",name:"暗影箭",description:"造成50点暗影伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("dark",t,r,this,.45*i,!1)}},{key:"darkElement.darkball",name:"暗影箭",description:"造成50点暗影伤害",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("dark",t,r,this,i,!1)}},{key:"simba.heal",name:"治疗波",description:"治疗一个队友",castTime:3500,coolDown:25e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>t.willAssist(e)&&e.maxHp-e.hp>=3e3)),effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e)&&e.maxHp-e.hp>=3e3)).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendSkillUsage(t,[r],this),r.hp+=3e3)}},{key:"simba.thumpHead",name:"冲撞",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:15e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t;if(e.testDodge(t,r,this))return;const l=i*(.8*Math.random()+.5),u=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(u)*l,u),a&&(t.hp+=a),r.breakCasting(),r.stun(2),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"shaman.iceball",name:"寒冰箭",description:"造成50点寒冷呢伤害",coolDown:1e4,castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("cold",t,r,this,2.5*i,!1)}},{key:"murloc.thumpHead",name:"鱼人大军",description:"召唤大量悍不畏死的小鱼人，向敌人发起冲锋",coolDown:3e4,effect(e,t,n){t.startRead("murloc.thumpHead",5001,null,this)}},{key:"murloc.army.thumpHead",name:"冰霜冲锋",castTime:3e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){const{atk:r}=t,i=e.units.filter((e=>"player"===e.camp)),a=i[Math.floor(Math.random()*i.length)];if(!a||e.testDodge(t,a,this))return void t.kill();const o=r*(.5*Math.random()+1);e.sendDamage("cold",t,a,this,o,!1),a.breakCasting(),a.stun(2),a.rp+=a.rpOnAttacked,a.runAttrHooks(t,"attacked"),t.kill()}},{key:"murloc.shieldShout",name:"水之庇护",description:e=>"为所有同伴增加一个护盾，吸收3000点伤害。",coolDown:3e4,castTime:2e3,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this),e.units.filter((e=>e===t||t.willAssist(e))).forEach((e=>{e.addBuff("murloc.waterShield",3e4,3e3)}))}},{key:"fishzilla.summonSlaves",name:"召唤奴隶",description:"召唤伙伴来共同作战",coolDown:1e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.murloc.slaves",null,0,t)}},{key:"fishzilla.focus",name:"奥术射线",coolDown:10,canUse:(e,t)=>!!e.units.find((e=>"chapter3.fishzilla"===e.type)),effect(e,t,n){const r=e.units.find((e=>"chapter3.fishzilla"===e.type));t.target!==r&&(t.target=r),t.startRead("fishzilla.focus",1e5,null,this)}},{key:"fishzilla.bomb",name:"冰箭乱射",description:"对全体敌人造成300点冰霜伤害",castTime:2e3,coolDown:e=>2e4-1e3*e,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){const{atk:r,critRate:i=0,critBonus:a=1.5}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{if(e.testDodge(t,n,this))return;const i=t.testCrit();e.sendDamage("cold",t,n,this,t.getCritBonus(i)*r,i)}))}},{key:"waterElement.waterArrow",name:"水箭术",description:"造成30点冰冷伤害",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;if(e.testDodge(t,r,this))return;const a=t.testCrit();e.sendDamage("cold",t,r,this,t.getCritBonus(a)*i,a)}},{key:"waterElement.waterArrow.notBreakable",name:"水箭术",description:"造成30点冰冷伤害",castTime:2e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;if(e.testDodge(t,r,this))return;const a=t.testCrit();e.sendDamage("cold",t,r,this,t.getCritBonus(a)*i,a)}},{key:"azathoth.transformIce",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.7*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.ice")}},{key:"azathoth.transformEarth",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.4*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.earth")}},{key:"azathoth.transformDark",name:"形态转换",castTime:3e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>t.hp<.2*t.maxHp,effect(e,t,n){t.transformType("chapter3.element.azathoth.dark")}},{key:"azathoth.explode",name:"同归于尽",castTime:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))e.sendDamage("real",t,n,this,5e5,!0);t.transformType("chapter3.element.azathoth.none"),t.kill()}},{key:"enemy.upgrade",name:"愤怒",description:"增加10%攻击力",coolDown:3e4,effect(e,t,n){t.addBuff("enemy.upgrade")}},{key:"waterElement.waterFlow",name:"激流",description:"造成30点冰冷伤害",notBreakable:!0,castTime:4e3,coolDown:3e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.sendDamage("cold",t,r,this,20*i,!1)}},{key:"orcs.summonWolf",cost:{ep:50},name:"召唤狼群",description:"召唤伙伴来共同作战",castTime:1e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.orcs.wolf",null,0,t)}},{key:"wolf.worry",name:"撕咬",coolDown:2e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.sendSkillUsage(t,[r],this),r.addBuff("wolf.worry",1e4,t.atk,"wolf.worry")}},{key:"shaman.chainingLightning",name:"闪电链",description:"对随机5个敌人造成伤害，伤害依次减少20%",castTime:1e3,coolDown:8e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target&&t.hp<=.6*t.maxHp,effect(e,t,n){const r=e.units.filter((e=>t.canAttack(e)));let i=4*t.atk;for(let n=0;n<5&&!(r.length<1);n++){const n=Math.floor(Math.random()*r.length),a=r.splice(n,1)[0];e.testDodge(t,a,this)||(e.sendDamage("lightning",t,a,this,i,!1),i*=.8)}}},{key:"lightningElement.chainingLightning",name:"闪电链",description:"对随机3个敌人造成伤害，伤害依次减少20%",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,critRate:i=0,critBonus:a=1.5}=t,o=Math.random()<i,s=e.units.filter((e=>t.canAttack(e)));let l=o?r*a:r;for(let n=0;n<3&&!(s.length<1);n++){const n=Math.floor(Math.random()*s.length),r=s.splice(n,1)[0];e.testDodge(t,r,this)||(e.sendDamage("lightning",t,r,this,l,o),l*=.8)}}},{key:"lightningElement.stunAll",name:"乱雷",coolDown:1e4,castTime:1e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,critRate:i=0,critBonus:a=1.5}=t;e.units.filter((e=>t.willAttack(e))).forEach((i=>{if(e.testDodge(t,i,this))return;const a=r*(.4*Math.random()+.6)*(1+.2*n),o=t.testCrit();e.sendDamage("lightning",t,i,this,t.getCritBonus(o)*a,o),i.stun(n+2),i.breakCasting(),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}))}},{key:"orcs.summonHealToken",name:"治疗图腾",description:"召唤伙伴来共同作战",castTime:1e3,coolDown:15e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>e.units.filter((e=>e.camp===t.camp)).length<20&&t.hp<=.3*t.maxHp,effect(e,t,n){e.sendSkillUsage(t,null,this),e.addEnemy("chapter3.orcs.totem",null,0,t)}},{key:"totem.heal",name:"治愈之雨",description:"治疗所有盟友100点生命。",castTime:1e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t!==e&&t.willAssist(e)));for(const e of r)e.hp+=1e3}},{key:"chapter4.humans.seck.summonDarkSoul",name:"召唤虚空行者",coolDown:1500,cost:{mp:1e3},description:(e,t)=>{const{int:n}=t;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>e.units.filter((e=>"chapter4.humans.monster"===e.type)).length<1,effect(e,t,n){const r=e.addEnemy("chapter4.humans.monster",null,0,t,this);t.runAttrHooks(r,"summonedUnit")}},{key:"chapter4.humans.seck.healthDrill",name:"生命汲取",castTime:3e3,coolDown:2e4,description:(e,t)=>{const{int:n}=t;return`对目标造成${0|10*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，为你恢复${10+e}%生命值。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i}=t;if(e.testDodge(t,i,this))return;const a=r/2;e.sendHeal(t,t,this,t.maxHp*(.05+.01*n)),e.sendDamage("dark",t,i,this,a)}},{key:"chapter4.humans.women.thumpHead",name:"魅惑",group:"thump",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:15e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;e.testDodge(t,r,this)||(r.breakCasting(),r.stun(5))}},{key:"chapter4.humans.seck.summonWomen",name:"召唤魅魔",coolDown:1500,cost:{mp:1e3},description:(e,t)=>{const{int:n}=t;return`召唤一个火焰精灵，使用火球术攻击你的敌人，每次攻击造成${0|5*(t.level*UNIT_LEVEL_RATE+1)*(.01*n+1)*(.3*e+1)}伤害，持续15秒。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>e.units.filter((e=>"chapter4.humans.women"===e.type)).length<2,effect(e,t,n){const r=e.addEnemy("chapter4.humans.women",null,0,t,this);t.runAttrHooks(r,"summonedUnit")}},{key:"knight.glory.enemy",name:"荣耀",description:e=>`荣耀的力量。为自己恢复${10+e}%生命值。需要三点圣能。`,cost:{comboPoint:3},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!0,effect(e,t,n){const r=e.units.filter((e=>t.willAssist(e))).sort(((e,t)=>t.maxHp-t.hp-(e.maxHp-e.hp)))[0];r&&(e.sendHeal(t,r,this,t.maxHp*(.1+.01*n)),e.sendSkillUsage(t,null,this))}},{key:"knight.thumpHead.enemy",name:"制裁之锤",expGroup:"knight.thumpHead",description:e=>`使目标昏迷${e+3}秒。`,coolDown:1e4,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.stun(n+3)}},{key:"enemy.fearas.summonTrigger",name:"召唤陷阱",description:e=>"召唤一个随机品牌的地雷。当心！",coolDown:2e3,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=["chapter4.humans.trigger.5.1","chapter4.humans.trigger.5.2","chapter4.humans.trigger.5.3","chapter4.humans.trigger.5.4"],i=r[Math.floor(Math.random()*r.length)];e.addEnemy(i,null,0,t),i===r[3]?e.sendGeneralMsg("额，拿错了。"):e.sendGeneralMsg("菲尔斯放置了一个地雷，快拆掉它！")}},{key:"enemy.fearas.bomb",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.units.filter((e=>t.canAttack(e))).forEach((n=>{e.testDodge(t,n,this)||e.sendDamage("fire",t,n,this,t.atk,!1)})),t.kill()}},{key:"enemy.fearas.bomb1",name:"爆裂",description:"对全体造成100点火焰伤害",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){e.sendGeneralMsg("这是一颗哑炮。"),t.kill()}},{key:"enemy.fearas.bomb2",name:"损坏",description:"一会就坏了",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){t.kill()}},{key:"enemy.evil.reading1",name:"精神鞭笞",description:"造成持续的伤害",notBreakable:!0,coolDown:15e3,effect(e,t,n){t.startRead("enemy.evil.reading1",5001,null,this)}},{key:"enemy.evil.control",name:"精神控制",description:"造成持续的伤害",notBreakable:!0,coolDown:1e4,castTime:500,canUse:(e,t)=>!!e.units.find((e=>"chapter4.humans.boss.milhous"===e.type)),effect(e,t,n){const r=e.units.find((e=>"chapter4.humans.boss.milhous"===e.type));r&&r.addBuff("enemy.evil.control",null,null,"control"),e.sendGeneralMsg("米尔豪斯晕了头！快让他恢复正常！")}},{key:"silver.sorceress.boss.1.bolt",name:"奥术冲击",description:"造成50点火焰伤害",castTime:2e3,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i}=t;e.testDodge(t,r,this)||e.sendDamage("magic",t,r,this,10*i,!1)}},{key:"earthElement.recovery",name:"修复",coolDown:18e3,castTime:2e3,description:e=>`荣耀的力量。为自己恢复${10+e}%生命值。需要三点圣能。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>t.hp<t.maxHp,effect(e,t,n){e.sendHeal(t,t,this,.3*t.maxHp),e.sendSkillUsage(t,null,this)}},{key:"fireElement.flameStrike",name:"烈焰风暴",maxExp:e=>e**2*100+300*e+200,castTime:3e3,coolDown:25e3,canUse:(e,t)=>!!t.target,description:(e,t)=>{const{atk:n}=t;return`对所有敌人造成${n}点伤害。`},effect(e,t,n){const{atk:r,critRate:i,critBonus:a}=t;e.units.filter((e=>t.willAttack(e))).forEach((n=>{if(e.testDodge(t,n,this))return;const i=t.testCrit();e.sendDamage("fire",t,n,this,t.getCritBonus(i)*r,i)}))}},{key:"shamansa.spew",name:"呕吐",maxExp:e=>1e20,coolDown:25e3,notBreakable:!0,canUse:(e,t)=>!!t.target,description:"将刚吃下去的吐出来",effect(e,t,n){t.startRead("shamansa.spew",5001,null,this)}},{key:"rosa.sleepy",name:"昏昏欲睡",description:e=>{const t=1+.1*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${(e+5)/2}秒。`},coolDown:15e3,maxExp:e=>e**2*150+450*e+300,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=e.units.filter((e=>t.canAttack(e)));for(const e of r)e.breakCasting(),e.stun(5)}},{key:"rosa.angry",name:"起床气",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:3e3,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("rosa.angry",5e3)}},{key:"chapter5.daughter.monster2",name:"幽闭",description:e=>`使目标昏迷${e+3}秒。`,coolDown:1e4,castTime:3e3,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.breakCasting(),r.stun(5)}},{key:"chapter5.daughter.monster4",name:"惊慌失措",description:"增加300%攻击速度，持续4秒。",targetType:"target",castTime:3e3,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("rosa.angry",5e3)}}]},5218:(e,t,n)=>{e.exports=[...n(7249),...n(4012),...n(8417),...n(5969),...n(5665),...n(5422),...n(192),...n(9937),...n(4586),...n(7148),...n(8265)]},8265:e=>{e.exports=[{key:"karon_tombstone",name:"天降墓碑",coolDown:18e3,notBreakable:!0,description:(e,t)=>`每秒召唤一块墓碑，持续5秒。\n\t\t\t墓碑：墓碑入场时立即对所有目标造成${Math.round((80+2*e)/100*t.atk)}-${Math.round((90+3*e)/100*t.atk)}点暗属性伤害；自爆后再次对所有目标造成${Math.round((20+1*e)/100*t.atk)}-${Math.round((25+1*e)/100*t.atk)}点暗属性伤害`,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("karon_tombstonesummon_buff",5005,null,this)}},{key:"karon_tombstoneplus",name:"坟头蹦迪",coolDown:4e4,notBreakable:!0,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤一个坟头上场。\n\t\t\t坟头：携带“蹦迪”、“自爆”技能。"),cost:{mp:150},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"karon_summon_tombstoneplus"===e.type)),effect(e,t,n){e.addEnemy("karon_summon_tombstoneplus",null,0,t,this)}},{key:"karon_dark_jige",name:"吉哥降临",coolDown:2e4,castTime:5e3,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤神官吉哥上场。\n\t\t\t吉哥：携带“鬼斩”、“天降墓碑”、“自爆”技能。"),cost:{mp:450},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"karon_summon_jige"===e.type)),effect(e,t,n){e.addEnemy("karon_summon_jige",null,0,t,this)}}]},5665:e=>{function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.runAttrHooks(3,"maxComboPoint");e.runAttrHooks(t,"holyCombo"),e.comboPoint=Math.min(n,e.comboPoint+t)}e.exports=[{key:"knight.melee",name:"攻击",group:"melee",expGroup:"melee",description:e=>{const t=1+.2*e;return`正义的一击。对目标造成攻击力的${0|.75*t*100}%-${0|1.25*t*100}%伤害，产生一点圣能。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:a=0,atk:o}=n;if(e.testDodge(n,i,this))return;const s=o*(.5*Math.random()+.75)*(.2*r+1),l=n.testCrit();e.sendDamage("melee",n,i,this,n.getCritBonus(l)*s,l),a&&(n.hp+=a),t(n),i.runAttrHooks(n,"attacked")}},{key:"knight.thump",group:"thump",name:"重击",expGroup:"thump",description:e=>{const t=1+.2*e;return`审判的一击。造成巨额的伤害。对目标造成攻击力的${0|250*t}%-${0|350*t}%伤害。需要三点圣能。`},cost:{comboPoint:3},coolDown:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t;if(e.testDodge(t,r,this))return;const l=i*(Math.random()+2.5)*(n/5+1),u=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(u)*l,u),a&&(t.hp+=a),r.runAttrHooks(t,"attacked")}},{key:"knight.cleave",name:"顺劈斩",group:"melee",description:(e,t)=>{const n=(1+.2*e)*t.runAttrHooks(1,"cleaveDamageRate");return`制裁的一击。对最多三个目标分别造成(${0|30*n}%-${0|42*n}%)倍攻击力伤害，产生一点圣能。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:a,leech:o=0}=n,s=n.runAttrHooks(1,"cleaveDamageRate"),l=i*(.12*Math.random()+.3)*(r/5+1)*s,u=n.testCrit();e.sendDamage("melee",n,a,this,n.getCritBonus(u)*l,u);let c=.4;e.units.filter((e=>e!==a&&n.willAttack(e))).slice(0,2).forEach((t=>{if(e.testDodge(n,t,this))return;const a=i*(.12*Math.random()+.3)*(r/10+1);c+=.4,e.sendDamage("melee",n,t,this,n.getCritBonus(u)*a,u),t.runAttrHooks(n,"attacked")})),o&&(n.hp+=o*c),t(n),a.runAttrHooks(n,"attacked")}},{key:"knight.whirlwind",name:"破邪斩",description:e=>{const t=1+.2*e;return`荣耀的一击。对全体目标造成造成攻击力的${0|60*t}%-${0|80*t}%伤害。需要三点圣能。`},coolDown:800,cost:{comboPoint:3},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.atk*(.2*n+1),i=e.units.filter((e=>t.willAttack(e))),{critRate:a=0,critBonus:o=1.5,leech:s}=t;s&&(t.hp+=s),i.forEach((n=>{if(e.testDodge(t,n,this))return;const i=r*(.2*Math.random()+.6),a=t.testCrit();e.sendDamage("melee",t,n,this,t.getCritBonus(a)*i,a),n.runAttrHooks(t,"attacked")}))}},{key:"knight.holySign",name:"圣光圣印",group:"sign",coolDown:8e3,description:e=>`在目标身上印上光明的圣印，每个伤害目标的人恢复其造成伤害的${10+2*e}%生命值，持续10秒。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=.1+.02*n,{target:i}=t;i.addBuff("knight.holySign",1e4,r,"knight.sign")}},{key:"knight.damageSign",name:"审判圣印",group:"sign",coolDown:8e3,description:e=>`在目标身上印上审判的圣印，当其攻击或释放技能时对周围所有你的敌人造成你攻击力的${0|100*(1+.2*e)*.4}%伤害，持续10秒。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=.4*(1+.2*n),{target:i}=t;i.addBuff("knight.damageSign",1e4,r,"knight.sign")}},{key:"knight.thumpHead",name:"制裁之锤",expGroup:"knight.thumpHead",description:e=>`使目标昏迷${e+5}秒。`,coolDown:1e4,maxExp:e=>e**2*300+500*e+600,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r}=t;r.stun(n+5)}},{key:"knight.sacrifice",name:"牺牲",group:"melee",expGroup:"sacrifice",description:e=>{const t=1+.2*e;return`绝望的一击。对目标造成攻击力的${0|1*t*100}%-${0|1.75*t*100}%伤害，你自己受到${(15/t).toFixed(1)}%的总伤害，产生一点圣能。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:a=0,atk:o}=n;if(e.testDodge(n,i,this))return;let s=o*(.75*Math.random()+1);const l=n.testCrit();e.sendDamage("melee",n,n,this,n.getCritBonus(l)*s*.15,l),s*=.2*r+1,e.sendDamage("melee",n,i,this,n.getCritBonus(l)*s,l),a&&(n.hp+=a),t(n),i.runAttrHooks(n,"attacked")}},{key:"knight.glory",name:"荣耀",description:e=>`荣耀的力量。为自己恢复${10+e}%生命值。需要三点圣能。`,coolDown:1e4,cost:{comboPoint:e=>e.runAttrHooks(!1,"cheapGlory")?0:3},maxExp:e=>e**2*200+600*e+400,effect(e,t,n){e.sendHeal(t,t,this,t.maxHp*(.1+.01*n)),e.sendSkillUsage(t,null,this)}},{key:"knight.reflect",name:"盾牌反射",description:e=>`受到法术伤害时，抵挡其伤害，并对伤害来源造成${20+4*e}%的伤害，持续${e+5}秒。`,maxExp:e=>e**2*200+600*e+400,castTime:2e3,coolDown:e=>2e4+2e3*e,effect(e,t,n){t.addBuff("knight.shieldReflect",1e3*(n+5),.2+.04*n)}},{key:"knight.holyShield",name:"保护祝福",description:e=>`在未来${e+3}秒内，免疫所有的物理伤害。只会在生命值小于50%时使用。同时获得三点圣能。`,maxExp:e=>e**2*200+600*e+400,coolDown:e=>3e4+2e3*e,shouldUse:(e,t)=>t.hp<t.maxHp/2,effect(e,n,r){n.addBuff("holyShield",1e3*(r+3)),t(n,3)}},{key:"knight.kick",name:"盾击",description:e=>"用盾牌冲撞敌人，打断其正在释放的技能，并阻止其5秒内释放相同的技能",coolDown:e=>1e4/(1+.1*e),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.sendSkillUsage(t,null,this),r.breakCasting(5e3)}},{key:"knight.pray",name:"祈祷",coolDown:2e4,description:e=>`在战斗的同时念诵祈祷的颂词，在接下来10秒内每${(5/(1+.2*e)).toFixed(1)}秒获得一点圣能`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("knight.pray",10005,5e3/(1+.2*n),"knight.pray")}},{key:"knight.melee1",name:"驱邪术",coolDown:3e3,description:e=>{const t=1+.2*e;return`用圣光的力量驱散邪恶。对目标造成攻击力的${0|1*t*100}%-${0|1.5*t*100}%伤害。`},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.5*Math.random()+1)*(.2*n+1),{critRate:s=0,critBonus:l=1.5}=t,u=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(u)*o,u),i&&(t.hp+=i),r.runAttrHooks(t,"attacked")}},{key:"knight.deserve",name:"奉献",coolDown:1e4,description:e=>{const t=1+.2*e;return`将圣光灌注到脚下的土地，在接下来的8秒内每2秒对所有敌人造成攻击力的${0|30*t}%-${0|50*t}%伤害。`},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){t.addBuff("knight.deserve",10005,n,"knight.deserve")}}]},8417:e=>{function t(e,t){const n=e.runAttrHooks(!1,"magicArtist"),r=e.buffs.find((e=>"magicState"===e.group));n?r?r.arg!==t&&(r.arg=t,e.addBuff("magicArtist",5e3,.1)):e.addBuff("magicState",null,t,"magicState"):r&&e.removeBuff(r)}e.exports=[{key:"sorceress_atk",name:"杖击",coolDown:1500,element:"melee",description:(e,t)=>`魔法入门第一课，以理服人。\n\t\t\t对目标造成${Math.round((100+1*e)/100*t.atk)}-${Math.round((150+2*e)/100*t.atk)}点物理伤害。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:a=0,atk:o}=n;if(e.testDodge(n,i,this))return;const s=o*(1+.01*r+Math.random()*(.5+.01*r))*n.dmgAdd,l=n.testCrit();e.sendDamage("melee",n,i,this,n.getCritBonus(l)*s,l),a&&(n.hp+=a),i.rp+=i.rpOnAttacked,i.runAttrHooks(n,"attacked"),t(n,"melee")}},{key:"wind_blade",name:"魔法连弹",element:"magic",description:(e,t)=>{const n=Math.round(.8*(t.int*(.1+.005*e)/2+2)),r=Math.round(1.2*(t.int*(.1+.005*e)/2+2));return`命中靶心，十环。！\n\t\t\t连续释放${Math.floor(e/10)+4}个魔法飞弹，每个对目标造成${n}-${r}点魔法伤害。\n\t\t\t每个飞弹攻击随机的目标,每10技能等级增加1个魔法飞弹。`},coolDown:1500,cost:{mp:2},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{int:i=0,target:a}=n;!function(e){e.runAttrHooks(!1,"lv15_sorceress1_enhance1")&&e.addBuff("chord_buff",null,null,"chord_buff")}(n);let o=1;n.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&n.mp>.2*n.maxMp&&(n.mp-=.02*n.maxMp,o+=.02*n.maxMp*.001);const s=e.units.filter((e=>e!==a&&n.willAttack(e)));for(let t=0;t<Math.floor(r/10)+4;t++){let t=a;if(e.testDodge(n,t,this))return;s.length>0&&(!n.target||Math.random()<.8)&&(t=s[Math.floor(Math.random()*s.length)]);const i=Math.round((n.int*(.1+.005*r)/2+2)*(.8+.4*Math.random()))*o,l=n.testCrit();e.sendDamage("magic",n,t,this,n.getCritBonus(l)*i,l)}t(n,"magic")}},{key:"summon_slime",name:"召唤术·史莱姆",casttime:2e3,coolDown:1500,cost:{mp:20},description:(e,t)=>`你喊来了一团史莱姆，就和你刚刚干掉的那只一毛一样。\n\t\t\t召唤一团史莱姆，20秒后史莱姆将撤离现场。\n\t\t\t召唤物攻击力：${Math.round(t.int/2+e)}\n\t\t\t召唤物生命值：${Math.round((t.maxHp+2*t.int)**(1+e/10))}`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map&&e.units.filter((e=>e.summoner===t&&e.type.indexOf("summon.element.slime")>=0&&"ghost"!==e.camp)).length<t.runAttrHooks(1,"summonCount"),effect(e,t,n){const r=e.addEnemy("summon.element.slime",null,0,t,this);r.addBuff("summoned",t.runAttrHooks(2e4,"summonTime")),t.runAttrHooks(r,"summonedUnit")}},{key:"sorceress_fireBall",name:"火球术",element:"fire",description:(e,t)=>{const n=(15+2*e)*(.01*t.int+1)*(.2*e+1);return`烫烫烫...\n\t\t\t根据智力以及技能等级，对目标造成${Math.round(.5*n)}-${Math.round(1.5*n)}点火焰伤害。`},castTime:3e3,coolDown:100,cost:{mp:e=>20},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,n,r){const{target:i}=n;if(e.testDodge(n,i,this))return;const a=n.runAttrHooks(1,"two_kjk");let o=1;n.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&n.mp>.2*n.maxMp&&(n.mp-=.02*n.maxMp,o+=.02*n.maxMp*.001);const s=n.buffs.find((e=>"chord_buff"===e.group));let l=1;s&&(l+=.2,n.removeBuff(s));const u=(15+2*r)*(.01*n.int+1)*(.2*r+1)*(.5+Math.random())*n.firedmgAdd*a*l*o,c=n.testCrit();e.sendDamage("fire",n,i,this,n.getCritBonus(c)*u,c),t(n,"fire")}},{key:"sorceress_magicShield",name:"魔法盾",element:"magic",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!t.runAttrHooks(!1,"haveMagicShield")&&"home"!==e.map,description:(e,t)=>`消耗法力值以吸收伤害，每点法力值吸收${Math.round(100+8*e)/100}点伤害，最多吸收${0|t.maxMp*(.5+.01*e)}点伤害。`,coolDown:1e4,effect(e,n,r){const{int:i=0}=n,a=Math.round(100+8*r)/100,o=n.maxMp*(.5+.01*r);n.addBuff("magicShield",6e4,[a,o]),t(n,"magic")}},{key:"sorceress_vitalitywater",name:"活力之水",description:e=>`每秒恢复${Math.round(50+1*e)/100}%的生命值和法力值，持续10秒。`,coolDown:15e3,castTime:1e3,maxExp:e=>e**2*200+600*e+400,effect(e,t,n){t.addBuff("vitalitywater_buff",10005,(.05+.001*n)/10,"vitalitywater_buff")}},{key:"sorceress_igniting",name:"点燃",element:"fire",description:(e,t)=>{const n=(20+2*e)*(.01*t.int+1)*(.2*e+1);return`为目标添加一层“灼烧”效果。\n\t\t\t灼烧：每3秒受到${Math.round(n)}点火焰伤害，持续15秒，可叠加。`},coolDown:2e4,cost:{mp:e=>30},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,n,r){const{target:i}=n;e.testDodge(n,i,this)||(function(e,t,n){const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(15e3)):t.addBuff("fire_buff",15e3,n,"fire_buff")}(0,i,(20+2*r)*(.01*n.int+1)*(.2*r+1)*n.firedmgAdd),t(n,"fire"))}},{key:"sorceress_lightning",name:"闪电",element:"lightning",description:(e,t)=>{const n=(25+2*e)*(.01*t.int+1)*(.2*e+1);return`\n\t\t\t根据智力以及技能等级，对目标造成1-${Math.round(3*n)}点闪电伤害。`},castTime:2e3,coolDown:100,cost:{mp:e=>30},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target&&t.target.lightningAbsorb<1,effect(e,n,r){const{target:i}=n;if(e.testDodge(n,i,this))return;let a=1;n.runAttrHooks(!1,"lv15_sorceress1_enhance3")&&n.mp>.2*n.maxMp&&(n.mp-=.02*n.maxMp,a+=.02*n.maxMp*.001);const o=n.buffs.find((e=>"chord_buff"===e.group));let s=1;o&&(s+=.2,n.removeBuff(o));const l=(1+(25+2*r)*(.01*n.int+1)*(.2*r+1)*Math.random()*3)*n.lightningdmgAdd*s*a,u=n.testCrit();e.sendDamage("lightning",n,i,this,n.getCritBonus(u)*l,u),t(n,"lightning")}}]},9937:e=>{function t(e,t,n){if(e.runAttrHooks(!1,"flaming")){const e=t.buffs.find((e=>"flaming"===e.group));e?(e.arg+=n/10,e.resetTimer(1e4)):t.addBuff("flaming",1e4,n/10,"flaming")}}function n(e,t){const n=e.runAttrHooks(!1,"magicArtist"),r=e.buffs.find((e=>"magicState"===e.group));n?r?r.arg!==t&&(r.arg=t,e.addBuff("magicArtist",5e3,.1)):e.addBuff("magicState",null,t,"magicState"):r&&e.removeBuff(r)}function r(e){const t=e.buffs.find((e=>"coldAir"===e.group));t?t.arg=Math.min(t.arg+.01,.99):e.addBuff("coldAir",null,.01,"coldAir")}function i(e){return e<=60?.3*e+1:.5*e+1-6}const a=["羊","鸡","猪","乌龟","大象","牛","鼠","兔","蛇","蛋"];e.exports=[{key:"iceArrow",name:"寒冰箭",element:"ice",description:(e,t)=>{const{int:n}=t;return`对目标造成${0|10*i(t.level)*(.01*n+1)*i(e)*t.dmgAdd}点寒冷伤害，并使目标未来3秒所有行动减缓20%`},castTime:1500,cost:{mp:e=>8*(.2*e.level+1)},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target&&t.target.coldAbsorb<1,effect(e,t,a){const{critRate:o,critBonus:s,target:l,int:u=0}=t;if(e.testDodge(t,l,this))return;const c=10*i(t.level)*(.01*u+1)*(.3*a+1)*t.dmgAdd;Math.random()<t.runAttrHooks(!1,"soCold")?l.stun(3,"freezed"):l.addBuff("cold",3e3,null,"cold"),t.runAttrHooks(!1,"coldAir")&&r(l);const h=t.testCrit();e.sendDamage("cold",t,l,this,t.getCritBonus(h)*c,h),n(t,"ice")}},{key:"fireBall",name:"火球术",element:"fire",description:(e,t)=>{const{int:n}=t;return`对目标造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点火焰伤害`},castTime:2e3,cost:{mp:e=>10*(.2*e.level+1)},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,r,a){const{critRate:o,critBonus:s,target:l,int:u=0}=r;if(e.testDodge(r,l,this))return;const c=15*i(r.level)*(.01*u+1)*(.3*a+1)*r.dmgAdd,h=r.testCrit();if(e.sendDamage("fire",r,l,this,r.getCritBonus(h)*c,h),h&&t(r,l,r.getCritBonus(h)*c),n(r,"fire"),r.runAttrHooks(!1,"fireFrenzy"))for(const e of r.skills)e!==this&&"fire"===e.skillData.element&&e.reduceCoolDown(1e3)}},{key:"windBlade",name:"奥术飞弹",element:"wind",description:(e,t)=>{const{int:n}=t;return`释放${e+3}个飞弹，每个对目标造成${0|1*i(t.level)*(.01*n+1)*t.dmgAdd}点秘法伤害。每个飞弹有20%的几率攻击随机的目标。`},coolDown:1500,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,r){const{critRate:a,critBonus:o,int:s=0,target:l}=t,u=1*i(t.level)*(.01*s+1)*t.dmgAdd,c=e.units.filter((e=>e!==l&&t.willAttack(e)));for(let n=0;n<r+3;n++){let n=l;if(e.testDodge(t,n,this))return;c.length>0&&(!t.target||Math.random()<.2)&&(n=c[Math.floor(Math.random()*c.length)]);const r=t.testCrit();e.sendDamage("magic",t,n,this,t.getCritBonus(r)*u,r)}n(t,"wind")}},{key:"burning",name:"灼烧",element:"fire",description:(e,t)=>{const{int:n}=t;return`对目标造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点火焰伤害`},coolDown:8e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target&&t.target.fireAbsorb<1,effect(e,r,a){const{target:o,int:s=0}=r;if(e.testDodge(r,o,this))return;const l=15*i(r.level)*(.01*s+1)*(.3*a+1)*r.dmgAdd,u=r.testCrit();e.sendDamage("fire",r,o,this,r.getCritBonus(u)*l,u),u&&t(r,o,r.getCritBonus(u)*l),n(r,"fire")}},{key:"iceNova",name:"霜之新星",element:"ice",description:(e,t)=>`冻结全体目标${e/2+1}秒。`,castTime:500,coolDown:e=>1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e))),effect(e,t,i){const a=e.units.filter((e=>t.willAttack(e)&&e.coldAbsorb<1)),o=t.runAttrHooks(!1,"coldAir");a.forEach((n=>{e.testDodge(t,n,this)||(n.stun(i/2+1,"freezed"),o&&r(n))})),n(t,"ice")}},{key:"magicShield",name:"魔法盾",element:"wind",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!t.runAttrHooks(!1,"haveMagicShield")&&"home"!==e.map,description:(e,t)=>{const{int:n}=t,r=(.01*n+1)*(.2*e+1)/3,a=r*i(t.level)*50;return`消耗法力值以吸收伤害，每点法力值吸收${r.toFixed(1)}点伤害，最多吸收${0|a}点伤害`},coolDown:1e4,effect(e,t,r){const{int:a=0}=t,o=(.01*a+1)*(.2*r+1)/3,s=o*i(t.level)*50;t.addBuff("magicShield",6e4,[o,s]),n(t,"wind")}},{key:"flameStrike",name:"烈焰风暴",element:"fire",maxExp:e=>e**2*100+300*e+200,castTime:3e3,coolDown:25e3,canUse:(e,t)=>!!t.target,description:(e,t)=>{const{int:n}=t;return`对所有敌人造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点伤害。`},effect(e,r,a){const{critRate:o,critBonus:s,int:l=0}=r,u=15*i(r.level)*(.01*l+1)*(.3*a+1)*r.dmgAdd;e.units.filter((e=>r.willAttack(e))).forEach((n=>{if(e.testDodge(r,n,this))return;const i=r.testCrit();e.sendDamage("fire",r,n,this,r.getCritBonus(i)*u,i),i&&t(r,n,r.getCritBonus(i)*u)})),n(r,"fire")}},{key:"iceShield",name:"冰霜护盾",group:"shield",element:"ice",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>{const{int:n}=t;return`增加${0|(.01*n+1)*(.2*e+1)*i(t.level)*3}点护甲，并使所有攻击者减速20%`},coolDown:3e4,effect(e,t,r){const{int:a}=t,o=(.01*a+1)*(.2*r+1)*i(t.level)*3;t.addBuff("iceShield",6e4,o,"shield"),n(t,"ice")}},{key:"transform",name:"变形术",element:"wind",description:(e,t)=>{let n=5+e;return t.runAttrHooks(!1,"randomTransform")&&(n*=1.5),`变形一个随机的目标，使其不再攻击，持续${0|n}秒。变形期间不能进行任何攻击或施法。受到任何伤害均会解除此效果。`},castTime:1e3,coolDown:1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>e!==t.target&&t.willAttack(e)&&!1===e.runAttrHooks(!1,"transformed"))),effect(e,t,r){const i=e.units.filter((e=>e!==t.target&&t.willAttack(e)&&!1===e.runAttrHooks(!1,"transformed"))),o=i[Math.floor(Math.random()*i.length)];if(e.testDodge(t,o,this))return;let s="羊",l=5e3+1e3*r;t.runAttrHooks(!1,"randomTransform")&&(s=a[Math.floor(Math.random()*a.length)],l*=1.5),o.addBuff("transform",l,s,"transform"),n(t,"wind")}},{key:"fireShield",name:"烈焰护盾",group:"shield",element:"fire",maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>`增加${0|10*(.2*e+1)}%暴击伤害，以及20%暴击几率`,coolDown:3e4,effect(e,t,r){const i=(.2*r+1)/10;t.addBuff("fireShield",6e4,i,"shield"),n(t,"fire")}},{key:"iceLance",name:"冰枪术",element:"ice",description:(e,t)=>{const{int:n}=t;return`对一个已被冻结的敌人造成${0|15*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点冰霜伤害，并解除冻结效果`},coolDown:800,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&e.runAttrHooks(!1,"freezed")&&e.coldAbsorb<1)),effect(e,t,a){const{critRate:o,critBonus:s,int:l=0}=t;let u,c=t.target&&t.target.coldAbsorb<.5&&t.target.runAttrHooks(!1,"freezed");if(t.target&&c?u=t.target:(u=e.units.find((e=>t.willAttack(e)&&e.runAttrHooks(!1,"freezed")&&e.coldAbsorb<.5)),c=u&&u.runAttrHooks(!1,"freezed")),!u)return;if(e.testDodge(t,u,this))return;const h=15*i(t.level)*(.01*l+1)*(.3*a+1)*t.dmgAdd,p=t.testCrit();e.sendDamage("cold",t,u,this,t.getCritBonus(p)*h,p),u.removeBuff(c),t.runAttrHooks(!1,"coldAir")&&r(u),n(t,"ice")}},{key:"awaking",name:"法力唤醒",element:"wind",description:(e,t)=>`在3秒内恢复${0|30+e}%法力值`,coolDown:(e,t)=>t.runAttrHooks(6e4,"awakingCoolDown"),maxExp:e=>e**2*100+300*e+200,shouldUse:(e,t,n)=>1-t.mp/t.maxMp>=.3+.01*n,effect(e,t,r){t.startRead("awaking",3e3,(.3+.01*r)*t.maxMp/3,this),n(t,"wind")}},{key:"counterSpelling",name:"法术反制",element:"wind",description:e=>"反制一个目标，打断其正在释放的技能，并阻止其5秒内释放相同的技能",coolDown:e=>1e4/(1+.1*e),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&!e.reading.notBreakable))),effect(e,t,r){const i=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&!e.reading.notBreakable)));e.sendSkillUsage(t,null,this),i.breakCasting(5e3),n(t,"wind")}},{key:"dragonFlame",name:"龙息术",element:"fire",maxExp:e=>e**2*200+600*e+500,coolDown:1e4,canUse:(e,t)=>!!t.target,description:(e,t)=>{const{int:n}=t;return`对最近的5个敌人造成${0|12*i(t.level)*(.01*n+1)*(.3*e+1)*t.dmgAdd}点伤害，并使它们眩晕${e/2+1}秒。`},effect(e,r,a){const{critRate:o,critBonus:s,int:l=0}=r,u=12*i(r.level)*(.01*l+1)*(.3*a+1)*r.dmgAdd;e.units.filter((e=>r.willAttack(e)&&e.fireAbsorb<1)).slice(0,4).forEach((n=>{if(e.testDodge(r,n,this))return;const i=r.testCrit();e.sendDamage("fire",r,n,this,r.getCritBonus(i)*u,i),n.stun(a/2+1),i&&t(r,n,r.getCritBonus(i)*u)})),n(r,"fire")}}]},7148:e=>{function t(e,t,n){if(e.buffs.find((e=>"soul_darkfire_buff"===e.group))){const r=t.buffs.find((e=>"darkfire_buff"===e.group));r?(r.arg+=n,console.log(r.arg),r.arg=Math.min(r.arg,3*e.atk*e.darkdmgAdd),r.resetTimer(3e3)):t.addBuff("darkfire_buff",3e3,n,"darkfire_buff")}}e.exports=[{key:"soulbringer_atk",name:"普通攻击",coolDown:1e3,description:(e,t)=>`对目标造成${Math.round((40+2*e)/100*t.atk)}-${Math.round((55+3*e)/100*t.atk)}点物理伤害，恢复1点法力。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,n,r){const{target:i,leech:a=0,atk:o}=n;if(e.testDodge(n,i,this))return;const s=n.runAttrHooks(!1,"soulbringer_enhance3"),l=o*(.4+.02*r+Math.random()*(.15+.01*r)),u=n.testCrit();s?(e.sendDamage("dark",n,i,this,n.getCritBonus(u)*l*1.5*n.darkdmgAdd,u),e.units.filter((e=>e!==i&&n.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(n,i,this))return;const a=o*(.8+.04*r+Math.random()*(.1+.01*r));leechRatio+=.4;const s=n.testCrit();e.sendDamage("dark",n,i,this,n.getCritBonus(s)*a*n.darkdmgAdd*1.5,s),t(n,i,n.atk*n.darkdmgAdd),i.runAttrHooks(n,"attacked")}))):e.sendDamage("melee",n,i,this,n.getCritBonus(u)*l*n.dmgAdd,u),t(n,i,n.atk*n.darkdmgAdd),a&&(n.hp+=a),n.mp+=1,i.rp+=i.rpOnAttacked,i.runAttrHooks(n,"attacked")}},{key:"onikiri",name:"鬼斩",coolDown:6e3,description:(e,t)=>`对目标造成${Math.round((110+5*e)/100*t.atk)}-${Math.round((135+7*e)/100*t.atk)}点暗属性伤害。`,cost:{mp:12},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=t.runAttrHooks(1,"soulbringer_enhance2"),s=a*(1.1+.05*n+Math.random()*(.25+.02*n))*t.darkdmgAdd*o,l=t.testCrit();if(e.sendDamage("dark",t,r,this,t.getCritBonus(l)*s,l),o>1){const e=t.mp/t.maxMp;t.addBuff("soulbringer_enhance2_buff",4e3,n,"soulbringer_enhance2_buff"),t.mp=t.maxMp*e}i&&(t.hp+=i),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"soul_power",name:"鬼神·抛瓦",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),Math.round(t.maxHp_self*(10+.5*n)/100),`召唤鬼神·抛瓦的力量，持续25秒。\n\t\t\t鬼神·抛瓦：提高${50+2*e}点力量、智力。`},castTime:500,cost:{mp:25},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6");const i=t.mp/t.maxMp;t.addBuff("soul_power_buff",25e3,r,"soul_power_buff"),t.mp=t.maxMp*i}},{key:"moonlight_slash",name:"月光连斩",coolDown:4e3,description:(e,t)=>`快速斩击目标两次，每次造成${Math.round((60+4*e)/100*t.atk)}-${Math.round((75+5*e)/100*t.atk)}点暗伤害。`,cost:{mp:12},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.6+.04*n+Math.random()*(.15+.01*n))*t.darkdmgAdd,s=t.testCrit();e.sendDamage("dark",t,r,this,t.getCritBonus(s)*o,s);const l=a*(.6+.04*n+Math.random()*(.15+.01*n))*t.darkdmgAdd,u=t.testCrit();e.sendDamage("dark",t,r,this,t.getCritBonus(u)*l,u),i&&(t.hp+=i),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"ghost_whip",name:"鬼影三击剑",description:(e,t)=>`对三个目标各刺出一剑，分别造成${Math.round((80+4*e)/100*t.atk)}-${Math.round((90+5*e)/100*t.atk)}点暗属性伤害。`,coolDown:8e3,cost:{mp:25},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:a}=t,o=r*(.8+.04*n+Math.random()*(.1+.01*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*o*t.darkdmgAdd,s);let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(t,i,this))return;const a=r*(.8+.04*n+Math.random()*(.1+.01*n));l+=.4;const o=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(o)*a*t.darkdmgAdd,o),i.runAttrHooks(t,"attacked")})),a&&(t.hp+=a*l),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_armor",name:"鬼神·铠甲",coolDown:15e3,notBreakable:!0,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·铠甲的力量，持续20秒。\n\t\t\t鬼神·铠甲：物理防御+${Math.round(t.def_self*(15+n/2)/100)},暗抗性+${Math.round(t.darkResist*(10+n/2)/100)}。`},castTime:500,cost:{mp:15},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_armor_buff",2e4,r,"soul_armor_buff"),t.runAttrHooks(!1,"soulbringer_enhance5")&&t.addBuff("soul_armor_buff2",2e4,r,"soul_armor_buff2")}},{key:"tombstone",name:"天降墓碑",coolDown:18e3,notBreakable:!0,description:(e,t)=>`每秒召唤一块墓碑，持续5秒。\n\t\t\t墓碑：墓碑入场时立即对所有目标造成${Math.round((80+2*e)/100*t.atk)}-${Math.round((90+3*e)/100*t.atk)}点暗属性伤害；自爆后再次对所有目标造成${Math.round((20+1*e)/100*t.atk)}-${Math.round((25+1*e)/100*t.atk)}点暗属性伤害`,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("tombstonesummon_buff",5005,null,this)}},{key:"tombstone_boom",name:"自爆",description:"自爆",castTime:5e3,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.def,i=t.atk*(.2+.01*r+.05*Math.random())*t.darkdmgAdd,a=t.testCrit();e.sendDamage("dark",t,n,this,t.getCritBonus(a)*i,a),n.runAttrHooks(t,"attacked")}t.kill()}},{key:"soul_weak",name:"鬼神·虚弱",coolDown:25e3,notBreakable:!0,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·虚弱的力量，持续30秒。\n\t\t\t鬼神·虚弱：使所有目标受到的伤害提高${Math.round(200+6*n)/10}%。`},castTime:500,cost:{mp:25},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_weak_buff1",3e4,r,"soul_weak_buff1"),t.runAttrHooks(!1,"soulbringer_enhance4")&&t.addBuff("soul_weak_buff2",3e4,r,"soul_weak_buff2")}},{key:"ghost_fury",name:"鬼斩·裂地",description:(e,t)=>`对四个目标分别造成${Math.round((180+8*e)/100*t.atk)}-${Math.round((220+12*e)/100*t.atk)}点暗属性伤害。`,coolDown:2e4,cost:{mp:65},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:a}=t,o=r*(1.8+.08*n+Math.random()*(.4+.04*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*o*t.darkdmgAdd,s);let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,3).forEach((i=>{if(e.testDodge(t,i,this))return;const a=r*(1.8+.08*n+Math.random()*(.4+.04*n));l+=.4;const o=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(o)*a*t.darkdmgAdd,o),i.runAttrHooks(t,"attacked")})),a&&(t.hp+=a*l),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_shadow",name:"鬼影瞬闪",coolDown:2e4,description:(e,t)=>`对目标造成${Math.round((230+10*e)/100*t.atk)}-${Math.round((280+15*e)/100*t.atk)}点暗属性伤害。\n\t\t\t若携带了被动技能“凭依”，则随机使目标停滞1-5秒。`,cost:{mp:70},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(2.3+.1*n+Math.random()*(.5+.05*n))*t.darkdmgAdd,s=t.testCrit();e.sendDamage("dark",t,r,this,t.getCritBonus(s)*o,s),t.runAttrHooks(0,"soulbringer_enhance3")&&r.addBuff("stop_buff",1+4*Math.round(),null,"stop_buff"),i&&(t.hp+=i),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"soul_ice",name:"鬼神·冰霜",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冰霜的力量，持续10秒。\n\t\t\t鬼神·冰霜：每秒对所有目标造成${1+Math.round((10+.1*n)/100*t.atk)}-${1+Math.round((15+.2*n)/100*t.atk)}点寒冷伤害并使其获得“冰缓”效果，10%几率额外获得“冻结”效果。\n\t\t\t冰缓：减速20%，持续2秒。\n\t\t\t冻结：无法行动，持续1.5秒。`},castTime:500,cost:{mp:45},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_ice_buff",10005,r,"soul_ice_buff",maxStack=1,this)}},{key:"soul_poison",name:"鬼神·瘟疫",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·瘟疫的力量，持续10秒。\n\t\t\t鬼神·瘟疫：每秒对所有目标造成${1+Math.round((10+.1*n)/100*t.atk)}-${1+Math.round((15+.2*n)/100*t.atk)}点毒素伤害，20%几率使目标获得“中毒”效果。\n\t\t\t中毒：每3秒受到20%攻击力的毒素伤害，持续30秒，可叠加；受“中毒”效果影响的目标每损失1%生命值，“中毒”的伤害提高5%。`},castTime:500,cost:{mp:60},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_poison_buff",10005,r,"soul_poison_buff",maxStack=1,this)}},{key:"ghost_puncture",name:"鬼斩·穿刺",description:(e,t)=>`对五个目标分别造成${Math.round((330+20*e)/100*t.atk)}-${Math.round((420+30*e)/100*t.atk)}点暗属性伤害，并使目标停滞3秒。`,coolDown:35e3,cost:{mp:110},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:a}=t,o=r*(3.3+.2*n+Math.random()*(.9+.1*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*o*t.darkdmgAdd,s),i.addBuff("stop_buff",3e3,n,"stop_buff");let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,4).forEach((i=>{if(e.testDodge(t,i,this))return;const a=r*(3.3+.2*n+Math.random()*(.9+.1*n));l+=.4;const o=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(o)*a*t.darkdmgAdd,o),i.addBuff("stop_buff",3e3,n,"stop_buff"),i.runAttrHooks(t,"attacked")})),a&&(t.hp+=a*l),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_darkfire",name:"鬼神·冥炎",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冥炎的力量，持续${Math.round(100+2*n)/10}秒。\n\t\t\t鬼神·冥炎：普通攻击命中目标时，为目标添加“冥炎”效果。\n\t\t\t冥炎：每秒受到100%攻击力的暗属性伤害，持续3秒，最多叠加3次。`},castTime:500,cost:{mp:120},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_darkfire_buff",10005+200*r,null,"soul_darkfire_buff",maxStack=1,this)}},{key:"tombstoneplus",name:"坟头蹦迪",coolDown:4e4,notBreakable:!0,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤一个坟头上场。\n\t\t\t坟头：携带“蹦迪”、“自爆”技能。"),cost:{mp:150},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"summon_tombstoneplus"===e.type)),effect(e,t,n){e.addEnemy("summon_tombstoneplus",null,0,t,this)}},{key:"tombstoneplus_skill1",name:"蹦迪",castTime:1e3,coolDown:100,canUse:(e,t)=>!!t.target,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e))))t.target.target=t}},{key:"tombstoneplus_skill2",name:"自爆",description:"自爆",castTime:1e4,coolDown:3e4,notBreakable:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!0,effect(e,t,n){for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.def,i=t.atk*(4+.4*r+Math.random()*(1+.5*r))*t.darkdmgAdd,a=t.testCrit();e.sendDamage("dark",t,n,this,t.getCritBonus(a)*i,a),n.runAttrHooks(t,"attacked")}t.kill()}},{key:"ghost_pidi",name:"鬼斩·辟地",description:(e,t)=>`对六个目标分别造成${Math.round((200+10*e)/100*t.atk)}-${Math.round((220+20*e)/100*t.atk)}点暗属性伤害，并为目标添加“冥炎”效果。\n\t\t\t冥炎：每秒受到100%攻击力的暗属性伤害，持续3秒，最多叠加3次。`,coolDown:12e3,cost:{mp:90},maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:a,leech:o}=n,s=i*(2+.1*r+Math.random()*(.2+.1*r)),l=n.testCrit();e.sendDamage("dark",n,a,this,n.getCritBonus(l)*s*n.darkdmgAdd,l),t(n,a,n.atk*n.darkdmgAdd);let u=.4;e.units.filter((e=>e!==a&&n.willAttack(e))).slice(0,4).forEach((a=>{if(e.testDodge(n,a,this))return;const o=i*(3.3+.2*r+Math.random()*(.9+.1*r));u+=.4;const s=n.testCrit();e.sendDamage("dark",n,a,this,n.getCritBonus(s)*o*n.darkdmgAdd,s),t(n,a,n.atk*n.darkdmgAdd),a.runAttrHooks(n,"attacked")})),o&&(n.hp+=o*u),a.rp+=a.rpOnAttacked,a.runAttrHooks(n,"attacked")}},{key:"dark_jige",name:"吉哥降临",coolDown:2e4,castTime:5e3,description:(e,t)=>(Math.round((400+40*e)/100*t.atk),Math.round((500+50*e)/100*t.atk),"召唤神官吉哥上场。\n\t\t\t吉哥：携带“鬼斩”、“天降墓碑”、“自爆”技能。"),cost:{mp:450},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!e.units.find((e=>"summon_jige"===e.type)),effect(e,t,n){e.addEnemy("summon_jige",null,0,t,this)}},{key:"jige_atk",name:"普通攻击",coolDown:1e3,description:(e,t)=>(Math.round((40+2*e)/100*t.atk),Math.round((55+3*e)/100*t.atk),"吉哥普攻。"),maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:a}=t,o=r*(.4+.02*n+Math.random()*(.15+.01*n)),s=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(s)*o*t.darkdmgAdd,s);let l=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(t,i,this))return;const a=r*(.4+.2*n+Math.random()*(.15+.1*n));l+=.4;const o=t.testCrit();e.sendDamage("dark",t,i,this,t.getCritBonus(o)*a*t.darkdmgAdd,o),i.runAttrHooks(t,"attacked")})),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"soul_iceplus",name:"鬼神·冰晶",coolDown:2e4,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤鬼神·冰晶的力量，持续10秒。\n\t\t\t鬼神·冰晶：每0.5秒对所有目标造成${1+Math.round((5+1*e)/100*t.atk)}-${1+Math.round((10+2*e)/100*t.atk)}点寒冷伤害并使其获得“冰缓”效果，20%几率额外获得“冻结”效果。\n\t\t\t冰缓：减速20%，持续5秒。\n\t\t\t冻结：无法行动，持续2秒。`},castTime:500,cost:{mp:200},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){let r=n;r+=t.runAttrHooks(0,"soulbringer_enhance6"),t.addBuff("soul_iceplus_buff",10005,r,"soul_iceplus_buff",maxStack=1,this)}},{key:"soul_7",name:"鬼神·鱼头",coolDown:35e3,castTime:3e3,description:(e,t)=>{let n=e;return n+=t.runAttrHooks(0,"soulbringer_enhance6"),`召唤第八鬼神·鱼头对所有目标发起一次攻击，造成${Math.round((1850+180*n)/100*t.atk)}-${Math.round((2350+300*n)/100*t.atk)}点暗属性伤害。\n\t\t\t第八鬼神·鱼头会吞噬在场所有其他鬼神的力量，增加（吞噬数量立方数）倍数的伤害。`},cost:{mp:1250},maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;let o=n;o+=t.runAttrHooks(0,"soulbringer_enhance6");let s=0;const l=t.buffs.find((e=>"soul_power_buff"===e.group));l&&(s+=1,t.removeBuff(l));const u=t.buffs.find((e=>"soul_armor_buff"===e.group));u&&(s+=1,t.removeBuff(u));const c=t.buffs.find((e=>"soul_armor_buff2"===e.group));c&&t.removeBuff(c);const h=t.buffs.find((e=>"soul_weak_buff1"===e.group));h&&(s+=1,t.removeBuff(h));const p=t.buffs.find((e=>"soul_weak_buff2"===e.group));p&&t.removeBuff(p);const d=t.buffs.find((e=>"soul_ice_buff"===e.group));d&&(s+=1,t.removeBuff(d));const f=t.buffs.find((e=>"soul_darkfire_buff"===e.group));f&&(s+=1,t.removeBuff(f));const m=t.buffs.find((e=>"soul_poison_buff"===e.group));m&&(s+=1,t.removeBuff(m));const g=t.buffs.find((e=>"soul_iceplus_buff"===e.group));g&&(s+=1,t.removeBuff(g));for(const n of e.units.filter((e=>t.willAttack(e)))){const r=t.atk*(18.5+1.8*o+Math.random()*(23.5+3*o))*t.darkdmgAdd*(1+s*s*s),i=t.testCrit();e.sendDamage("dark",t,n,this,t.getCritBonus(i)*r,i)}r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}}]},4012:e=>{function t(e,t,n){const r=t.buffs.find((e=>"fire_buff"===e.group));r?(r.arg+=n,r.resetTimer(15e3)):t.addBuff("fire_buff",15e3,n,"fire_buff")}e.exports=[{key:"warrior_atk",name:"普通攻击",group:"1",coolDown:1500,description:(e,t)=>`毫无章法的一击。\n\t\t\t对目标造成${Math.round((45+4*e)/100*t.atk)}-${Math.round((60+6*e)/100*t.atk)}点（${Math.round(45+4*e)}%-${Math.round(60+6*e)}%攻击力）物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.45+.04*n+Math.random()*(.15+.02*n))*t.dmgAdd,s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*o,s),i&&(t.hp+=i),t.rp+=5,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"thump",group:"thump",name:"重击",description:(e,t)=>`这是，赌上自身体重的一击！\n\t\t\t对目标造成${Math.round((80+8*e)/100*t.atk)}-${Math.round((130+12*e)/100*t.atk)}点（${Math.round(80+8*e)}%-${Math.round(130+12*e)}%攻击力）物理伤害，消耗25点怒气。`,cost:{rp:25},coolDown:1e3,castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:a=0}=t;if(e.testDodge(t,r,this))return;const o=i*(.8+.08*n+Math.random()*(.5+.04*n))*t.dmgAdd,s=t.testCrit();if(e.sendDamage("melee",t,r,this,t.getCritBonus(s)*o,s),t.runAttrHooks(!1,"kklf_love")&&Math.random()<=.4){const a=i*(.8+.08*n+Math.random()*(.5+.04*n))*t.firedmgAdd*.5,o=t.testCrit();e.sendDamage("fire",t,r,this,t.getCritBonus(o)*a,o)}a&&(t.hp+=a),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"save_oneself",name:"包扎伤口",description:(e,t)=>{const n=t.runAttrHooks(1,"lv15_warrior_enhance1_time");return`你确定纱布已经消毒了吗？\n\t\t\t恢复${Math.round(.05*t.maxHp+5*e)*n}点生命值。`},maxExp:e=>e**2*200+600*e+400,castTime:1e3,coolDown:8e3,effect(e,t,n){const r=t.runAttrHooks(1,"lv15_warrior_enhance1_time"),i=Math.round(.05*t.maxHp+5*n)*r;e.sendHeal(t,t,this,i)}},{key:"fury_cutter",name:"斩击",group:"1",coolDown:1500,description:(e,t)=>`挥剑！\n\t\t\t对目标造成${Math.round((70+6*e)/100*t.atk)}-${Math.round((100+8*e)/100*t.atk)}点（${Math.round(70+6*e)}%-${Math.round(100+8*e)}%攻击力）物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.7+.06*n+Math.random()*(.3+.02*n)),s=t.testCrit(),l=t.buffs.find((e=>"element_fire_buff"===e.group)),u=t.runAttrHooks(!1,"lv80_warrior1_enhance3_time"),c=t.runAttrHooks(!1,"lv80_warrior1_enhance5_time");if(l){const n=l.arg;if(e.sendDamage("fire",t,r,this,t.getCritBonus(s)*o*n*t.firedmgAdd,s),c){for(const e of t.skills)"炎龙吐息"==e.name&&e.reduceCoolDown(1e3);t.rp+=2}u||t.removeBuff(l)}else e.sendDamage("melee",t,r,this,t.getCritBonus(s)*o*t.dmgAdd,s);t.runAttrHooks(!1,"lv35_warrior1_enhance1_time")&&Math.random()<=.2&&(t.runAttrHooks(!1,"lv80_warrior2_enhance3_time")?t.useExtraSkill("fury_cutter"):e.sendDamage("melee",null,r,"剑花",t.getCritBonus(s)*o*.8*t.dmgAdd,s));const h=t.buffs.find((e=>"fury_cutter_time_buff"===e.group));h&&(h.arg+=250),i&&(t.hp+=i),t.rp+=5,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"whirlwind",name:"旋风斩",description:(e,t)=>`转！转！转！\n\t\t\t对最多五个目标分别造成${Math.round((80+2*e)/100*t.atk)}-${Math.round((90+2*e)/100*t.atk)}点（${Math.round(80+2*e)}%-${Math.round(90+3*e)}%攻击力）物理伤害，每命中一个目标将获得3点怒气。`,coolDown:8e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,n,r){const{atk:i,target:a,leech:o}=n;let s=0;const l=n.buffs.find((e=>"element_fire2_buff"===e.group)),u=n.runAttrHooks(!1,"lv80_warrior1_enhance3_time");l&&(s+=1,u||n.removeBuff(l));const c=i*(.8+.02*r+Math.random()*(.1+.01*r)),h=n.testCrit();1==s?(e.sendDamage("fire",n,a,this,n.getCritBonus(h)*c*n.firedmgAdd,h),t(0,a,.2*n.atk*n.firedmgAdd)):e.sendDamage("melee",n,a,this,n.getCritBonus(h)*c*n.dmgAdd,h);let p=.4;e.units.filter((e=>e!==a&&n.willAttack(e))).slice(0,4).forEach((a=>{if(e.testDodge(n,a,this))return;const o=i*(.8+.01*r+.1*Math.random());p+=.4;const l=n.testCrit();1==s?(e.sendDamage("fire",n,a,this,n.getCritBonus(l)*o*n.firedmgAdd,l),t(0,a,.2*n.atk*n.firedmgAdd)):e.sendDamage("melee",n,a,this,n.getCritBonus(l)*o*n.dmgAdd,l),n.rp+=3,a.runAttrHooks(n,"attacked")})),o&&(n.hp+=o*p),n.rp+=3,a.rp+=a.rpOnAttacked,a.runAttrHooks(n,"attacked")}},{key:"warrior_hp",name:"气血激增",coolDown:3e4,description:(e,t)=>{const n=t.runAttrHooks(1,"lv35_warrior2_enhance1_time");return`吃一口人参。\n\t\t\t生命值上限+${Math.round(t.maxHp_self*(10+.5*e)/100)*n}，持续30秒。`},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.hp/t.maxHp,i=t.runAttrHooks(1,"lv35_warrior2_enhance1_time"),a=t.maxHp_self*(10+.5*n)/100*i;t.addBuff("warrior_hp_buff",29999,a,"warrior_hp_buff"),t.hp=t.maxHp*r}},{key:"warrior_def",name:"钢铁之躯",coolDown:3e4,description:(e,t)=>{const n=t.runAttrHooks(1,"lv35_warrior2_enhance2_time");return`梆硬！\n\t\t\t物理防御+${Math.round(t.def_self*(15+e/2)/100)*n}，持续30秒。`},maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.runAttrHooks(1,"lv35_warrior2_enhance2_time"),i=t.def_self*(15+n/2)/100*r;t.addBuff("warrior_def_buff",29999,i,"warrior_def_buff"),t.runAttrHooks(!1,"lv15_warrior_enhance3_time")&&t.addBuff("warrior_res_buff",29999,i,"warrior_res_buff")}},{key:"hamstring",name:"断筋",description:(e,t)=>`我叫你瞄准的是敌人的心脏，你在做什么？\n\t\t\t对目标造成${Math.round((30+1*e)/100*t.atk)}-${Math.round((35+2*e)/100*t.atk)}点（${Math.round(30+1*e)}%-${Math.round(35+2*e)}%攻击力）物理伤害并使其减速30%，持续4秒。`,coolDown:9e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.3+.01*n+Math.random()*(.05+.01*n))*t.dmgAdd,s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*o,s);const l=t.runAttrHooks(.7,"lv35_warrior2_enhance3_time");r.addBuff("hamstring_buff",4e3,l,"hamstring_buff"),t.runAttrHooks(!1,"lv35_warrior1_enhance2_time")&&r.addBuff("kedi_buff",4e3,null,"kedi_buff"),i&&(t.hp+=i),r.runAttrHooks(t,"attacked")}},{key:"element_fire",name:"元素附魔·火",description:e=>`fire in the hole!\n\t\t\t借助火焰的力量，使下一个“斩击”变为火焰伤害，且伤害+${Math.round(250+5*e)/10}%。`,coolDown:6e3,castTime:500,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=Math.round(1250+5*n)/1e3;t.addBuff("element_fire_buff",1e4,r,"element_fire_buff"),t.runAttrHooks(!1,"lv35_warrior1_enhance3_time")&&t.addBuff("element_fire2_buff",1e4,null,"element_fire2_buff")}},{key:"white_heat",name:"白热化",coolDown:2e4,description:e=>`你的武器开始变得有点烫手。\n\t\t\t急速+${Math.round(10*(10+.2*e))/10}%，持续5秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=Math.round(10*(10+.2*n))/1e3;t.addBuff("white_heat_buff",5e3,r,"white_heat_buff")}},{key:"fury_cutter_plus",name:"重斩",description:(e,t)=>`这一剑力度之大，以至于连你都见到了对岸的奶奶在招手。\n\t\t\t对目标造成${Math.round((250+12*e)/100*t.atk)}-${Math.round((350+24*e)/100*t.atk)}点（${Math.round(250+12*e)}%-${Math.round(350+24*e)}%攻击力）物理伤害，消耗40点怒气。`,cost:{rp:40},castTime:2e3,coolDown:3e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:a=0}=t;if(e.testDodge(t,r,this))return;let o=1;t.runAttrHooks(!1,"lv80_warrior1_enhance4_time")&&(o+=.005*t.rp);const s=i*(2.5+.12*n+Math.random()*(1+.12*n))*t.dmgAdd*o,l=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s,l),t.runAttrHooks(!1,"lv80_warrior1_enhance1_time")&&r.addBuff("lv80_warrior1_enhance1_buff",12e3,null,"lv80_warrior1_enhance1_buff"),t.runAttrHooks(!1,"lv80_warrior2_enhance1_time")&&Math.random()<=.5&&t.useExtraSkill("fury_cutter"),a&&(t.hp+=a),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"block",name:"格挡姿态",coolDown:2e4,description:e=>`你的武器已经磕了好几个口了！\n\t\t\t受到攻击时有15%的几率进行格挡，成功格挡后将使本次伤害减少50%，持续${Math.round(100+2*e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=100*Math.round(100+2*n),i=t.runAttrHooks(!1,"lv80_warrior1_enhance2_time"),a=t.runAttrHooks(!1,"lv80_warrior2_enhance2_time");i?t.addBuff("block2_buff",r,null,"block2_buff"):a?t.addBuff("block3_buff",r,null,"block3_buff"):t.addBuff("block_buff",r,null,"block_buff")}},{key:"flame_armor",name:"炎铠",description:e=>`尝尝这黑色的火焰吧！\n\t\t  每秒为所有目标添加一层“灼烧”效果，持续${(10+.2*e).toFixed(1)}秒。\n\t\t  受到伤害时将额外为伤害来源添加一层“灼烧效果。\n\t\t  灼烧：每3秒受到20%攻击力的火焰伤害，持续15秒，可叠加。`,maxExp:e=>e**2*100+300*e+200,castTime:1500,coolDown:2e4,effect(e,t,n){t.addBuff("flame_armor_buff",1e4+200*n,.2*t.atk*t.firedmgAdd,"flame_armor_buff"),t.addBuff("flame_armor_buff2",1e4+200*n,.2*t.atk*t.firedmgAdd,"flame_armor_buff2")}},{key:"dragon_breath",name:"炎龙吐息",description:(e,t)=>`这场面，就像是深秋的时候你在山上放了一把火。\n\t  \t\t对所有目标造成${Math.round((450+30*e)/100*t.atk)}-${Math.round((700+50*e)/100*t.atk)}点（${Math.round(450+30*e)}%-${Math.round(700+50*e)}%攻击力）火焰伤害。\n\t\t\t终结技：消耗自身所有怒气，每消耗1点怒气提升0.5%伤害。`,castTime:4e3,coolDown:6e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=e.units.filter((e=>t.willAttack(e))),{critRate:i=0,critBonus:a=1.5,leech:o}=t;o&&(t.hp+=o);const s=t.runAttrHooks(!1,"lv80_warrior1_enhance4_time");let l=1;s&&(l+=.01*t.rp),l+=.005*t.rp,t.rp=0,r.forEach((r=>{if(e.testDodge(t,r,this))return;const i=t.atk*(4.5+.3*n+Math.random()*(2.5+.2*n))*t.firedmgAdd*l,a=t.testCrit();e.sendDamage("fire",t,r,this,t.getCritBonus(a)*i,a),r.runAttrHooks(t,"attacked")}))}},{key:"fury_cutter_time",name:"连斩姿态",description:e=>`剑即正义！\n\t\t\t进入“连斩姿态”，每次施展“斩击”提高250点暴击等级，持续${Math.round(50+e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,castTime:1e3,coolDown:35e3,effect(e,t,n){const r=5e3+100*n;if(t.addBuff("fury_cutter_time_buff",r,0,"fury_cutter_time_buff"),t.runAttrHooks(!1,"lv80_warrior2_enhance5_time"))for(const e of t.skills)"吴迪斩"==e.name&&e.reduceCoolDown(1e5)}},{key:"omnislash",name:"吴迪斩",coolDown:45e3,notBreakable:!0,description:(e,t)=>`众所周知，吴迪斩和无敌斩并不是同一个技能。\n\t\t\t精湛的剑技，每0.5秒对目标施展一次“斩击”，持续8秒。\n\t\t\t技能持续期间，自身受到的伤害减少${Math.round(30+e)}%。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=1-Math.round(30+n)/100;t.addBuff("omnislash_buff2",8005,r,"omnislash_buff2"),t.startRead("omnislash_buff",8005,null,this)}},{key:"shield_charge",name:"盾冲",description:(e,t)=>`持盾冲击目标，造成${Math.round((100+e)/100*t.atk+t.def*(.05+.001*e))}-${Math.round((130+2*e)/100*t.atk+t.def*(.05+.001*e))}点（${Math.round(100+e)}%-${Math.round(130+2*e)}%攻击力+${Math.round(50+1*e)/10}%物理防御）物理伤害，并使目标昏迷3秒。`,coolDown:12e3,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,def:a,leech:o=0}=t;if(e.testDodge(t,r,this))return;const s=(i*(1+.01*n+Math.random()*(.3+.01*n))+a*(.05+.001*n))*t.dmgAdd,l=t.testCrit(),u=t.runAttrHooks(3e3,"lv35_warrior2_enhance6_time");r.addBuff("stunned",u,null,"stunned"),e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s,l),o&&(t.hp+=o),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"defensive_stance",name:"防御姿态",coolDown:2e4,description:e=>`你看这盾，那是又大又圆，又白。\n\t\t\t受到攻击时有25%的几率用盾牌进行防御，成功防御后将使本次伤害降低至1点，持续${Math.round(100+2*e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=100*Math.round(100+2*n),i=t.runAttrHooks(!1,"lv80_warrior1_enhance2_time"),a=t.runAttrHooks(!1,"lv80_warrior2_enhance2_time"),o=t.runAttrHooks(!1,"lv80_warrior2_enhance2_time");i?t.addBuff("defensive4_buff",r,null,"defensive4_buff"):a?t.addBuff("defensive3_buff",r,null,"defensive3_buff"):o?t.addBuff("defensive2_buff",r,null,"defensive2_buff"):t.addBuff("defensive1_buff",r,null,"defensive1_buff")}},{key:"first_aid",name:"急救",description:(e,t)=>`苟...苟...苟住！\n\t\t\t\t恢复${Math.round(t.maxHp*(.25+.003*e))}点生命值，只会生命值小于20%时施展。`,castTime:3e3,coolDown:4e4,maxExp:e=>e**2*100+300*e+200,shouldUse:(e,t)=>t.hp<=t.maxHp/5,effect(e,t,n){e.sendHeal(t,t,this,t.maxHp*(.25+.003*n))}},{key:"guardian",name:"守护者之魂",coolDown:25e3,castTime:3e3,description:(e,t)=>`愿大...守护者护佑着你。\n\t\t\t召唤守护者之魂，持续30秒。期间每次受到攻击将获得一层“护佑”效果，最多叠加20层。\n\t\t\t叠加至20层后，再次召唤守护者之魂时将消耗所有“护佑”效果，并对所有目标造成${Math.round((150+4*e)/100*t.def/20)}-${Math.round((200+5*e)/100*t.def/20)}点（${Math.round((150+4*e)/20)}%-${Math.round((200+5*e)/20)}%物理防御）魔法伤害。\n\t\t\t护佑：物理吸收、元素（火焰、寒冷、闪电）吸收+1%。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.buffs.find((e=>"Blessing_buff"===e.group));r&&20===r.arg&&(e.units.filter((e=>t.willAttack(e))).forEach((r=>{if(e.testDodge(t,r,this))return;const i=t.def*(1.5+.04*n+Math.random()*(.5+.05*n))/20,a=t.testCrit();e.sendDamage("magic",t,r,this,t.getCritBonus(a)*i,a)})),t.removeBuff(r)),t.addBuff("guardian_buff1",3e4,null,"guardian_buff1"),t.addBuff("guardian_buff2",null,n,"guardian_buff2")}},{key:"jingji_skill",name:"荆棘",description:"荆棘",coolDown:2e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,def:i}=t;e.testDodge(t,r,this)||e.units.filter((e=>t.willAttack(e))).forEach((n=>{if(e.testDodge(t,n,this))return;const r=.1*t.def,i=t.testCrit();e.sendDamage("real",t,n,this,t.getCritBonus(i)*r,i)}))}},{key:"infinite_justice",name:"无限正义之剑",description:(e,t)=>`你还是觉得盾牌会比长剑更加顺手。\n\t\t\t对目标造成${Math.round((200+5*e)/100*t.atk+t.def*(.1+.002*e))}-${Math.round((300+10*e)/100*t.atk+t.def*(.1+.002*e))}点（${Math.round(200+5*e)}%-${Math.round(300+10*e)}%攻击力+${Math.round(100+2*e)/10}%物理防御）物理伤害。`,coolDown:2e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,def:i,leech:a=0}=t;if(e.testDodge(t,r,this))return;const o=atk*(2+.05*n+Math.random()*(1+.1*n))*t.dmgAdd+i*(.1+.002*n)*t.dmgAdd,s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*o,s),a&&(t.hp+=a),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"hacking",name:"劈砍",group:"1",coolDown:1500,description:(e,t)=>`挥刀！\n\t\t\t对目标造成${Math.round((80+7*e)/100*t.atk)}-${Math.round((120+9*e)/100*t.atk)}点（${Math.round(80+7*e)}%-${Math.round(120+9*e)}%攻击力）物理伤害，获得5点怒气。`,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=t.runAttrHooks(1,"lv80_warrior5_enhance1_time");1!==o&&(t.hp=Math.max(.95*t.hp,1));const s=a*(.8+.07*n+Math.random()*(.4+.02*n))*o,l=t.testCrit(),u=t.buffs.find((e=>"element_fire_buff"===e.group)),c=t.runAttrHooks(!1,"lv80_warrior1_enhance3_time");if(u){const n=u.arg;Math.random()<.5?e.sendDamage("cold",t,r,this,t.getCritBonus(l)*s*n*t.colddmgAdd,l):e.sendDamage("fire",t,r,this,t.getCritBonus(l)*s*n*t.firedmgAdd,l),c||t.removeBuff(u)}else e.sendDamage("melee",t,r,this,t.getCritBonus(l)*s*t.dmgAdd,l);t.runAttrHooks(!1,"lv35_warrior1_enhance1_time")&&Math.random()<=.2&&(t.runAttrHooks(!1,"lv80_warrior2_enhance3_time")?t.useExtraSkill("fury_cutter"):e.sendDamage("melee",null,r,"剑花",t.getCritBonus(l)*s*.8*t.dmgAdd,l));const h=t.buffs.find((e=>"fury_cutter_time_buff"===e.group));h&&(h.arg+=150),i&&(t.hp+=i),t.rp+=5,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"sunder_armor",name:"破甲击",description:(e,t)=>{const n=Math.round((150+3*e)/100*t.atk),r=Math.round((180+4*e)/100*t.atk);return t.runAttrHooks(0,"lv35_warrior5_enhance3_time"),`敌羞！吾去脱......追他一击！\n\t\t\t击破目标的护甲，对其造成${n}-${r}点（${Math.round(150+3*e)}%-${Math.round(180+4*e)}%攻击力）物理伤害并获得“碎甲”效果，持续5秒。\n\t\t\t碎甲：受到的伤害提高30%。`},coolDown:1e4,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(1.5+.03*n+Math.random()*(.3+.01*n))*t.dmgAdd,s=1.3+t.runAttrHooks(0,"lv35_warrior5_enhance3_time"),l=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(l)*o,l),r.addBuff("sunder_armor_buff",5e3,s,"sunder_armor_buff"),i&&(t.hp+=i),r.runAttrHooks(t,"attacked")}},{key:"shield_wall",name:"血甲缚",maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>"home"!==e.map,description:(e,t)=>{const n=t.runAttrHooks(1,"zwww_hjl"),r=Math.round(.1*t.maxHp+.25*t.sta*e)*n,i=Math.round(Math.min(r,t.maxHp));return`突然之间你觉得身体一虚，紧接着又全身一紧。\n\t\t  消耗${Math.round(100+1*e)/10}%的当前生命值（至少保留1点生命值），并按照一定的比例将其转化为护盾，护盾的吸收量不能超过自身生命值上限。\n\t      护盾：可吸收${i}点伤害，持续30秒。`},coolDown:(e,t,n)=>15e3-3e3*t.runAttrHooks(0,"zwww_cd"),effect(e,t,n){const r=t.runAttrHooks(1,"lv80_warrior5_enhance5_time");2===r&&(t.hp=1);const i=Math.round(.1*t.maxHp+.25*t.sta*n),a=Math.min(i,t.maxHp)*r,o=1-Math.round(100+1*n)/1e3;t.addBuff("shield_wall_buff",3e4,a,"shield_wall_buff"),t.hp=Math.max(t.hp*o,1)}},{key:"element_cold_fire",name:"元素附魔·冰&火",description:e=>`让我尝尝冰火两重天的滋味。\n\t\t\t借助魔法的力量，使下一个“劈砍”随机变为寒冷或者火焰伤害，且伤害+${Math.round(250+5*e)/10}%。`,coolDown:6e3,castTime:500,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=Math.round(1250+5*n)/1e3;t.addBuff("element_fire_buff",1e4,r,"element_fire_buff"),t.runAttrHooks(!1,"lv35_warrior1_enhance3_time")&&t.addBuff("element_fire2_buff",1e4,null,"element_fire2_buff")}},{key:"fanatical",name:"狂热",coolDown:2e4,description:(e,t)=>`你的精神开始变得有点不太稳定。\n\t\t\t攻击力+${Math.round((.1+.02*e)*t.atk_self)}，持续10秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=(.1+.02*n)*t.atk_self;t.addBuff("fanatical_buff",1e4,r,"fanatical_buff"),t.runAttrHooks(1,"lv80_warrior5_enhance2_time")&&(defup2=(t.maxHp-t.hp)/100,t.addBuff("fanatical_buff2",1e4,defup2,"fanatical_buff2"))}},{key:"hacking_plus_double",name:"致命劈砍",coolDown:4e3,castTime:3e3,cost:{rp:40},description:(e,t)=>`左右开弓！。\n\t\t\t消耗40点怒气，蓄力3秒后对所有目标发起2次大范围的劈砍，每次造成${Math.round((100+7*e)/100*t.atk)}-${Math.round((140+10*e)/100*t.atk)}点（${Math.round(100+7*e)}%-${Math.round(140+10*e)}%攻击力）物理伤害。`,maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i}=t,a=t.runAttrHooks(1,"lv80_warrior5_enhance1_time");1!==a&&(t.hp=Math.max(.9*t.hp,1));const o=t.atk*(1+.07*n+Math.random()*(.4+.03*n))*a,s=t.atk*(1+.07*n+Math.random()*(.4+.03*n))*a,l=e.units.filter((e=>t.willAttack(e)));i&&(t.hp+=i),l.forEach((n=>{if(e.testDodge(t,n,this))return;const r=o*t.dmgAdd,i=s*t.dmgAdd,a=t.testCrit(),l=t.testCrit();e.sendDamage("melee",t,n,this,t.getCritBonus(a)*r,a),e.sendDamage("melee",t,n,this,t.getCritBonus(l)*i,l),n.runAttrHooks(t,"attacked")}))}},{key:"ghost_shuffle",name:"鬼步",coolDown:25e3,description:(e,t)=>`摩擦~~摩擦~~\n\t\t\t根据已损失的生命值，自身闪避值提高${Math.round(t.maxHp-t.hp)}点，持续${Math.round(50+e)/10}秒。`,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=5005+100*n;t.addBuff("ghost_shuffle_buff",r,null,"ghost_shuffle_buff")}},{key:"hacking_time",name:"血魔乱舞",coolDown:e=>45e3-300*e,description:(e,t)=>(Math.round(30+e),"你对着空气一顿乱切。\n\t\t\t精湛的刀法，每秒对所有目标施展一次“致命劈砍”，持续5秒。"),maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>!!t.target,effect(e,t,n){t.startRead("hacking_time_buff",5005,null,this)}}]},192:e=>{e.exports=[{key:"cleave",name:"顺劈斩",group:"melee",description:(e,t)=>{const n=(1+.2*e)*t.runAttrHooks(1,"cleaveDamageRate");return`对最多三个目标分别造成(${0|40*n}%-${0|60*n}%)倍攻击力伤害。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{atk:r,target:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t,l=t.runAttrHooks(1,"cleaveDamageRate"),u=r*(.2*Math.random()+.4)*(n/5+1)*l,c=t.testCrit();e.sendDamage("melee",t,i,this,t.getCritBonus(c)*u,c);let h=.4;e.units.filter((e=>e!==i&&t.willAttack(e))).slice(0,2).forEach((i=>{if(e.testDodge(t,i,this))return;const a=r*(.2*Math.random()+.4)*(n/10+1)*l;h+=.4,e.sendDamage("melee",t,i,this,t.getCritBonus(c)*a,c),i.runAttrHooks(t,"attacked")})),a&&(t.hp+=a*h),t.rp+=t.rpOnAttack,i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}},{key:"shout",name:"战斗怒吼",description:e=>`恢复50点怒气，并在未来30秒内增加所有同伴${10+5*e|0}%护甲。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=e.units.filter((e=>e===t||t.willAssist(e))),i=.1*(1+.5*n),a=t.runAttrHooks(!1,"multiShouts");r.forEach((e=>{e.addBuff("shout",3e4,i,a?void 0:"shout")})),t.rp+=50}},{key:"mortalStrike",name:"致死打击",description:e=>{const t=1+.2*e;return`只能对血量少于20%的目标使用。对目标造成${0|1e3*t}%-${0|2e3*t}%攻击力伤害。`},coolDown:(e,t)=>t.runAttrHooks(8e3,"mortalStrikeCoolDown"),maxExp:e=>e**2*200+600*e+400,canUse:(e,t,n)=>!!t.target&&t.target.hp<=.2*t.target.maxHp,effect(e,t,n){const{target:r}=t;if(e.testDodge(t,r,this))return;const i=t.atk*(10*Math.random()+10)*(1+.2*n),a=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(a)*i,a),r.runAttrHooks(t,"attacked")}},{key:"swordSkill",name:"狂热",group:"melee",description:e=>{const t=1+.2*e;return`对目标造成攻击力的${0|60*t}%-${0|100*t}%伤害，并在接下来的${e+1}秒内增加10%伤害，此效果可以叠加。`},targetType:"target",isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.4*Math.random()+.6)*(.2*n+1),{critRate:s=0,critBonus:l=1.5}=t,u=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(u)*o,u),i&&(t.hp+=i),t.addBuff("swordSkill",1e3*(n+1),.1),t.rp+=t.rpOnAttack,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"meleeForRage",name:"怒击",group:"melee",description:e=>{const t=1+.2*e;return`对目标造成攻击力的${0|60*t}%-${0|100*t}%伤害，并获得${e+1}点额外怒气。`},targetType:"target",isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,leech:i=0,atk:a}=t;if(e.testDodge(t,r,this))return;const o=a*(.4*Math.random()+.6)*(.2*n+1),s=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(s)*o,s),i&&(t.hp+=i),t.rp+=t.rpOnAttack+n+1,r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"thumpHead",name:"重击·击颅",group:"thump",description:e=>{const t=1+.2*e;return`对目标造成攻击力的${0|200*t}%-${0|280*t}%伤害，并使目标昏迷${e+1}秒。`},cost:{rp:25},coolDown:1e3,maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t;if(e.testDodge(t,r,this))return;const l=i*(.8*Math.random()+2)*(1+.2*n),u=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(u)*l,u),a&&(t.hp+=a),r.stun(n+1),r.rp+=r.rpOnAttacked,r.runAttrHooks(t,"attacked")}},{key:"cleaveBlast",name:"爆裂顺劈斩",group:"melee",description:(e,t)=>{const n=(1+.2*e)*t.runAttrHooks(1,"cleaveDamageRate");return`对最多三个目标分别造成(${0|35*n}%-${0|50*n}%)倍攻击力伤害。如果这一击杀死了敌人，会对所有敌人造成(${0|15*n}%-${0|25*n}%)伤害。`},isAttack:!0,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!t.target,effect(e,t,n){const{target:r,atk:i,leech:a=0,critRate:o=0,critBonus:s=1.5}=t,l=t.runAttrHooks(1,"cleaveDamageRate"),u=i*(.15*Math.random()+.35)*(.2*n+1)*l;let c=0;const h=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(h)*u,h),"ghost"===r.camp&&c++;let p=.4;e.units.filter((e=>e!==r&&t.willAttack(e))).slice(0,2).forEach((r=>{if(e.testDodge(t,r,this))return;const a=i*(.15*Math.random()+.35)*(n/10+1)*l,o=t.testCrit();p+=.4,e.sendDamage("melee",t,r,this,t.getCritBonus(o)*a,o),"ghost"===r.camp&&c++,r.runAttrHooks(t,"attacked")})),c>0&&e.units.filter((e=>t.willAttack(e))).forEach((r=>{if(e.testDodge(t,r,this))return;const a=i*(.1*Math.random()+.15)*(n/10+1)*l,o=t.testCrit();e.sendDamage("melee",t,r,this,t.getCritBonus(o)*a,o),r.runAttrHooks(t,"attacked")})),a&&(t.hp+=a*p),t.rp+=t.rpOnAttack,"ghost"!==r.camp&&(r.rp+=r.rpOnAttacked),r.runAttrHooks(t,"attacked")}},{key:"shoutShake",name:"震慑怒吼",description:e=>`恢复50点怒气，并在未来30秒减少所有敌人${(100*(1-1/(1.1+.1*e))).toFixed(1)}%攻击力。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=e.units.filter((e=>t.willAttack(e))),i=.1+.1*n;r.forEach((e=>{const t=e.stunResist,n=1/(1+i/(1+t/100));e.addBuff("shoutShake",3e4,n,"shoutShake")})),t.rp+=50}},{key:"whirlwindBlood",group:"thump",name:"旋风斩·集血",description:e=>{const t=1+.2*e;return`对所有目标造成${0|30*t}%-${0|40*t}%攻击力伤害，并汲取造成伤害10%的生命值。`},coolDown:800,cost:{rp:15},maxExp:e=>e**2*600+1800*e+1200,canUse:(e,t)=>!!t.target,effect(e,t,n){const r=t.atk*(.2*n+1),i=e.units.filter((e=>t.willAttack(e))),{leech:a=0,critRate:o=0,critBonus:s=1.5}=t;let l=0;a&&(t.hp+=a),i.forEach((n=>{if(e.testDodge(t,n,this))return;const i=r*(.1*Math.random()+.3),a=t.testCrit();l+=t.getCritBonus(a)*i,e.sendDamage("melee",t,n,this,t.getCritBonus(a)*i,a),n.runAttrHooks(t,"attacked")})),e.sendHeal(t,t,this,l/10)}},{key:"commandShout",name:"命令怒吼",description:e=>`恢复50点怒气，并在未来30秒内增加所有同伴${10+5*e|0}%生命上限。`,coolDown:3e4,maxExp:e=>e**2*100+300*e+200,canUse:(e,t)=>"home"!==e.map,effect(e,t,n){e.sendSkillUsage(t,null,this);const r=e.units.filter((e=>e===t||t.willAssist(e))),i=t.runAttrHooks(!1,"multiShouts"),a=.05*n+.1;r.forEach((e=>{e.addBuff("commandShout",3e4,a,i?void 0:"shout"),e.hp*=1+a})),t.rp+=50}},{key:"shockWave",name:"震荡波",group:"shockWave",description:e=>{const t=1+.2*e;return`对全体目标造成攻击力的${0|60*t}%-${0|100*t}%伤害，并使目标昏迷${e/2+1}秒。`},coolDown:e=>1e4,maxExp:e=>e**2*1e3+3e3*e+2e3,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e))),effect(e,t,n){const{atk:r,critRate:i=0,critBonus:a=1.5}=t;e.units.filter((e=>t.willAttack(e))).forEach((i=>{if(e.testDodge(t,i,this))return;const a=r*(.4*Math.random()+.6)*(1+.2*n),o=t.testCrit();e.sendDamage("melee",t,i,this,t.getCritBonus(o)*a,o),i.stun(n/2+1),i.rp+=i.rpOnAttacked,i.runAttrHooks(t,"attacked")}))}},{key:"warrior.kick",name:"拳击",description:e=>"用力击打敌人的下颚，打断其正在释放的技能，并阻止其5秒内释放相同的技能",coolDown:e=>1e4/(1+.1*e),maxExp:e=>e**2*200+600*e+400,canUse:(e,t)=>!!e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable))),effect(e,t,n){const r=e.units.find((e=>t.willAttack(e)&&(null!==e.casting&&!e.casting.notBreakable||null!==e.reading&&e.reading.skill&&!e.reading.skill.notBreakable)));e.sendSkillUsage(t,null,this),r.breakCasting(5e3)}}]},2657:e=>{e.exports="\nSCENE 自宅\nSAY 艾尔的声音 。。我在哪里呢……果然迷路了吗……\nSAY 艾尔的声音 救命啊！！！！有人能听见吗？？？？\nSAY 艾尔的声音 呜呜呜……村长……布帕阿姨……\nSAY 亚莲娜 ！！\nSAY 亚莲娜 感觉听到了艾尔的声音。\nSAY 亚莲娜 他迷路了吗？\n\nASIDE {\n现在可以选择[亚莲娜]进行战斗了。\n使用神力解锁新的英雄栏位，使用[亚莲娜]进行冒险吧！\n神力将在不同英雄之间共享，请在使用之前务必注意。\n}\nASIDE {\n亚莲娜的任务篇章会解锁新的故事和地图，但不会阻碍艾尔的剧情继续进展，所以你也可以使用艾尔继续游戏，积累够足够的神力再尝试亚莲娜的冒险之旅。\n}\n"},5807:e=>{e.exports="\nSCENE 自宅\nSAY 亚莲娜 好像听到了艾尔的声音，他好像迷路了。我要去救他。\nSAY 亚莲娜 但是外面这么多史莱姆，我一个人会不会……\nSAY 亚莲娜 怎么办呢……怎么办呢……\nSAY ？？？ 亚莲娜，你在呼唤我的帮助吗？\nSAY 亚莲娜 什么？谁在说话？\nSAY ？？？ 亚莲娜，是我，你需要我的帮助吗？\nSAY 亚莲娜 你是谁？\nSAY ？？？ 我是元素精灵，你叫我小亚就行\nSAY 元素精灵 亚莲娜，你需要我的帮助吗？\nSAY 亚莲娜 我需要！艾尔需要我的帮助！我得去救援他！\nSAY 元素精灵 亚莲娜，和我签订契约，成为马猴烧酒吧！\nSAY 亚莲娜 马……马猴？\nSAY 元素精灵 哎，你只要跟我念就可以了。元素的精灵啊，请倾听我的请求……\nASIDE [亚莲娜]学会了[奥术飞弹]。\nSAY 元素精灵 亚莲娜，你只要使用元素的力量消灭敌人，就可以变得更强大啦！\n"},8322:e=>{e.exports="\nSCENE 迷雾森林\nSAY 亚莲娜 艾尔~村长~村长~艾尔~\nSAY 亚莲娜 咦，这是村长，他昏迷了！村长！村长！快醒醒。\nSAY 村长 唔……\nSAY 村长 亚莲娜！你怎么进到林子里来了？\nSAY 亚莲娜 村长，刚才我在路上遇到了艾尔，后来他到森林里来找你了。\nSAY 村长 哎……胡闹！小孩子怎么可以一个人到森林里来。\nSAY 亚莲娜 后来艾尔一直没回来，他可能迷路了！\nSAY 村长 ……\nSAY 村长 诺大的森林找人也太困难。走！我们先去邻村找到布帕！\nSAY 亚莲娜 对！有布帕阿姨的二哈在，就不怕找不到人了！\n"},6209:e=>{e.exports="\nSCENE 邻村\nSAY 亚莲娜 咦，上午闪银镇还很热闹的，怎么现在一点声音都没有。\nSAY 村长 当心，亚莲娜，可能有蹊跷。\nSAY 发狂的村民甲 呼哧……\nSAY 发狂的村民乙 吼！\nSAY 村长 二位小哥，你们……\nSAY 亚莲娜 村长当心！他们不对劲！\nSAY 发狂的村民甲 啊呜！\nSAY 村长 哎哟，你怎么咬人。\nSAY 亚莲娜 快放开村长！\n"},6084:e=>{e.exports="\nSCENE 邻村\nSAY 村长 布帕，布帕，你在吗\nSAY 亚莲娜 布帕阿姨~布帕阿姨~\nSAY 亚莲娜 咦，这是……\nASIDE {\n亚莲娜感觉到附近传来了一股强大的黑暗气息。经过一番查探后，发现了一个地窖。\n}\nWAIT 1000\n\nSCENE 幽暗的地窖\nSAY 死灵法师奈布 哈撸所卡卡嘛细塔……(咒语)\nSAY 亚莲娜 (悄声)这是……\nSAY 村长 (悄声)这是召灵阵啊。。这是个亡灵术士！\nSAY 亚莲娜 (悄声)天啊，太可怕了。\nSAY 村长 (悄声)我们快离开这里。\nSAY 奈布的僵尸 吼！\nSAY 亚莲娜 糟了，我们被发现了！\n"},1755:e=>{e.exports="\nSCENE 幽暗的地窖\nSAY 亚莲娜 受死吧！\nSAY 死灵法师奈布 呼……\nSAY 死灵法师奈布 对于死亡，我早有准备。年轻的法师，我们还会再见面的。\nSAY 亚莲娜 恶魔，我不会原谅你，就算追杀到天涯海角，我也会消灭你！\nSAY 死灵法师奈布 哼哼……\nASIDE 这时，地窖外面传来了一阵嘈杂的声音\nWAIT 1000\n\nSCENE 邻村村口\nSAY 圣殿骑士 报告！队长，这里有大量低等亡灵活动的迹象！可能有过天灾瘟疫的传播，建议进行全面的净化！\nSAY 骑士队长卡罗 所有队员听令！对整个村庄进行净化！\nSAY 圣殿骑士们 是！\nSAY 亚莲娜 圣殿骑士团……他们，这是在把村民当做亡灵净化吗……\nSAY 意识清醒的村民 啊！不要杀我\nSAY 圣殿骑士 (砍)\nSAY 意识清醒的村民 啊！……(死亡)\nSAY 亚莲娜 可恶，这帮狂热的骑士，简直就是凶手！明明村民们意识都很清醒了！\nSAY 亚莲娜 我一定要阻止他们！\n"},4654:e=>{e.exports='\nSCENE 邻村村口\nSAY 亚莲娜 虽然击败了圣殿骑士们，但是……\nSAY 亚莲娜 闪银村……已经彻底毁了……\nSAY 布帕阿姨 亚莲娜！村长！你们都没事！\nSAY 布帕阿姨家的二哈 汪！\nSAY 亚莲娜 二哈！布帕阿姨！\nSAY 村长 布帕，其它村民们怎么样了？\nSAY 布帕阿姨 你们离开后不久，在我们临时驻扎的区域就发生了混乱，貌似是西德家的小子疯了一样，见谁都咬。\nSAY 布帕阿姨 后来这个状况一下子就传染到了很多村民，我推断可能是疾病或诅咒，就去圣光教会求援了。\nSAY 布帕阿姨 没想到他们居然进行了屠杀……刚才看到，西德家的小子，还有夏洛特家的，都已经……\nSAY 村长 哎……事到如今，也没有什么办法了。布帕，你快在附近搜寻一下，看看还有没有幸存者，然后，我们还要赶去森林里，艾尔在森林里走丢了，我们得尽快找回他，否则太危险了……\nSAY 布帕阿姨 好的\nSAY 亚莲娜 艾尔……坚持一下，我们就来救你了。\n\nSAY 系统 这里已经是当前版本亚莲娜剧情线的剧情尽头了。作者还在努力的编写更多的剧情，您也可以继续"伐木"怪物和制造更好的装备，提前为下一个版本做好准备！\n'},4987:(e,t,n)=>{e.exports=[{key:"aleanor-startup",group:"亚莲娜的故事",name:"艾尔的呼唤",script:n(2657),requirement:{stories:["eyer-stories-10"]}},{key:"aleanor-stories-1",group:"亚莲娜的故事",name:"亚莲娜的故事 - 1",script:n(5807),requirement:{role:"Aleanor",stories:["aleanor-startup"]}},{key:"aleanor-stories-2",group:"亚莲娜的故事",name:"亚莲娜的故事 - 2",script:n(8322),requirement:{role:"Aleanor",map:"town.woods",stories:["aleanor-stories-1"]}},{key:"aleanor-stories-3",group:"亚莲娜的故事",name:"亚莲娜的故事 - 3",script:n(6209),requirement:{role:"Aleanor",map:"town.neighbourTown",stories:["aleanor-stories-2"]}},{key:"aleanor-stories-4",group:"亚莲娜的故事",name:"亚莲娜的故事 - 4",script:n(6084),requirement:{role:"Aleanor",map:"town.neighbourTown",stories:["aleanor-stories-3"]},taskType:"kill",enemy:"zombies.farmer",killCount:10},{key:"aleanor-stories-5",group:"亚莲娜的故事",name:"亚莲娜的故事 - 5",script:n(1755),requirement:{role:"Aleanor",map:"town.neighbourTown.2",stories:["aleanor-stories-4"]},taskType:"kill",enemy:"zombie.necromancer",killCount:1},{key:"aleanor-stories-6",group:"亚莲娜的故事",name:"亚莲娜的故事 - 6",script:n(4654),requirement:{role:"Aleanor",map:"town.neighbourTown.2",stories:["aleanor-stories-5"]},taskType:"kill",enemy:"knight.leader",killCount:1}]},2957:e=>{e.exports="\nSAY 系统 [母体史莱姆]是一种体型巨大的史莱姆，具有很强的防御力和超多的血量。\nSAY 系统 [技能：吞噬]当母体史莱姆受伤时，会吞噬最靠前的一只史莱姆，并恢复相当于被吞噬史莱姆最大生命值的血量。\nSAY 系统 因为母体史莱姆的防御力和高血量，这场战斗注定是一场持久战。所以你务必准备好具备生命恢复词缀的护甲。\nSAY 系统 缩短战斗时间也是非常重要的，所以带有攻击力词缀的武器是很不错的选择。\nSAY 系统 在战斗的过程中，因为母体史莱姆恢复的血量和被吞噬的史莱姆有关，所以务必及时清理掉大史莱姆和带有词缀（尤其是强壮词缀）的史莱姆。\nSAY 系统 杀死母体史莱姆不但可以获得大量材料，还有机会获取极其稀少的神力哦。\n"},3786:e=>{e.exports="\nSAY 系统 [狼王]是狼群的首领，攻击力极高。\nSAY 系统 [技能：召唤狼群]狼王每隔一段时间，就会召唤一只母狼和两只幼狼加入战斗。\nSAY 系统 [母狼]体型较大的狼，攻击力极高，且会治疗自己的同伴。\nSAY 系统 [技能：舔舐伤口]狼王每隔一段时间，就会治疗一个自己受伤的同伴，为其恢复100点生命值\nSAY 系统 初期开荒时，使用高伤害技能迅速消灭母狼十分必要，母狼不但攻击力高，还会为包括狼王在内的目标恢复生命\nSAY 系统 因为敌人攻击力很高，积累足够品质的防具，以及选择足够的防御技能也非常重要。\nSAY 系统 使用艾尔战斗时，幼狼攻击力不高，反而可以帮艾尔恢复大量怒气以提升输出，因此防御足够的情况下，不妨留下若干的幼狼。\nSAY 系统 若艾尔已经装备了狼牙棒，那么也可以采用[狂热]+[旋风斩]的组合，迅速造成大量群体伤害。\nSAY 系统 若久战不过，很可能是你的技能等级还不够，在较早地图锻炼来提升技能等级吧。技能是越用越强大的哦~\n"},1831:e=>{e.exports="\nASIDE {\n　自从第二灵灾过去，兽人大战结束，麦德尼大陆已经和平许久了。\n　在拜尔帝国北郡的一个小村庄，所有人过着安静祥和的日子。白天劳作收获，夜晚则聚在酒吧闲谈……\n}\n\nSCENE 自宅\n\nSAY 艾尔 呼~睡的真舒服呀！\nSAY 艾尔 昨晚通宵读这本《圣光英雄传》，然后一觉睡到了……咦？\nSAY 艾尔 为什么天还没有亮？\nWAIT 500\nASIDE 远方传来了一声尖叫：啊！……\nSAY 艾尔 ！！！\nSAY 艾尔 发生什么事了？\nASIDE 艾尔走出家门\n\nSCENE 村间小路\nSAY 艾尔 我^&$%，哪来这么多史莱姆！\nSAY 艾尔 唔……\nSAY 艾尔 没错！这个邪恶值得一战！\nSAY 艾尔 不过首先……\nWAIT 500\n\nSCENE 自宅\nASIDE (艾尔拿出一把自制的细木剑)\nSAY 艾尔 珍藏多年的宝剑啊，终于到了你有用武之地的时候了！\nASIDE 细木剑发出一声低鸣（艾尔的妄想）\nSAY 艾尔 邪恶的爪牙们啊，等待勇者艾尔的制裁吧！\n\nSCENE\n\nSAY 系统 {\n这是一个放置类RPG游戏，您不需要亲自操作英雄们进行战斗，只需要为他们准备好武器和防具，设定好冒险的地图，英雄们就会自动奋战。\n}\nSAY 系统 {\n击败魔物然后获得材料和装备，使用材料改造更强大的武器和防具，让英雄逐步成长，最后挑战各种邪恶的魔王。\n}\nSAY 系统 {\n即使您离开游戏，只要在72个小时之内回来，英雄们就不会停止奋战。随时回到游戏整理战利品吧！\n}\nSAY 系统 {\n除了金币外，神力(也有人把它叫做命运点数)也是重要的资源点数。它可以开启新的英雄栏位，解锁新的背包空间，生产高品质的装备。更重要的是，收集情报和开启新的冒险之旅也可能会需要它，因此在冒险的过程请务必注意收集神力点数。\n}\nSAY 系统 {\n神力的来源除了向创世神祈(kè)祷(jīn)外，还可以通过击败魔王获得。另外，分解史诗及更高品质的装备也可以得到神力。\n}\nSAY 系统 {\n现在，为艾尔装备上武器，开始您的冒险之旅吧！\n}\n"},831:e=>{e.exports="\nSCENE 迷雾森林\nSAY 艾尔 终于击败了狼王。\nSAY 艾尔 可是，村长在哪里呢……\nSAY 艾尔 。。我在哪里呢……果然迷路了吗……\nSAY 艾尔 救命啊！！！！有人能听见吗？？？？\nSAY 艾尔 呜呜呜……村长……布帕阿姨……\nWAIT 500\n\nSCENE 拜尔王都\nASIDE 这时候，数十里外的拜尔王都\nSAY ？？？ 终于！我酝酿十年的计划！\nSAY ？？？ 神明啊，圣光啊，既然你们都遗弃了我，就让死亡和黑暗，洗刷这片土地的邪恶吧！\n"},1274:e=>{e.exports="\nSCENE 村间小路\nSAY 艾尔 来吧！邪恶的爪牙！战个痛快吧！\nSAY 艾尔 ……\nSAY 艾尔 不过话说为什么会有这么多史莱姆出现呢？亚莲娜他们没事吧？\nSAY 小史莱姆 {\n呼…… 呼…… （扑上）\n}\nSAY 艾尔 哎哟！居然咬我，吃我一记破鞋斩！\nSAY 艾尔 咦，这史莱姆肚子里好像有什么东西\nSAY 系统 杀死魔物可以掉落材料，材料可以用于制造更好的装备。\nSAY 系统 如果受伤比较严重，也可以先回到自宅休整一番。在自宅体力和魔力等都会加速恢复。\nSAY 系统 多杀死几只史莱姆收集更进一步的情报吧。\n"},4057:e=>{e.exports='\nSCENE 村间小路\nSAY 艾尔 呼……\nSAY 艾尔 区区史莱姆，居然也如此难缠！\nSAY 艾尔 但是在本勇者的宝剑下，不过是一群乌合之众！\nSAY 艾尔 啊啊啊啊！冲锋！\nSAY 大史莱姆 ……\nSAY 艾尔 哎哟，非洲老头子跳高，黑（吓）老子一跳啊，这是什么鬼？\nSAY 艾尔 看样子不会咬人哦，戳一下看看。\nSAY 大史莱姆 呜！呼呼呼呼！\nSAY 艾尔 哎哟，怎么突然疯了一样\nSAY 系统 黄色名字的魔物不会主动攻击英雄们，英雄们的溅射和群体伤害技能也不会攻击他们。但如果英雄主动攻击他们，他们就会加入战斗。\nSAY 系统 要想指明英雄的攻击目标，在"单位"面板里点击敌人面板就可以了哦~\nSAY 系统 因为大史莱姆的战斗力比小史莱姆强很多，请务必挑选好防具再行挑战！\n'},6860:e=>{e.exports="\nSCENE 村间小路\nSAY 艾尔 啊……多凶狠的怪物啊……我曾数过我杀死了多少怪物，然而已经多到数不清了。\nSAY 女孩的声音 啊……救命……不要过来……！\nSAY 艾尔 是亚莲娜吗？\nSAY 艾尔 但是话说史莱姆的危险度……应该不会致命吧……？就算被咬了也只是痒痒的……\nSAY 艾尔 （摇头）不对，这可是英雄救美的重要时刻，我怎么可以在这里胡思乱想呢……快跟上去！\n\nSCENE 洞窟入口\nSAY 艾尔 听声音就在这个洞窟里面了。\nSAY 艾尔 洞里面阴森森的，真是恐怖！\nSAY 大史莱姆 呼！！呼！！\nSAY 艾尔 啊！洞穴里的史莱姆体型更大，而且更加凶猛了！怎么办？\nSAY 女孩的声音 哈……嘿嘿……哈哈……好痒……不要过来！\nSAY 艾尔 ……\nSAY 艾尔 看起来亚莲娜没有生命危险，我还是做好准备再来吧。\n"},4963:e=>{e.exports="\nSCENE 洞窟\nSAY 艾尔 亚莲娜应该在这个方向。\nSAY 艾尔 来吧，史莱姆们！最大不过蒲团大小的怪物，正是我练剑的好对象！\nSAY 艾尔 就算洞穴里的个头比外面的大，也不过就是稍微大一点的蒲团嘛！总不会出现比人还大的吧。\nSAY 母体史莱姆 ……\nSAY 艾尔 ……\nSAY 艾尔 （悄声）我的天哪~居然有这么大个的史莱姆，别说见了，听都没听说过。\nSAY 母体史莱姆 咕嘟（一口吞下一只旁边的大史莱姆）\nSAY 艾尔 （咽了一口口水）……我觉得它一口吞了我问题也不大。我还是绕过他去寻找亚莲娜吧。。不然她被这怪物发现了就完了。\nSAY 母体史莱姆 ！\nSAY 艾尔 ！\nSAY 亚莲娜 ！\nSAY 亚莲娜 啊啊啊啊啊……救命啊！\nSAY 母体史莱姆 咕嘟（一口吞下亚莲娜）\nSAY 艾尔 ……\nSAY 艾尔 没办法了，只能硬上了！\nWAIT 500\nSAY 系统 母体史莱姆的战斗极其困难，建议务必准备好武器和防具，并且认真观察它的行动。\nSAY 系统 你也可以在情报界面使用神力点数兑换相应的情报，了解敌人的弱点就可以更好的消灭它！\n"},5318:e=>{e.exports="\nSCENE 洞窟\nSAY 艾尔 亚莲娜，你还好吗？\nSAY 亚莲娜 呜呜呜……你快转过去……（衣服都破破烂烂的了，羞死了）\nSAY 艾尔 哦哦……好的……我这边还有我自己缝的布裙，你赶紧换上，我到那边去等你……\nSAY 亚莲娜 ……\nSAY 艾尔 ……\nSAY 亚莲娜 好了，艾尔，谢谢你救了我。\nSAY 艾尔 没事！谁叫我是命中注定的勇者呢！对了，其他人呢？\nSAY 亚莲娜 今天上午的时候突然爆发了兽潮，村长和布帕阿姨带着大家一起去邻村避难了。\nSAY 艾尔 呵……（看来我睡的真是沉啊，兽潮这么大事都没有吵醒我）\nSAY 亚莲娜 大家慌乱中到了邻村才发现找不见你，于是我和村长就冒险回来寻你。\nSAY 亚莲娜 可是在前面的山路上，突然一堆史莱姆涌了出来，直接将村长冲到山脚下了，我拼命跑拼命跑才跑到这里，然后就遇到你了。\nSAY 艾尔 这样……兽潮应该已经过去了。我先送你回家，关好门窗就可以，史莱姆不敢靠近木头。\nSAY 艾尔 然后我赶紧去山谷看看能不能找到村长。\nSAY 亚莲娜 好的……\nSAY 亚莲娜 （要是我能帮助到艾尔哥哥就好了……）\nSAY 艾尔 那我们就赶紧离开这里吧！\n"},9909:e=>{e.exports="\nSCENE 山谷\nSAY 艾尔 从小就听大人们说山里有狼，这还是我第一次独自到山里呢。\nSAY 艾尔 不过一路走来，鹿儿见到好几只，却没见着狼呢。\nSAY 狼幼崽 呼……\nSAY 艾尔 咦，哪里来的小狗狗，好可爱❤\nSAY 母狼 呼……\nSAY 艾尔 啊，好大的……狼！\n"},7624:e=>{e.exports="\nSCENE 山谷\nSAY 艾尔 原来这就是狼，远看着跟布帕阿姨家的二哈一模一样。。\nSAY 艾尔 这样看来，原来大人们真的没有骗人。山里真的有很多狼。\nSAY 艾尔 可是村长……还在更深的地方吗？前面的森林全都是雾，进去不会迷路吧……\n"},2239:e=>{e.exports="\nSCENE 迷雾森林\nSAY 狼王 ……(冷冷的)\nSAY 狼王 啊呜呜呜呜……(嗥叫)\nSAY 狼群们 啊呜呜呜呜……(嗥叫)\n"},3150:(e,t,n)=>{e.exports=[{key:"eyer-stories-1",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 1",script:n(1831),requirement:{role:"Eyer",map:"home"}},{key:"eyer-stories-2",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 2",script:n(1274),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-1"]}},{key:"eyer-stories-3",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 3",script:n(4057),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-2"]},taskType:"kill",enemy:"slime.minimal",killCount:10},{key:"eyer-stories-4",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 4",script:n(6860),requirement:{role:"Eyer",map:"town.street",stories:["eyer-stories-3"]},taskType:"kill",enemy:"slime.giant",killCount:1},{key:"eyer-stories-5",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 5",script:n(4963),requirement:{role:"Eyer",map:"town.cave2",stories:["eyer-stories-4"]}},{key:"eyer-stories-6",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 6",script:n(5318),requirement:{role:"Eyer",stories:["eyer-stories-5"]},taskType:"kill",enemy:"slime.queen",killCount:1},{key:"eyer-stories-7",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 7",script:n(9909),requirement:{role:"Eyer",map:"town.valley",stories:["eyer-stories-6"]}},{key:"eyer-stories-8",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 8",script:n(7624),requirement:{role:"Eyer",map:"town.valley",stories:["eyer-stories-7"]},taskType:"kill",enemy:"wolf.giant",killCount:10},{key:"eyer-stories-9",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 9",script:n(2239),requirement:{role:"Eyer",map:"town.woods",stories:["eyer-stories-8"]}},{key:"eyer-stories-10",group:"艾尔的故事",name:"艾尔的故事 - 序章 - 完结",script:n(831),requirement:{role:"Eyer",map:"town.woods",stories:["eyer-stories-9"]},taskType:"kill",enemy:"wolf.king",killCount:1},{key:"advices-slime-queen",group:"魔王情报录",name:"情报: 母体史莱姆",script:n(2957),requirement:{stories:["eyer-stories-5"]},taskType:"purchase",price:10},{key:"advices-wolf-king",group:"魔王情报录",name:"情报: 狼王",script:n(3786),requirement:{stories:["eyer-stories-9"]},taskType:"purchase",price:20}]},506:e=>{e.exports="\nASIDE 艾尔迷路后，一路狂奔，结果掉进了一个坍塌的矿洞中。\nSCENE 矿洞\nSAY 艾尔 {\n村长~ 村长~\n}\nSAY 艾尔 一路走过来都没有看到村长的痕迹，村长去哪儿了呢？\nSAY 艾尔 要是这时候布帕阿姨家的二哈在就好了……\nSAY ？？？ 汪汪！\nSAY 艾尔 咦？那是什么声音？\nSAY ？？？ 汪！你休想抢走我的蜡烛！\nSAY 艾尔 ？？？我要蜡烛干嘛？前面到底是谁？\n"},4231:e=>{e.exports="\nSCENE 矿洞\nSAY 艾尔 哎哟，狗头人不是一向很和善的么，为什么这些狗头人看到我就打呢？ \nSAY 狗头人甲 汪！人类太凶恶了！\nSAY 狗头人乙 汪！快去叫大王！\nSAY 狗头人甲 对！汪！人类你等着，让大王来消灭你！\nSAY 艾尔 什么鬼，狗头人也有大王了？这不魔法呀，狗头人明明是平等聚居的种族啊……\nSAY 艾尔 这里面一定有蹊跷。\nSAY 狗头人乙 汪！刚才进来的人类我一铲子就打晕了，为什么这个人类这么凶？快跑！\nSAY 艾尔 刚才的人类？难道是村长？\n"},3728:e=>{e.exports="\nSCENE 矿洞深处\nSAY 金牙大王 汪！人类！这个矿洞已经是我的领地了！你快点离开。\nSAY 艾尔 你就是狗头人的大王吗？我问你，刚才你有见到另一个人类吗？\nSAY 金牙大王 汪！人类！你快走开！快走开！你不属于这里！\nSAY 艾尔 我是想问你……\nSAY 金牙大王 汪！你不走开我就要咬你了，啊呜呜！！\n"},2293:e=>{e.exports="\nSCENE 矿洞深处\nSAY 金牙大王 汪！人类！你不要打金牙了！狗头人是人类最好的朋友！\nSAY 艾尔 噗……你现在能不能好好说话了？\nSAY 金牙大王 汪！人类！我再也不把项链咬坏了！\nSAY 艾尔 我不是问你这个，我问你，刚才你们有没有看到过另一个人类？\nSAY 金牙大王 汪！金牙有见过！一个白胡子的人类！\nSAY 艾尔 对！他在哪儿呢？\nSAY 金牙大王 汪！他被卡卡列夫大王的使者带走了！\nSAY 艾尔 卡卡列夫大王？那是啥？\nSAY 金牙大王 汪！卡卡列夫大王很厉害！他教会了金牙魔法！他的使者也很厉害！会丢盘子！金牙喜欢盘子！\nSAY 艾尔 别说这些乱七八糟的了……快告诉我，他们往哪儿走了？\nSAY 金牙大王 汪！他们往洞里面！洞里面有好多蜡烛！然后出现了一个大洞！然后他们就走了！\nSAY 艾尔 洞……？蜡烛？\n\nSCENE 召唤法阵\nSAY 金牙大王 汪！就是这里！\nSAY 艾尔 天啊……这里是……\nSAY 艾尔 召唤法阵！为什么这里会有这种东西……\nSAY 金牙大王 汪！这里是金牙画的！金牙是不是很厉害！\nSAY 艾尔 金牙。。你为什么会画召唤法阵的？\nSAY 金牙大王 汪！金牙喜欢蜡烛，喜欢火焰！火焰保护狗头人！这个法阵让金牙感到很温暖！\nSAY 艾尔 确实，这里非常温暖……是元素召唤法阵吗？\nSAY 艾尔 金牙，你还能联系上卡卡列夫他们吗？\nSAY 金牙大王 汪！没问题！卡夫萨尼亚卡阿纳列西夫卡……（咒语）\nSAY 艾尔 天啊。。狗头人居然能念出这么长的咒语……\nSAY 金牙大王 卡卡列夫大人来了！\nASIDE {\n随着金牙大王的念诵，阵法最中间的蜡烛的火焰，骤然幻化成一个火元素的形状。\n在金牙的带领下，艾尔靠近着团火焰。\n}\nSAY 艾尔 噗……这指尖大的火元素……看起来好萌！\nSAY 卡卡列夫的幻象 是谁在呼唤本大君！\nSAY 金牙大王 卡卡列夫大人！这个人类很厉害，金牙打不过他！\nSAY 卡卡列夫的幻象 人类！感受本大君的怒火吧！\nSAY 金牙大王 受死吧人类！\nSAY 艾尔 （对着蜡烛一吹）\nASIDE 蜡烛应声而灭\nSAY 金牙大王 ……\nSAY 艾尔 ……\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 是谁在呼唤本大君！\nSAY 艾尔 卡卡列夫，你把村长带到哪儿去了？\nSAY 卡卡列夫的幻象 可恶的人类，本大君不会回答你的问题！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 啊啊啊啊！无耻的人类！快停止你对本大君的不敬！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 啊啊啊啊！人类！快停下你的作为！\nSAY 艾尔 （吹）\nSAY 金牙大王 卡夫萨尼亚卡阿纳列西夫卡……！（咒语）\nSAY 卡卡列夫的幻象 人类！别玩了！本大君同意回答你的问题！\nSAY 艾尔 快说，为什么带走村长，你把他带到哪儿去了？\nSAY 卡卡列夫的幻象 你是说那个老年人类吗？他的灵魂已经属于本大君了！\nSAY 艾尔 什么！\nSAY 卡卡列夫的幻象 因为他违背了和本大君的契约！他拒绝实施本大君的降临计划！\nSAY 艾尔 你这个恶魔！(吹)\nSAY 卡卡列夫的幻象 呵哈哈哈，你以为同样的办法还能对本君继续使用吗？本君已经链接好了两个位面，感受本君的愤怒吧！\nASIDE 卡卡列夫的体型瞬间膨胀，一下扩大了几十倍\nSAY 卡卡列夫的幻象 金牙，你这个背叛本君的狗杂种，灼热之箭！\nSAY 金牙大王 啊啊啊啊啊（死了）\nSAY 艾尔 ！！\n"},4550:e=>{e.exports="\nSCENE 召唤法阵\nSAY 卡卡列夫的幻象 人类，你等着，我卡卡列夫终将有一天降临你们的世界！到时候，感受我的怒火吧！\nSAY 艾尔 你别走！你把村长还给我！\nSAY 卡卡列夫的幻象 （消散）\nSAY 艾尔 呜呜……村长……\nSAY 布帕阿姨 艾尔……艾尔……你在哪里？\nSAY 亚莲娜 艾尔……艾尔……\nSAY 艾尔 呜呜……大家……\nSAY 村长 艾尔……艾尔……\nSAY 艾尔 ？？村长？喂~我在这里！\nSAY 布帕阿姨 艾尔！你没事吧！\nSAY 艾尔 布帕阿姨！村长！你没事！\nSAY 布帕阿姨家的狗 汪汪！\nSAY 艾尔 村长，我刚听说你被火元素大君抓走了……你没事吗？\nSAY 村长爷爷 什么？我只是被史莱姆冲下了山，因为有软软的史莱姆做缓冲，所以什么伤也没有受。\nSAY 艾尔 啊！那被火元素抓走的是谁呢……\nSAY 艾尔 （一五一十的跟大家说了发生的事）\nSAY 村长爷爷 唔……听起来，被抓走的可能是一名魔法师。\nSAY 村长爷爷 不过这不是眼下最需要担心的事情了。艾尔，我们快回村子，天就快黑了。\nSAY 艾尔 好的。\n"},7811:(e,t,n)=>{e.exports=[{key:"eyer-grow-1",group:"艾尔的启程",name:"狗头人是人类最好的朋友 - 1",requirement:{role:"Eyer",map:"town.mine.1",stories:["eyer-stories-10"]},script:n(506)},{key:"eyer-grow-2",group:"艾尔的启程",name:"狗头人是人类最好的朋友 - 2",requirement:{role:"Eyer",map:"town.mine.1",stories:["eyer-grow-1"]},script:n(4231),taskType:"kill",enemy:"kobold.miner",killCount:10},{key:"eyer-grow-3",group:"艾尔的启程",name:"金牙是人类最好的朋友",requirement:{role:"Eyer",map:"town.mine.2",stories:["eyer-grow-2"]},script:n(3728)},{key:"eyer-grow-4",group:"艾尔的启程",name:"金牙召唤了金牙最好的朋友",requirement:{role:"Eyer",map:"town.mine.2",stories:["eyer-grow-3"]},script:n(2293),taskType:"kill",enemy:"kobold.goldteeth",killCount:1},{key:"eyer-grow-5",group:"艾尔的启程",name:"艾尔最好的朋友找回了艾尔",requirement:{role:"Eyer",map:"town.mine.3",stories:["eyer-grow-4"]},script:n(4550),taskType:"kill",enemy:"kakarif.illusion",killCount:1}]},5910:e=>{e.exports="\nSCENE 村长家\nASIDE （夜晚，大家聚集在村长家）\nSAY 村长 孩子们，今天发生的事情太多了，而且都非常的蹊跷。\nSAY 村长 先是反季节的兽潮，明明已经快到夏天了，天气非常的炎热，照理不是兽群迁徙的时候。\nSAY 村长 然后是史莱姆大爆发，如果是自然树木分泌的史莱姆，不会有这么多。\nSAY 村长 接着是艾尔发现的火元素祭坛，狗头人本来是温顺勤劳的种族，现在却变得十分攻击性，背后又出现了火元素大君的力量。\nSAY 村长 然后是邻村，很多村民突然发疯，互相撕咬，亚莲娜还发现了是死灵法师在作怪。\nSAY 村长 最后是圣殿骑士。。不由分说的屠杀村民，连没有被感染的村民也不放过。\nSAY 村长 现在兽潮过去了，史莱姆也已经被清理干净，火元素祭坛也被摧毁了，死灵法师也被消灭了。但是我担心的是……\nSAY 村长 圣殿骑士团会不会再次前来袭击村民……他们的一个小队在闪银村覆灭，我想他们一定会派出更多的队伍进行调查。\nSAY 亚莲娜 村长……都是我的错，我太冲动了。\nSAY 村长 好了，现在不是说这些的时候。\nSAY 村长 我想，我们最好赶紧收拾一下，远离这片地方。\nSAY 艾尔 ！！\nSAY 亚莲娜 村长，突然间说迁徙也……\nSAY 村长 这是最安全的办法了。今天咱们就已经损失了一半多的村民。不能再冒险留下了！布帕，你经常出门冒险，关于迁徙的方向，由你来决定吧。\nSAY 布帕阿姨 好的。我们朝西和朝北分别是迷雾森林和山脉地带，已经接近奥兰的地界，也没有什么适宜定居的地方，朝东南是帕拉玛大平原，太容易被教会的军队追击。我想，我们还是朝西南走，向拜尔王都的方向前进最为安全！\nSAY 亚莲娜 村长，但是我很担心……村民们的发狂，像是一种传染病，贸然前往王都，拜尔的军队会对我们什么态度？\nSAY 村长 恩，这也是需要考虑的问题。但是迁徙也必须尽快开始，这……\nSAY 艾尔 村长，交给我和亚莲娜吧，我们俩都是孤儿，没有什么行李需要收拾，我们可以先前往王都，寻求官员的帮助。您和布帕阿姨带着村民们一起迁徙，如果等几天还没有我们的消息，你们就尽快转向北，去奥兰吧！\nSAY 村长 可是，对你们来说这也太冒险了……\nSAY 亚莲娜 村长，没问题的，现在消息应该还没传过去，如果有危险，我会带着艾尔传送离开的。\nSAY 村长 好吧……那就这么定了，尽快行动吧，我们时间不多了。\n"},3027:e=>{e.exports="\nSCENE 大路上\nSAY 艾尔 亚莲娜\nSAY 亚莲娜 恩？\nSAY 艾尔 我听说，咱们拜尔的王都，在海边？\nSAY 亚莲娜 是呀，和法师之国艾因罗丹特隔海相望。\nSAY 艾尔 亚莲娜，你很想去艾因罗丹特吗。\nSAY 亚莲娜 嗯，很想去。听说那里有很多书可以看。\nSAY 艾尔 哈哈哈，亚莲娜真的很爱读书啊。\nSAY 艾尔 好！我想这次的事情处理完，我就进城去工作，一定要挣够多多的钱，带你出海去艾因罗丹特！\nSAY 亚莲娜 艾尔。。\nSAY 艾尔 嗯……？怎么了？你不用太感动，哈哈哈~\nSAY 亚莲娜 不。。我是觉得，我们是不是走错路了……我们好像在往东南方向走……\nSAY 艾尔 啊……有吗？哈哈哈，不好意思，聊的太兴起，没注意方向，那我们就朝这边！\nSAY 亚莲娜 不……艾尔，那是东北面。。往那边就是帕拉玛大草原了……你想被安东尼奥的圣骑士追赶吗……\nSAY 艾尔 哈哈哈……还是亚莲娜你带路吧……\n"},7564:e=>{e.exports="\nSCENE 大路上\n\nSAY 亚莲娜 艾尔\nSAY 艾尔 恩？\nSAY 亚莲娜 我们走多久了？\nSAY 艾尔 不知道哎，但咱们肚子饿吃干粮应该已经……三次了吧？\nSAY 亚莲娜 那应该是十几个小时过去了。那也应该天亮了……可是为什么天上还是这么黑呢？\nSAY 艾尔 耶？有吗？说不定只是咱们赶路，饿的比较快呢？\nSAY 亚莲娜 这天上……既没有月亮，也没有星星……\nSAY 亚莲娜 而且我们走了十几个小时了，这么宽的路，没有遇到一个行人，没有遇到一辆车马。。\nSAY 艾尔 亚莲娜。。你说的我心里开始发毛了。。\nSAY 亚莲娜 而且，你有没有觉得，似乎越来越冷了……\nSAY 艾尔 亚莲娜，我觉得你想多了，你看看，前面不就有一个人拖着一辆车？\nSAY 亚莲娜 行人……吗？这么黑的夜里，不带火把……？\nSAY 艾尔 哈哈，不要想太多，也许是离他家很近了呢，你等等，我上去打个招呼。\nWAIT 1000\n\nSAY 艾尔 嗨，哥们~\nSAY 行人？ （一言不发的拖着车）\nSAY 艾尔 哥们，想问下，附近有啥村子啥的吗？咱们是打东北面来的，要上王都去，问下还有多远哈~\nSAY 行人？ 吼~\nSAY 艾尔 哎哟我去，哥们你这脸也忒吓人了。\nSAY 亚莲娜 艾尔小心，他不是人类！\nSAY 艾尔 哈？\nSAY ？？？ （刺！）\nSAY 行人？ 吼！（倒下）\nSAY ？？？ 喂，你们俩，是活人？\nSAY 艾尔 哥们你好厉害！一刀一个啊！\nSAY ？？？ 这附近都被污染了，呆在外面久了也会被感染的，你们是从哪来的？\nSAY 艾尔 大哥我们是从东北来的，要去王都。\nSAY ？？？ 王都？别开玩笑了，那地方现在谁敢去。就这一个小僵尸都能吓你们一跳的，去王都不是给僵尸投食么。\nSAY 亚莲娜 请问大哥附近发生了什么事呢？\nSAY ？？？ 拜尔已经不是活人的世界了，你们快逃去奥兰吧，别去安东尼奥，那群疯子骑士知道你们是拜尔来的，会直接灭口的。\nSAY ？？？ 别耽误时间了，我要赶去前面的一个避难所，通知他们尽快迁徙。你们也快往回走吧。\nSAY 艾尔 大哥等等……\nASIDE 那人已经瞬间没了踪影\nWAIT 1000\nSAY 艾尔 那我们接下来怎么办呢？掉头回去吗？\nSAY 亚莲娜 那个人未必可信，我们先跟上去看看吧。 \n"},8041:e=>{e.exports="\nSCENE 避难所773号\nSAY ？？？ （吐血）咳……\nSAY ？？？ 你是什么人？怎么会有我们的联络名单的？\nSAY 死灵法师奈布 哼哼，避难所773号，四十八个灵魂，一个白银三个青铜，我就收下了。这一片还有十七个避难所吧，真是甜美的晚餐啊。\nSAY ？？？ 可恶……\nSAY 亚莲娜 这是……\nSAY 死灵法师奈布 呵呵，小法师，我们又见面了。\nSAY 亚莲娜 又是你？\nSAY 艾尔 这里发生了什么事？\nSAY 亚莲娜 是那个死灵法师！我们在闪银村的时候，就是他的阵法让大家都发疯了！\nSAY 死灵法师奈布 哎哟不不不，小法师，可不要冤枉我，我的阵法只是普通的聚魂阵，至于发疯嘛，那可是另有原因的。\nSAY 艾尔 你这个邪恶的法师，拿命来！\n"},5514:e=>{e.exports='\nSCENE 避难所773号\nSAY ？？？ （吐血）咳……\nSAY 艾尔 大哥你没事吧，我们来晚一步……\nSAY ？？？ 避难所也不安全了。。我得去通知附近的其它避难所！\nSAY 艾尔 大哥你受伤这么重，还是别乱动了，那个死灵法师已经被我们打死啦。\nSAY 亚莲娜 艾尔，那个死灵法师可能会有复活的手段。之前，我在闪银村已经和他交战过了。\nASIDE 亚莲娜讲述了在邻村发生的事情。\nSAY ？？？ 你们不知道，这场瘟疫，覆盖的不只是你们村子，是整个，整个拜尔王国呀！\nSAY ？？？ 王都因为人口众多，现在已经是一片人间炼狱了！\nSAY 艾尔 圣光啊……那教会那边呢？\nSAY ？？？ 圣光……哼哼，那帮脑子里进了圣光的榆木脑袋除了净化就是净化，拜尔本土的教会除了硬刚就是硬上，一点战术都没有，现在已经全都挂成亡灵战士了。\nSAY ？？？ 安东尼奥的教会总部倒是反应快，直接宣布整个拜尔帝国都是异端之国，现在派了一大堆圣殿骑士围在拜尔边境上，见人就砍。\nSAY 艾尔 那我们……怎么办？\nSAY ？？？ 怎么办？小兄弟，不怎么办。现如今这情况，能多活一秒就是一秒。躲吧，藏吧。想尽办法吧。\nSAY 艾尔 ……\nSAY 亚莲娜 好了，大哥，我们还是先通知其他的避难所吧。赶紧通知大家要紧。\nSAY ？？？ ……\nSAY ？？？ 小兄弟，附近的避难所还是由我来通知吧。你们还是先去总部躲一躲。从这里往南十里，有一个隐秘的矿洞，从外面看只有几米深，其实里面四通八达。\nSAY ？？？ 但是你们不要乱闯，那里也设置了非常多的机关和暗哨。你们到矿洞门口大喊三声"主神大人最美丽"，会有人来引你们进去。\nSAY 艾尔 主……主什么？\nSAY ？？？ 这是暗语，你照着念就可以了。快别耽误时间了，到了你就知道了。我们快点集合所有人，准备一起迁徙到奥兰了！\nSAY 艾尔 好的……那大哥你保重，我们出发了。\nWAIT 1000\n\nSCENE 大路上\nSAY 亚莲娜 艾尔，我们先给村长飞鸽传书，让他们还是改道奥兰吧。\nSAY 艾尔 好的。\nASIDE 艾尔放飞了信鸽\nSAY 亚莲娜 然后……我们要去他说的地方吗？\nSAY 亚莲娜 认识这么久，我们都还不知道他的名字，还有什么暗语，搞的神神秘秘，我们能信任他吗？\nSAY 艾尔 我也不知道耶……我倒是觉得大哥人还是蛮好的。\nSAY 亚莲娜 我还是不放心，我想去艾因罗丹特求援。\nSAY 艾尔 去向法师求援吗？哎哎我不行，那些法师一个个躲在塔里，搞的神神秘秘的，我才不想和他们打交道呢。\nSAY 艾尔 我倒是觉得对付亡灵瘟疫，还是应该向圣光教会求助。\nSAY 亚莲娜 什么？那可是一帮是非不分的杀人凶手啊！\nSAY 艾尔 哎，可是要说到对付骷髅和僵尸，还是……而且我小时候，一直是被附近的教会照顾着，我想教会里还是好人多的。\nSAY 亚莲娜 艾尔，那我们分手吧。\nSAY 艾尔 咦咦咦咦？\nSAY 亚莲娜 我是说我们分头出发吧，我向北前往艾因罗丹特，你向东去安东尼奥找圣光教会。然后，我们去奥兰会合吧。\nSAY 艾尔 我……我考虑一下。\n\nSAY 系统 接下来，是艾尔和亚莲娜一起前往避难所总部呢，还是让艾尔去安东尼奥教会，或者是让亚莲娜前往艾因罗丹特呢？\nSAY 系统 不用担心因此错过支线剧情，没选中的支线剧情将来还可以在"故事-情报兑换"中兑换哦~\n'},9239:e=>{e.exports="\nSCENE 边界森林\nSAY 娜娜 辛巴，辛巴，森林里来了一群陌生的动物，你的子民们都被他们击败了！\nSAY 辛巴 什么？我将在前面的道路上挑战他们，看看谁才是森林的王者！\n"},5088:e=>{e.exports='\nSCENE 森林深处\nSAY 辛巴 人类，我承认你的实力，但请速速离去吧，你不属于这篇森林！\nSAY 艾尔 尊敬的狮子王大人，我无意冒犯您的权威，只要您允许我通行，让您的子民不要打扰我，我将从前方径直离开这篇森林！\nSAY 辛巴 如你所愿，人类。\n\nSAY 系统 这里已经是当前版本的剧情尽头了。作者还在努力的编写更多的剧情，您也可以继续"伐木"怪物和制造更好的装备，提前为下一个版本做好准备！\n'},8700:(e,t,n)=>{e.exports=[{key:"chapter3-1",group:"无人之境",name:"无人之境 - 1",requirement:{$or:[{stories:["eyer-grow-5"]},{stories:["aleanor-stories-6"]}]},script:n(5910)},{key:"chapter3-2",group:"无人之境",name:"无人之境 - 2",requirement:{stories:["chapter3-1"],map:"chapter3.road"},script:n(3027)},{key:"chapter3-3",group:"无人之境",name:"无人之境 - 3",requirement:{stories:["chapter3-2"],map:"chapter3.road"},script:n(7564),taskType:"kill",enemy:"chapter3.undead.zombie",killCount:10},{key:"chapter3-4",group:"无人之境",name:"无人之境 - 4",requirement:{stories:["chapter3-3"],map:"chapter3.shelter773"},script:n(8041)},{key:"chapter3-5",group:"无人之境",name:"无人之境 - 5",requirement:{stories:["chapter3-4"],map:"chapter3.shelter773"},script:n(5514),taskType:"kill",enemy:"chapter3.necromancer",killCount:1},{key:"chapter3-6",group:"前往奥兰",name:"前往奥兰 - 1",requirement:{stories:["chapter3-5"],map:"chapter3.wood"},script:n(9239),taskType:"kill",enemy:"chapter3.beast.lion",killCount:10},{key:"chapter3-7",group:"前往奥兰",name:"前往奥兰 - 2",requirement:{stories:["chapter3-5"],map:"chapter3.wood"},script:n(5088),taskType:"kill",enemy:"chapter3.beast.simba",killCount:1},{key:"career-lv80",group:"三转",name:"三转",requirement:{map:"chapter4.sanAnthony2"},taskType:"kill",enemy:"chapter4.humans.boss.evil",killCount:1}]},4589:(e,t,n)=>{e.exports=[...n(3150),...n(7811),...n(8700),...n(4987),...n(1507),...n(3220)]},1507:e=>{e.exports=[{key:"purchase-rates-lvl-60",script:"\nSAY 系统 恭喜您达到60级。从现在开始，所有的神力购买和兑换都将提升50%收益。\nSAY 系统 现在您可以继续挑战副本，提升装备，然后进行试炼挑战，就可以继续提升到70级了。\n",requirement:{level:600},awards:{purchaseRate:.5}},{key:"purchase-rates-lvl-70",script:"\nSAY 系统 恭喜您达到70级。从现在开始，所有的神力购买和兑换都将提升100%收益。\nSAY 系统 现在您可以继续挑战副本，在亚莲娜的噩梦中挽救木灵一族！\n",requirement:{level:700},awards:{purchaseRate:.5}}]},3220:(e,t,n)=>{e.exports=[{key:"soulbringer-1",group:"？？-1",name:"？？-1",requirement:{},script:n(1688),taskType:"kill",enemy:"chapter3.necromancer",killCount:100},{key:"soulbringer-2",group:"黑暗君主-2",name:"黑暗君主-2",requirement:{},script:n(961),taskType:"kill",enemy:"soul_karon",killCount:1},{key:"soulbringer-3",group:"黑暗君主-3",name:"黑暗君主-3",requirement:{role:"iPhone14promax",map:"home"}}]},1688:e=>{e.exports="\nSCENE 庇护所深处\n\nSAY 系统 这是你第101次来到庇护所\nSAY 系统 不同的是，这一次你在庇护所的深处遇到了一个奇怪的男人\nSAY 系统 男人的头顶上漂浮着“百鬼之王·卡隆”几个大字\nSAY 系统 虽然现在的你还不够强大，但他已经等你很久了\nWAIT 1500\n\nSAY 系统 尝试向他发起挑战并击败他！\nASIDE 百鬼之王·卡隆是非常强大的敌人，建议在满级且具备一定的装备基础后再发起挑战。\n \n"},961:e=>{e.exports="\nSCENE \n\nSAY 系统 你竟然轻而易举地击败了百鬼之王·卡隆\nSAY 系统 不愧是创世神艾尔所挑选的种子\nSAY 系统 作为奖励，你现在可以创建角色“恶魔五月哭”来体验新职业“黑暗君主”了\nWAIT 1500\n\nSAY 系统 忘记提醒你了，“黑暗君主”作为强大的隐藏职业，仅有一次创建角色的机会\nSAY 系统 所以，假如你误删了角色，既无法恢复，也不能再次创建\n"},9818:e=>{e.exports={bankByDiamonds:[10,10,20,30,40,60,90,130,190,280,410,600,880,1290,1890,2770,4060,5950,8720,12780,18730,27450,40230,58960,86410,126640,185600,272010],inventoryByDiamonds:[1,1,2,3,4,6,9,13,19,28,41,60,88,129,189,277,406,595,872,1278,1873,2745,4023,5896,8641,12664,18560,27201,39865,58425,85626,125491],inventory:[{},{},{},{},{},{},{},{},{},{},{},{},{gold:10},{gold:20},{gold:30},{gold:50},{gold:80,wuxingshi:1},{gold:130,wuxingshi:1},{gold:210,wuxingshi:2},{gold:340,wuxingshi:3},{gold:550,wuxingshi:4},{gold:890,wuxingshi:6},{gold:1440,wuxingshi:9},{gold:2330,wuxingshi:13},{gold:3770,wuxingshi:19},{gold:6100,wuxingshi:28},{gold:9870,wuxingshi:41},{gold:15970,wuxingshi:60},{gold:25840,wuxingshi:88},{gold:41810,wuxingshi:129},{gold:67650,wuxingshi:189},{gold:109460,wuxingshi:277},{gold:177110,wuxingshi:406},{gold:286570,wuxingshi:595},{gold:463680,wuxingshi:872},{gold:750250,wuxingshi:1278},{gold:1213930,wuxingshi:1873},{gold:1964180,wuxingshi:2745},{gold:3178110,wuxingshi:4023},{gold:5142290,wuxingshi:5896}]}},4526:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},3358:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},3527:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},7942:e=>{"use strict";e.exports=function(e){return e[1]}},5516:(e,t,n)=>{var r={EventEmitter:n(2985),EmitterSubscription:n(5435)};e.exports=r},2985:(e,t,n)=>{"use strict";var r=n(5435),i=n(9143),a=n(2205),o=n(4936),s=function(){function e(){this._subscriber=new i,this._currentSubscription=null}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new r(this._subscriber,t,n))},t.once=function(e,t,n){var r=this;return this.addListener(e,(function(){r.removeCurrentListener(),t.apply(n,arguments)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){this._currentSubscription||a(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(o.thatReturnsTrue).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]];i&&(this._currentSubscription=i,this.__emitToSubscription.apply(this,[i].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=s},5435:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).listener=n,i.context=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(n(7565));e.exports=r},7565:e=>{"use strict";var t=function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},9143:(e,t,n)=>{"use strict";var r=n(2205),i=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){t.subscriber!==this&&r(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=i},4936:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},2205:e=>{"use strict";e.exports=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(a=new Error(t.replace(/%s/g,(function(){return String(r[o++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},8135:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},2782:(e,t)=>{var n,r,i,a,o,s,l,u,c,h,p,d={userAgent:!1},f={},m=m||(n=Math,i=(r={}).lib={},a=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new o.init(t,e)}}),s=r.enc={},l=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,a=this.blockSize,s=i/(4*a),l=(s=e?n.ceil(s):n.max((0|s)-this._minBufferSize,0))*a,u=n.min(4*l,i);if(l){for(var c=0;c<l;c+=a)this._doProcessBlock(r,c);var h=r.splice(0,l);t.sigBytes-=u}return new o.init(h,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),p=r.algo={},r);!function(e){var t,n=(t=m).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var a=e[r];n.push(a.high),n.push(a.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),m.lib.Cipher||function(e){var t=(d=m).lib,n=t.Base,r=t.WordArray,i=t.BufferedBlockAlgorithm,a=d.enc.Base64,o=d.algo.EvpKDF,s=t.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?f:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?f:p).decrypt(e,t,n,r)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=d.mode={},u=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]},c=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;u.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),c.Decryptor=c.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),u.call(this,e,t,r),this._prevBlock=i}}),l=l.CBC=c,c=(d.pad={}).Pkcs7={pad:function(e,t){for(var n,i=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,a=[],o=0;o<n;o+=4)a.push(i);n=r.create(a,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:l,padding:c}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(l=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){var t=(e=a.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r);return t=i.finalize(t),i=i.cfg,h.create({ciphertext:t,key:n,iv:i.iv,algorithm:e,mode:i.mode,padding:i.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),d=(d.kdf={}).OpenSSL={execute:function(e,t,n,i){return i||(i=r.random(8)),e=o.create({keySize:t+n}).compute(e,i),n=r.create(e.words.slice(t),4*n),e.sigBytes=4*t,h.create({key:e,iv:n,salt:i})}},f=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:d}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=m,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],a=[],o=[],s=[],l=[],u=[],c=[],h=[],p=[],d=[],f=0;256>f;f++)d[f]=128>f?f<<1:f<<1^283;var g=0,y=0;for(f=0;256>f;f++){var v=(v=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&v^99;r[g]=v,i[v]=g;var b=d[g],k=d[b],w=d[k],x=257*d[v]^16843008*v;a[g]=x<<24|x>>>8,o[g]=x<<16|x>>>16,s[g]=x<<8|x>>>24,l[g]=x,x=16843009*w^65537*k^257*b^16843008*g,u[v]=x<<24|x>>>8,c[v]=x<<16|x>>>16,h[v]=x<<8|x>>>24,p[v]=x,g?(g=b^d[d[d[w^b]]],y^=d[d[y]]):g=y=1}var S=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),i=this._keySchedule=[],a=0;a<n;a++)if(a<t)i[a]=e[a];else{var o=i[a-1];a%t?6<t&&4==a%t&&(o=r[o>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o]):(o=r[(o=o<<8|o>>>24)>>>24]<<24|r[o>>>16&255]<<16|r[o>>>8&255]<<8|r[255&o],o^=S[a/t|0]<<24),i[a]=i[a-t]^o}for(e=this._invKeySchedule=[],t=0;t<n;t++)a=n-t,o=t%4?i[a]:i[a-4],e[t]=4>t||4>=a?o:u[r[o>>>24]]^c[r[o>>>16&255]]^h[r[o>>>8&255]]^p[r[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,o,s,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,c,h,p,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],h=e[t+2]^n[2],p=e[t+3]^n[3],d=4,f=1;f<l;f++){var m=r[u>>>24]^i[c>>>16&255]^a[h>>>8&255]^o[255&p]^n[d++],g=r[c>>>24]^i[h>>>16&255]^a[p>>>8&255]^o[255&u]^n[d++],y=r[h>>>24]^i[p>>>16&255]^a[u>>>8&255]^o[255&c]^n[d++];p=r[p>>>24]^i[u>>>16&255]^a[c>>>8&255]^o[255&h]^n[d++],u=m,c=g,h=y}m=(s[u>>>24]<<24|s[c>>>16&255]<<16|s[h>>>8&255]<<8|s[255&p])^n[d++],g=(s[c>>>24]<<24|s[h>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[d++],y=(s[h>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&c])^n[d++],p=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[c>>>8&255]<<8|s[255&h])^n[d++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=p},keySize:8}),e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n=m,r=(i=n.lib).WordArray,i=i.BlockCipher,a=n.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var r=o[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(e=this._subKeys=[],r=0;16>r;r++){var i=e[r]=[],a=l[r];for(n=0;24>n;n++)i[n/6|0]|=t[(s[n]-1+a)%28]<<31-n%6,i[4+(n/6|0)]|=t[28+(s[n+24]-1+a)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var a=0;16>a;a++){for(var o=i[a],s=this._lBlock,l=this._rBlock,h=0,p=0;8>p;p++)h|=u[p][((l^o[p])&c[p])>>>0];this._lBlock=l,this._rBlock=s^h}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(h),a=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(r.create(e.slice(0,2))),this._des2=h.createEncryptor(r.create(e.slice(2,4))),this._des3=h.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(a)}(),function(){var e=m,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<n;o++)e.push(r.charAt(a>>>6*(3-o)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],a=0,o=0;o<n;o++)if(o%4){var s=r.indexOf(e.charAt(o-1))<<o%4*2,l=r.indexOf(e.charAt(o))>>>6-o%4*2;i[a>>>2]|=(s|l)<<24-a%4*8,a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,r,i,a,o){return((e=e+(t&n|~t&r)+i+o)<<a|e>>>32-a)+t}function n(e,t,n,r,i,a,o){return((e=e+(t&r|n&~r)+i+o)<<a|e>>>32-a)+t}function r(e,t,n,r,i,a,o){return((e=e+(t^n^r)+i+o)<<a|e>>>32-a)+t}function i(e,t,n,r,i,a,o){return((e=e+(n^(t|~r))+i+o)<<a|e>>>32-a)+t}for(var a=m,o=(l=a.lib).WordArray,s=l.Hasher,l=a.algo,u=[],c=0;64>c;c++)u[c]=4294967296*e.abs(e.sin(c+1))|0;l=l.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,a){for(var o=0;16>o;o++){var s=e[l=a+o];e[l]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}o=this._hash.words;var l=e[a+0],c=(s=e[a+1],e[a+2]),h=e[a+3],p=e[a+4],d=e[a+5],f=e[a+6],m=e[a+7],g=e[a+8],y=e[a+9],v=e[a+10],b=e[a+11],k=e[a+12],w=e[a+13],x=e[a+14],S=e[a+15],E=t(E=o[0],D=o[1],_=o[2],A=o[3],l,7,u[0]),A=t(A,E,D,_,s,12,u[1]),_=t(_,A,E,D,c,17,u[2]),D=t(D,_,A,E,h,22,u[3]);E=t(E,D,_,A,p,7,u[4]),A=t(A,E,D,_,d,12,u[5]),_=t(_,A,E,D,f,17,u[6]),D=t(D,_,A,E,m,22,u[7]),E=t(E,D,_,A,g,7,u[8]),A=t(A,E,D,_,y,12,u[9]),_=t(_,A,E,D,v,17,u[10]),D=t(D,_,A,E,b,22,u[11]),E=t(E,D,_,A,k,7,u[12]),A=t(A,E,D,_,w,12,u[13]),_=t(_,A,E,D,x,17,u[14]),E=n(E,D=t(D,_,A,E,S,22,u[15]),_,A,s,5,u[16]),A=n(A,E,D,_,f,9,u[17]),_=n(_,A,E,D,b,14,u[18]),D=n(D,_,A,E,l,20,u[19]),E=n(E,D,_,A,d,5,u[20]),A=n(A,E,D,_,v,9,u[21]),_=n(_,A,E,D,S,14,u[22]),D=n(D,_,A,E,p,20,u[23]),E=n(E,D,_,A,y,5,u[24]),A=n(A,E,D,_,x,9,u[25]),_=n(_,A,E,D,h,14,u[26]),D=n(D,_,A,E,g,20,u[27]),E=n(E,D,_,A,w,5,u[28]),A=n(A,E,D,_,c,9,u[29]),_=n(_,A,E,D,m,14,u[30]),E=r(E,D=n(D,_,A,E,k,20,u[31]),_,A,d,4,u[32]),A=r(A,E,D,_,g,11,u[33]),_=r(_,A,E,D,b,16,u[34]),D=r(D,_,A,E,x,23,u[35]),E=r(E,D,_,A,s,4,u[36]),A=r(A,E,D,_,p,11,u[37]),_=r(_,A,E,D,m,16,u[38]),D=r(D,_,A,E,v,23,u[39]),E=r(E,D,_,A,w,4,u[40]),A=r(A,E,D,_,l,11,u[41]),_=r(_,A,E,D,h,16,u[42]),D=r(D,_,A,E,f,23,u[43]),E=r(E,D,_,A,y,4,u[44]),A=r(A,E,D,_,k,11,u[45]),_=r(_,A,E,D,S,16,u[46]),E=i(E,D=r(D,_,A,E,c,23,u[47]),_,A,l,6,u[48]),A=i(A,E,D,_,m,10,u[49]),_=i(_,A,E,D,x,15,u[50]),D=i(D,_,A,E,d,21,u[51]),E=i(E,D,_,A,k,6,u[52]),A=i(A,E,D,_,h,10,u[53]),_=i(_,A,E,D,v,15,u[54]),D=i(D,_,A,E,s,21,u[55]),E=i(E,D,_,A,g,6,u[56]),A=i(A,E,D,_,S,10,u[57]),_=i(_,A,E,D,f,15,u[58]),D=i(D,_,A,E,w,21,u[59]),E=i(E,D,_,A,p,6,u[60]),A=i(A,E,D,_,b,10,u[61]),_=i(_,A,E,D,c,15,u[62]),D=i(D,_,A,E,y,21,u[63]),o[0]=o[0]+E|0,o[1]=o[1]+D|0,o[2]=o[2]+_|0,o[3]=o[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=s._createHelper(l),a.HmacMD5=s._createHmacHelper(l)}(Math),function(){var e=m,t=(i=e.lib).WordArray,n=i.Hasher,r=[],i=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=0;80>u;u++){if(16>u)r[u]=0|e[t+u];else{var c=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=c<<1|c>>>31}c=(i<<5|i>>>27)+l+r[u],c=20>u?c+(1518500249+(a&o|~a&s)):40>u?c+(1859775393+(a^o^s)):60>u?c+((a&o|a&s|o&s)-1894007588):c+((a^o^s)-899497514),l=s,s=o,o=a<<30|a>>>2,a=i,i=c}n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(i),e.HmacSHA1=n._createHmacHelper(i)}(),function(e){for(var t=m,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,a=[],o=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{c=l;for(var h=e.sqrt(c),p=2;p<=h;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>u&&(a[u]=s(e.pow(l,.5))),o[u]=s(e.pow(l,1/3)),u++),l++}var d=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],p=0;64>p;p++){if(16>p)d[p]=0|e[t+p];else{var f=d[p-15],m=d[p-2];d[p]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+d[p-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+d[p-16]}f=h+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+o[p]+d[p],m=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&a^i&a),h=c,c=u,u=l,l=s+f|0,s=a,a=i,i=r,r=f+m|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){var e=m,t=e.lib.WordArray,n=(r=e.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(r),e.HmacSHA224=n._createHmacHelper(r)}(),function(){function e(){return r.create.apply(r,arguments)}for(var t=m,n=t.lib.Hasher,r=(a=t.x64).Word,i=a.WordArray,a=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],l=0;80>l;l++)s[l]=e();a=a.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],a=h[3],l=h[4],u=h[5],c=h[6],h=h[7],p=n.high,d=n.low,f=r.high,m=r.low,g=i.high,y=i.low,v=a.high,b=a.low,k=l.high,w=l.low,x=u.high,S=u.low,E=c.high,A=c.low,_=h.high,D=h.low,P=p,C=d,R=f,O=m,T=g,F=y,B=v,N=b,I=k,M=w,j=x,H=S,L=E,q=A,z=_,U=D,V=0;80>V;V++){var K=s[V];if(16>V)var Y=K.high=0|e[t+2*V],$=K.low=0|e[t+2*V+1];else{Y=(($=(Y=s[V-15]).high)>>>1|(W=Y.low)<<31)^($>>>8|W<<24)^$>>>7;var W=(W>>>1|$<<31)^(W>>>8|$<<24)^(W>>>7|$<<25),G=(($=(G=s[V-2]).high)>>>19|(J=G.low)<<13)^($<<3|J>>>29)^$>>>6,J=(J>>>19|$<<13)^(J<<3|$>>>29)^(J>>>6|$<<26),X=($=s[V-7]).high,Q=(Z=s[V-16]).high,Z=Z.low;Y=(Y=(Y=Y+X+(($=W+$.low)>>>0<W>>>0?1:0))+G+(($+=J)>>>0<J>>>0?1:0))+Q+(($+=Z)>>>0<Z>>>0?1:0),K.high=Y,K.low=$}X=I&j^~I&L,Z=M&H^~M&q,K=P&R^P&T^R&T;var ee=C&O^C&F^O&F,te=(W=(P>>>28|C<<4)^(P<<30|C>>>2)^(P<<25|C>>>7),G=(C>>>28|P<<4)^(C<<30|P>>>2)^(C<<25|P>>>7),(J=o[V]).high),ne=J.low;Q=z+((I>>>14|M<<18)^(I>>>18|M<<14)^(I<<23|M>>>9))+((J=U+((M>>>14|I<<18)^(M>>>18|I<<14)^(M<<23|I>>>9)))>>>0<U>>>0?1:0),z=L,U=q,L=j,q=H,j=I,H=M,I=B+(Q=(Q=(Q=Q+X+((J+=Z)>>>0<Z>>>0?1:0))+te+((J+=ne)>>>0<ne>>>0?1:0))+Y+((J+=$)>>>0<$>>>0?1:0))+((M=N+J|0)>>>0<N>>>0?1:0)|0,B=T,N=F,T=R,F=O,R=P,O=C,P=Q+(K=W+K+(($=G+ee)>>>0<G>>>0?1:0))+((C=J+$|0)>>>0<J>>>0?1:0)|0}d=n.low=d+C,n.high=p+P+(d>>>0<C>>>0?1:0),m=r.low=m+O,r.high=f+R+(m>>>0<O>>>0?1:0),y=i.low=y+F,i.high=g+T+(y>>>0<F>>>0?1:0),b=a.low=b+N,a.high=v+B+(b>>>0<N>>>0?1:0),w=l.low=w+M,l.high=k+I+(w>>>0<M>>>0?1:0),S=u.low=S+H,u.high=x+j+(S>>>0<H>>>0?1:0),A=c.low=A+q,c.high=E+L+(A>>>0<q>>>0?1:0),D=h.low=D+U,h.high=_+z+(D>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(a),t.HmacSHA512=n._createHmacHelper(a)}(),function(){var e=m,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}(),function(){var e=m,t=(r=e.lib).WordArray,n=r.Hasher,r=e.algo,i=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),s=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),u=t.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=e[w=t+n];e[w]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var c,h,p,d,f,m,g,y,v,b,k,w=this._hash.words,x=(r=l.words,u.words),S=i.words,E=a.words,A=o.words,_=s.words;for(m=c=w[0],g=h=w[1],y=p=w[2],v=d=w[3],b=f=w[4],n=0;80>n;n+=1)k=c+e[t+S[n]]|0,k=16>n?k+((h^p^d)+r[0]):32>n?k+((h&p|~h&d)+r[1]):48>n?k+(((h|~p)^d)+r[2]):64>n?k+((h&d|p&~d)+r[3]):k+((h^(p|~d))+r[4]),k=(k=(k|=0)<<A[n]|k>>>32-A[n])+f|0,c=f,f=d,d=p<<10|p>>>22,p=h,h=k,k=m+e[t+E[n]]|0,k=16>n?k+((g^(y|~v))+x[0]):32>n?k+((g&v|y&~v)+x[1]):48>n?k+(((g|~y)^v)+x[2]):64>n?k+((g&y|~g&v)+x[3]):k+((g^y^v)+x[4]),k=(k=(k|=0)<<_[n]|k>>>32-_[n])+b|0,m=b,b=v,v=y<<10|y>>>22,y=g,g=k;k=w[1]+p+v|0,w[1]=w[2]+d+b|0,w[2]=w[3]+f+m|0,w[3]=w[4]+c+g|0,w[4]=w[0]+h+y|0,w[0]=k},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=n._createHelper(r),e.HmacRIPEMD160=n._createHmacHelper(r)}(Math),function(){var e=m,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,i=4*r;n.sigBytes>i&&(n=e.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),o=this._iKey=n.clone(),s=a.words,l=o.words,u=0;u<r;u++)s[u]^=1549556828,l[u]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=m,n=(e=t.lib).Base,r=e.WordArray,i=(e=t.algo).HMAC,a=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,a=i.create(n.hasher,e),o=r.create(),s=r.create([1]),l=o.words,u=s.words,c=n.keySize;for(n=n.iterations;l.length<c;){var h=a.update(t).finalize(s);a.reset();for(var p=h.words,d=p.length,f=h,m=1;m<n;m++){f=a.finalize(f),a.reset();for(var g=f.words,y=0;y<d;y++)p[y]^=g[y]}o.concat(h),u[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(e,t,n){return a.create(n).compute(e,t)}}();var g,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="=";function b(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=y.charAt(n>>6)+y.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=y.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=y.charAt(n>>2)+y.charAt((3&n)<<4)),v)for(;(3&r.length)>0;)r+=v;return r}function k(e){var t,n,r,i="",a=0;for(t=0;t<e.length&&e.charAt(t)!=v;++t)(r=y.indexOf(e.charAt(t)))<0||(0==a?(i+=D(r>>2),n=3&r,a=1):1==a?(i+=D(n<<2|r>>4),n=15&r,a=2):2==a?(i+=D(n),i+=D(r>>2),n=3&r,a=3):(i+=D(n<<2|r>>4),i+=D(15&r),a=0));return 1==a&&(i+=D(n<<2)),i}function w(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function x(){return new w(null)}"Microsoft Internet Explorer"==d.appName?(w.prototype.am=function(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;--a>=0;){var l=32767&this[e],u=this[e++]>>15,c=s*l+u*o;i=((l=o*l+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+s*u+(i>>>30),n[r++]=1073741823&l}return i},g=30):"Netscape"!=d.appName?(w.prototype.am=function(e,t,n,r,i,a){for(;--a>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},g=26):(w.prototype.am=function(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;--a>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*o;i=((l=o*l+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+s*u,n[r++]=268435455&l}return i},g=28),w.prototype.DB=g,w.prototype.DM=(1<<g)-1,w.prototype.DV=1<<g,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-g,w.prototype.F2=2*g-52;var S,E,A="0123456789abcdefghijklmnopqrstuvwxyz",_=new Array;for(S="0".charCodeAt(0),E=0;E<=9;++E)_[S++]=E;for(S="a".charCodeAt(0),E=10;E<36;++E)_[S++]=E;for(S="A".charCodeAt(0),E=10;E<36;++E)_[S++]=E;function D(e){return A.charAt(e)}function P(e,t){var n=_[e.charCodeAt(t)];return null==n?-1:n}function C(e){var t=x();return t.fromInt(e),t}function R(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function O(e){this.m=e}function T(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function F(e,t){return e&t}function B(e,t){return e|t}function N(e,t){return e^t}function I(e,t){return e&~t}function M(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function j(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function L(e){return e}function q(e){this.r2=x(),this.q3=x(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}O.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},O.prototype.revert=function(e){return e},O.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},O.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},O.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},T.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t},T.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},T.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},w.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},w.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,a=0;--r>=0;){var o=8==n?255&e[r]:P(e,r);o<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==a?this[this.t++]=o:a+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this[this.t++]=o>>this.DB-a):this[this.t-1]|=o<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&128&e[0]&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},w.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},w.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},w.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,a=(1<<i)-1,o=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>i|s,s=(this[n]&a)<<r;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()},w.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},w.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},w.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)},w.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},w.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var a=x(),o=this.s,s=e.s,l=this.DB-R(r[r.t-1]);l>0?(r.lShiftTo(l,a),i.lShiftTo(l,n)):(r.copyTo(a),i.copyTo(n));var u=a.t,c=a[u-1];if(0!=c){var h=c*(1<<this.F1)+(u>1?a[u-2]>>this.F2:0),p=this.FV/h,d=(1<<this.F1)/h,f=1<<this.F2,m=n.t,g=m-u,y=null==t?x():t;for(a.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),w.ONE.dlShiftTo(u,y),y.subTo(a,a);a.t<u;)a[a.t++]=0;for(;--g>=0;){var v=n[--m]==c?this.DM:Math.floor(n[m]*p+(n[m-1]+f)*d);if((n[m]+=a.am(0,v,n,g,0,u))<v)for(a.dlShiftTo(g,y),n.subTo(y,n);n[m]<--v;)n.subTo(y,n)}null!=t&&(n.drShiftTo(u,t),o!=s&&w.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),o<0&&w.ZERO.subTo(n,n)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(e,t){if(e>4294967295||e<1)return w.ONE;var n=x(),r=x(),i=t.convert(this),a=R(e)-1;for(i.copyTo(n);--a>=0;)if(t.sqrTo(n,r),(e&1<<a)>0)t.mulTo(r,i,n);else{var o=n;n=r,r=o}return t.revert(n)},w.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this[o]>>s)>0&&(i=!0,a=D(n));o>=0;)s<t?(n=(this[o]&(1<<s)-1)<<t-s,n|=this[--o]>>(s+=this.DB-t)):(n=this[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=D(n));return i?a:"0"},w.prototype.negate=function(){var e=x();return w.ZERO.subTo(this,e),e},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+R(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t},w.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new O(t):new T(t),this.exp(e,n)},w.ZERO=C(0),w.ONE=C(1),H.prototype.convert=L,H.prototype.revert=L,H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},q.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},q.prototype.revert=function(e){return e},q.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},q.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},q.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var z=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],U=(1<<26)/z[z.length-1];function V(){this.i=0,this.j=0,this.S=new Array}w.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},w.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=C(n),i=x(),a=x(),o="";for(this.divRemTo(r,i,a);i.signum()>0;)o=(n+a.intValue()).toString(e).substr(1)+o,i.divRemTo(r,i,a);return a.intValue().toString(e)+o},w.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,a=0,o=0,s=0;s<e.length;++s){var l=P(e,s);l<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(o=t*o+l,++a>=n&&(this.dMultiply(r),this.dAddOffset(o,0),a=0,o=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),B,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},w.prototype.bitwiseTo=function(e,t,n){var r,i,a=Math.min(e.t,this.t);for(r=0;r<a;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=a;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=a;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},w.prototype.changeBit=function(e,t){var n=w.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},w.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},w.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},w.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},w.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},w.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},w.prototype.millerRabin=function(e){var t=this.subtract(w.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>z.length&&(e=z.length);for(var i=x(),a=0;a<e;++a){i.fromInt(z[Math.floor(Math.random()*z.length)]);var o=i.modPow(r,this);if(0!=o.compareTo(w.ONE)&&0!=o.compareTo(t)){for(var s=1;s++<n&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},w.prototype.clone=function(){var e=x();return this.copyTo(e),e},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),128&n&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},w.prototype.equals=function(e){return 0==this.compareTo(e)},w.prototype.min=function(e){return this.compareTo(e)<0?this:e},w.prototype.max=function(e){return this.compareTo(e)>0?this:e},w.prototype.and=function(e){var t=x();return this.bitwiseTo(e,F,t),t},w.prototype.or=function(e){var t=x();return this.bitwiseTo(e,B,t),t},w.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,N,t),t},w.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,I,t),t},w.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},w.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},w.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},w.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+M(this[e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=j(this[n]^t);return e},w.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},w.prototype.setBit=function(e){return this.changeBit(e,B)},w.prototype.clearBit=function(e){return this.changeBit(e,I)},w.prototype.flipBit=function(e){return this.changeBit(e,N)},w.prototype.add=function(e){var t=x();return this.addTo(e,t),t},w.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},w.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},w.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},w.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},w.prototype.divideAndRemainder=function(e){var t=x(),n=x();return this.divRemTo(e,t,n),new Array(t,n)},w.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),a=C(1);if(i<=0)return a;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new O(t):t.isEven()?new q(t):new T(t);var o=new Array,s=3,l=n-1,u=(1<<n)-1;if(o[1]=r.convert(this),n>1){var c=x();for(r.sqrTo(o[1],c);s<=u;)o[s]=x(),r.mulTo(c,o[s-2],o[s]),s+=2}var h,p,d=e.t-1,f=!0,m=x();for(i=R(e[d])-1;d>=0;){for(i>=l?h=e[d]>>i-l&u:(h=(e[d]&(1<<i+1)-1)<<l-i,d>0&&(h|=e[d-1]>>this.DB+i-l)),s=n;!(1&h);)h>>=1,--s;if((i-=s)<0&&(i+=this.DB,--d),f)o[h].copyTo(a),f=!1;else{for(;s>1;)r.sqrTo(a,m),r.sqrTo(m,a),s-=2;s>0?r.sqrTo(a,m):(p=a,a=m,m=p),r.mulTo(m,o[h],a)}for(;d>=0&&!(e[d]&1<<i);)r.sqrTo(a,m),p=a,a=m,m=p,--i<0&&(i=this.DB-1,--d)}return r.revert(a)},w.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return w.ZERO;for(var n=e.clone(),r=this.clone(),i=C(1),a=C(0),o=C(0),s=C(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(o,i),a.subTo(s,a)):(r.subTo(n,r),t&&o.subTo(i,o),s.subTo(a,s))}return 0!=r.compareTo(w.ONE)?w.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},w.prototype.pow=function(e){return this.exp(e,new H)},w.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n},w.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=z[z.length-1]){for(t=0;t<z.length;++t)if(n[0]==z[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<z.length;){for(var r=z[t],i=t+1;i<z.length&&r<U;)r*=z[i++];for(r=n.modInt(r);t<i;)if(r%z[t++]==0)return!1}return n.millerRabin(e)},w.prototype.square=function(){var e=x();return this.squareTo(e),e},V.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},V.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var K,Y,$,W=256;function G(){!function(e){Y[$++]^=255&e,Y[$++]^=e>>8&255,Y[$++]^=e>>16&255,Y[$++]^=e>>24&255,$>=W&&($-=W)}((new Date).getTime())}if(null==Y){var J;if(Y=new Array,$=0,void 0!==f&&(void 0!==f.crypto||void 0!==f.msCrypto)){var X=f.crypto||f.msCrypto;if(X.getRandomValues){var Q=new Uint8Array(32);for(X.getRandomValues(Q),J=0;J<32;++J)Y[$++]=Q[J]}else if("Netscape"==d.appName&&d.appVersion<"5"){var Z=f.crypto.random(32);for(J=0;J<Z.length;++J)Y[$++]=255&Z.charCodeAt(J)}}for(;$<W;)J=Math.floor(65536*Math.random()),Y[$++]=J>>>8,Y[$++]=255&J;$=0,G()}function ee(){if(null==K){for(G(),(K=new V).init(Y),$=0;$<Y.length;++$)Y[$]=0;$=0}return K.next()}function te(){}function ne(e,t){return new w(e,t)}function re(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ae(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function oe(e,t){this.x=t,this.q=e}function se(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?w.ONE:r,this.zinv=null}function le(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new se(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=ne(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var a=new te,o=new Array;t>2;){for(o[0]=0;0==o[0];)a.nextBytes(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new w(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 1&r.length?"0"+r:r},ie.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=ce.crypto.MessageDigest,a=ce.crypto.Util,o=null;if(n||(n="sha1"),"string"==typeof n&&(o=i.getCanonicalAlgName(n),r=i.getHashLength(o),n=function(e){return Se(a.hashHex(Ee(e),o))}),e.length+2*r+2>t)throw"Message too long for RSA";var s,l="";for(s=0;s<t-e.length-2*r-2;s+=1)l+="\0";var u=n("")+l+""+e,c=new Array(r);(new te).nextBytes(c);var h=re(c,u.length,n),p=[];for(s=0;s<u.length;s+=1)p[s]=u.charCodeAt(s)^h.charCodeAt(s);var d=re(p,c.length,n),f=[0];for(s=0;s<c.length;s+=1)f[s+1]=c[s]^d.charCodeAt(s);return new w(f.concat(p))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var a=i.toString(16);return 1&a.length?"0"+a:a},ie.prototype.type="RSA",ie.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},ie.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=ne(e,16),this.e=parseInt(t,16),this.d=ne(n,16)}},ie.prototype.setPrivateEx=function(e,t,n,r,i,a,o,s){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=ne(e,16),this.e=parseInt(t,16),this.d=ne(n,16),this.p=ne(r,16),this.q=ne(i,16),this.dmp1=ne(a,16),this.dmq1=ne(o,16),this.coeff=ne(s,16)},ie.prototype.generate=function(e,t){var n=new te,r=e>>1;this.e=parseInt(t,16);for(var i=new w(t,16),a=e/2-100,o=w.ONE.shiftLeft(a);;){for(;this.p=new w(e-r,1,n),0!=this.p.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(r,1,n),0!=this.q.subtract(w.ONE).gcd(i).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var l=this.q.subtract(this.p).abs();if(!(l.bitLength()<a||l.compareTo(o)<=0)){var u=this.p.subtract(w.ONE),c=this.q.subtract(w.ONE),h=u.multiply(c);if(0==h.gcd(i).compareTo(w.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=i.modInverse(h),this.dmp1=this.d.mod(u),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},ie.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=ne(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=t-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var a=255&n[r];a<128?i+=String.fromCharCode(a):a>191&&a<224?(i+=String.fromCharCode((31&a)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&a)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},ie.prototype.decryptOAEP=function(e,t,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var r=ne(e,16),i=this.doPrivate(r);return null==i?null:function(e,t,n,r){var i=ce.crypto.MessageDigest,a=ce.crypto.Util,o=null;for(n||(n="sha1"),"string"==typeof n&&(o=i.getCanonicalAlgName(n),r=i.getHashLength(o),n=function(e){return Se(a.hashHex(Ee(e),o))}),e=e.toByteArray(),s=0;s<e.length;s+=1)e[s]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*r+2)throw"Cipher too short";var s,l=e.substr(1,r),u=e.substr(r+1),c=ae(u,r,n),h=[];for(s=0;s<l.length;s+=1)h[s]=l.charCodeAt(s)^c.charCodeAt(s);var p=ae(String.fromCharCode.apply(String,h),e.length-r,n),d=[];for(s=0;s<u.length;s+=1)d[s]=u.charCodeAt(s)^p.charCodeAt(s);if((d=String.fromCharCode.apply(String,d)).substr(0,r)!==n(""))throw"Hash mismatch";var f=(d=d.substr(r)).indexOf("");if((-1!=f?d.substr(0,f).lastIndexOf("\0"):-1)+1!=f)throw"Malformed data";return d.substr(f+1)}(i,this.n.bitLength()+7>>3,t,n)},oe.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},oe.prototype.toBigInteger=function(){return this.x},oe.prototype.negate=function(){return new oe(this.q,this.x.negate().mod(this.q))},oe.prototype.add=function(e){return new oe(this.q,this.x.add(e.toBigInteger()).mod(this.q))},oe.prototype.subtract=function(e){return new oe(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},oe.prototype.multiply=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},oe.prototype.square=function(){return new oe(this.q,this.x.square().mod(this.q))},oe.prototype.divide=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.sqrt=function(){return new oe(this.q,this.x.sqrt().mod(this.q))},se.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},se.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},se.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO))},se.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},se.prototype.negate=function(){return new se(this.curve,this.x,this.y.negate(),this.z)},se.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(w.ZERO.equals(n))return w.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new w("3"),i=this.x.toBigInteger(),a=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=o.multiply(n),l=i.multiply(o),u=t.square().multiply(this.z),c=u.subtract(l.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),h=l.multiply(r).multiply(t).subtract(a.multiply(s)).subtract(u.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),p=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new se(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),p)},se.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new w("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),a=this.curve.a.toBigInteger(),o=t.square().multiply(e);w.ZERO.equals(a)||(o=o.add(this.z.square().multiply(a)));var s=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),l=o.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),u=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new se(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(l),u)},se.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),a=this,o=this.curve.q.subtract(e),s=o.multiply(new w("3")),l=new se(this.curve,this.x,this.y),u=l.negate();for(t=r.bitLength()-2;t>0;--t){a=a.twice();var c=r.testBit(t);c!=n.testBit(t)&&(a=a.add(c?this:i))}for(t=s.bitLength()-2;t>0;--t){l=l.twice();var h=s.testBit(t);h!=o.testBit(t)&&(l=l.add(h?l:u))}return a},se.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),a=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(a):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},le.prototype.getQ=function(){return this.q},le.prototype.getA=function(){return this.a},le.prototype.getB=function(){return this.b},le.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},le.prototype.getInfinity=function(){return this.infinity},le.prototype.fromBigInteger=function(e){return new oe(this.q,e)},le.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var t=e.substr(0,2),n=(e.substr(2),this.fromBigInteger(new w(s,16))),r=this.getA(),i=this.getB(),a=n.square().add(r).multiply(n).add(i).sqrt();return"03"==t&&(a=a.negate()),new se(this,n,a);case 4:case 6:case 7:var o=(e.length-2)/2,s=e.substr(2,o),l=e.substr(o+2,o);return new se(this,this.fromBigInteger(new w(s,16)),this.fromBigInteger(new w(l,16)));default:return null}},oe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},se.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},se.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var a=new w(r),o=new w(i);return new se(e,e.fromBigInteger(a),e.fromBigInteger(o))},se.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),a=new w(r,16),o=new w(i,16);return new se(e,e.fromBigInteger(a),e.fromBigInteger(o))},se.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new se(this.curve,r,i)},se.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(w.valueOf(2)),t=this.curve.fromBigInteger(w.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new se(this.curve,r,i)},se.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new w("3")),i=this.negate(),a=this;for(t=r.bitLength()-2;t>0;--t){a=a.twice();var o=r.testBit(t);o!=n.testBit(t)&&(a=a.add2D(o?this:i))}return a},se.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),a=t.multiply(t).mod(i),o=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return a.equals(o)},se.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},se.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(w.ONE)<0||t.compareTo(e.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(w.ONE)<0||n.compareTo(e.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),a=Object.hasOwnProperty;return function(n,o){var s,l,u=n.match(e),c=u[0],h=!1;"{"===c?s={}:"["===c?s=[]:(s=[],h=!0);for(var p=[s],d=1-h,f=u.length;d<f;++d){var m;switch((c=u[d]).charCodeAt(0)){default:(m=p[0])[l||m.length]=+c,l=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(t,r)),m=p[0],!l){if(!(m instanceof Array)){l=c||i;break}l=m.length}m[l]=c,l=void 0;break;case 91:m=p[0],p.unshift(m[l||m.length]=[]),l=void 0;break;case 93:case 125:p.shift();break;case 102:(m=p[0])[l||m.length]=!1,l=void 0;break;case 110:(m=p[0])[l||m.length]=null,l=void 0;break;case 116:(m=p[0])[l||m.length]=!0,l=void 0;break;case 123:m=p[0],p.unshift(m[l||m.length]={}),l=void 0}}if(h){if(1!==p.length)throw new Error;s=s[0]}else if(p.length)throw new Error;if(o){var g=function(e,t){var n=e[t];if(n&&"object"==typeof n){var r=null;for(var i in n)if(a.call(n,i)&&n!==e){var s=g(n,i);void 0!==s?n[i]=s:(r||(r=[]),r.push(i))}if(r)for(var l=r.length;--l>=0;)delete n[r[l]]}return o.call(e,t,n)};s=g({"":s},"")}return s}}();void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new w(r,16).xor(e).add(w.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return _e(e,t)},this.newObject=function(e){var t=ce.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,a=t.DERBitString,o=t.DEROctetString,s=t.DERNull,l=t.DERObjectIdentifier,u=t.DEREnumerated,c=t.DERUTF8String,h=t.DERNumericString,p=t.DERPrintableString,d=t.DERTeletexString,f=t.DERIA5String,m=t.DERUTCTime,g=t.DERGeneralizedTime,y=t.DERVisibleString,v=t.DERBMPString,b=t.DERSequence,k=t.DERSet,w=t.DERTaggedObject,x=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var S=Object.keys(e);if(1!=S.length)throw new Error("key of param shall be only one.");var E=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":"))throw new Error("undefined key: "+E);if("bool"==E)return new r(e[E]);if("int"==E)return new i(e[E]);if("bitstr"==E)return new a(e[E]);if("octstr"==E)return new o(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new l(e[E]);if("enum"==E)return new u(e[E]);if("utf8str"==E)return new c(e[E]);if("numstr"==E)return new h(e[E]);if("prnstr"==E)return new p(e[E]);if("telstr"==E)return new d(e[E]);if("ia5str"==E)return new f(e[E]);if("utctime"==E)return new m(e[E]);if("gentime"==E)return new g(e[E]);if("visstr"==E)return new y(e[E]);if("bmpstr"==E)return new v(e[E]);if("asn1"==E)return new n(e[E]);if("seq"==E){for(var A=e[E],_=[],D=0;D<A.length;D++){var P=x(A[D]);_.push(P)}return new b({array:_})}if("set"==E){for(A=e[E],_=[],D=0;D<A.length;D++)P=x(A[D]),_.push(P);return new k({array:_})}if("tag"==E){var C=e[E];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var R=x(C[2]);return new w({tag:C[0],explicit:C[1],obj:R})}return new w(C)}},this.jsonToASN1HEX=function(e){return this.newObject(e).tohex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var a=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=a.substr(1,7),"0"==a.substr(0,1)&&(t=t+"."+new w(r,2).toString(10),r="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new w(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";for(r=a+r,o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),a=40*parseInt(i[0])+parseInt(i[1]);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+e.toString(16));return(128+n).toString(16)+t},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ke(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Ke(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),a=String(i.getFullYear());"utc"==t&&(a=a.substr(2,2));var o=a+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var l=r(String(s),3);o=o+"."+(l=l.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.setByParam=function(e){this.hV=null,this.hTLV=null,this.params=e},this.getString=function(){},this.setString=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=e},this.setByDate=function(e){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=e},this.setByDateValue=function(e,t,n,r,i,a){var o=new Date(Date.UTC(e,t-1,n,r,i,a,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Ke(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Ke(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},Ke(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Ke(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.tohex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0),e+="0000000".substr(0,t);for(var n="",r=0;r<e.length-1;r+=8){var i=e.substr(r,8),a=parseInt(i,2).toString(16);1==a.length&&(a="0"+a),n+=a}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Ke(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.tohex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Ke(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ke(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var a="",o=0;o<i;o++)a+="0";for(r=a+r,o=0;o<r.length-1;o+=7){var s=r.substr(o,7);o!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),a=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(a),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Ke(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Ke(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Ke(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Ke(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Ke(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Ke(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},Ke(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},Ke(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{12}Z$/)&&!e.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+e);this.hV=me(e)}else if(null!=e.str)this.hV=me(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=me(this.formatDate(t,"utc",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=me(this.formatDate(e.date,"utc",n))}else e instanceof Date&&(this.hV=me(this.formatDate(e,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=e&&this.setByParam(e)},Ke(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.params=e,this.getFreshValueHex=function(){var e=this.params;if(null==this.params&&(e={date:new Date}),"string"==typeof e){if(!e.match(/^[0-9]{14}Z$/)&&!e.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+e);this.hV=me(e)}else if(null!=e.str)this.hV=me(e.str);else if(null==e.date&&1==e.millis){var t=new Date;this.hV=me(this.formatDate(t,"gen",!0))}else if(null!=e.date&&e.date instanceof Date){var n=!0===e.millis;this.hV=me(this.formatDate(e.date,"gen",n))}else e instanceof Date&&(this.hV=me(this.formatDate(e,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=e&&this.setByParam(e)},Ke(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].tohex();return this.hV=e,this.hV}},Ke(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.tohex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Ke(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1,n=de,r=n.getV,i=(n.isASN1HEX,t.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(e,t,n){this.params={tag:t,explicit:e,obj:n}},this.getFreshValueHex=function(){var e=this.params;if(null==e.explicit&&(e.explicit=!0),null!=e.tage&&(e.tag=e.tage,e.explicit=!0),null!=e.tagi&&(e.tag=e.tagi,e.explicit=!1),null!=e.str)this.hV=ke(e.str);else if(null!=e.hex)this.hV=e.hex;else{if(null==e.obj)throw new Error("str, hex nor obj not specified");var n;e.obj instanceof t.ASN1Object?n=e.obj.tohex():"object"==typeof e.obj&&(n=i(e.obj).tohex()),e.explicit?this.hV=n:this.hV=r(n,0)}return null==e.tag&&(e.tag="a0"),this.hT=e.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,he,pe,de=new function(){};function fe(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function me(e){return fe(function(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e))}function ge(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function ve(e){return e.length%2==1&&(e="0"+e),ge(b(e))}function be(e){return k(ye(e))}function ke(e){return Ce(je(e)).toLowerCase()}function we(e){try{return decodeURIComponent(Re(e))}catch(e){return null}}function xe(e){return we(function(e){for(var t=e.match(/.{1,2}/g),n=[],r=0;r<t.length;r++){var i=parseInt(t[r],16);161<=i&&i<=191?(n.push("c2"),n.push(t[r])):192<=i&&i<=255?(n.push("c3"),n.push((i-64).toString(16))):n.push(t[r])}return n.join("")}(e))}function Se(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Ee(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Ae(e){var t=function(e){return b(e)}(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function _e(e,t){return"-----BEGIN "+t+"-----\r\n"+Ae(e)+"\r\n-----END "+t+"-----\r\n"}function De(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return function(e){return k(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Pe(e){return Math.round(function(e){var t,n,r,i,a,o,s,l,u,c,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=h[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),a=parseInt(h[5]),o=parseInt(h[6]),s=0,""!==(u=h[7])&&(c=(u.substr(1)+"00").substr(0,3),s=parseInt(c)),Date.UTC(t,n,r,i,a,o,s);throw new Error("unsupported zulu format: "+e)}(e)/1e3)}function Ce(e){return e.replace(/%/g,"")}function Re(e){return e.replace(/(..)/g,"%$1")}function Oe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var a=0;a<8;a++)i[a]=("0000"+i[a]).slice(-4);return i.join("")}function Te(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+e);var t=(e=e.toLowerCase()).match(/.{1,4}/g);t=t.map((function(e){return e.replace(/^0+/,"")})),t=t.map((function(e){return""==e?"0":e}));var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null==n)return e.slice(1,-1);var r=n.sort().slice(-1)[0];return"::"!=(e=e.replace(r.substr(0,r.length-1),":")).substr(0,2)&&(e=e.substr(1)),"::"!=e.substr(-2,2)&&(e=e.substr(0,e.length-1)),e}function Fe(e){var t=new Error("malformed hex value");if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8==e.length)try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}else{if(16!=e.length){if(32==e.length)return Te(e);if(64==e.length){try{return Te(e.substr(0,32))+"/"+Be(e.substr(32))}catch(e){throw t}return}return e}try{return Fe(e.substr(0,8))+"/"+Be(e.substr(8))}catch(e){throw t}}}function Be(e){var t,n=new Error("malformed mask");try{t=new w(e,16).toString(2)}catch(e){throw n}if(!t.match(/^1*0*$/))throw n;return t.replace(/0+$/,"").length}function Ne(e){var t=new Error("malformed IP address");if(!(e=e.toLowerCase(e)).match(/^[0-9a-f.:/]+$/))throw t;if(!e.match(/^[0-9.]+$/)){var n;if(e.match(/^[0-9.]+\/[0-9]+$/))return Ne((n=e.split("/"))[0])+Ie(parseInt(n[1]),32);if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Oe(e);if(e.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==e.indexOf(":"))return Oe((n=e.split("/"))[0])+Ie(parseInt(n[1]),128);throw t}var r=e.split(".");if(4!==r.length)throw t;var i="";try{for(var a=0;a<4;a++)i+=("0"+parseInt(r[a]).toString(16)).slice(-2);return i}catch(e){throw t}}function Ie(e,t){return 32==t&&0==e?"00000000":128==t&&0==e?"00000000000000000000000000000000":new w(Array(e+1).join("1")+Array(t-e+1).join("0"),2).toString(16)}function Me(e){var t=e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return we((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return we((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))}));return t.join("")}function je(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+me(t[r]);return n}function He(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Le(e){return!!e.match(/^[0-9A-Za-z-_.]+$/)}function qe(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function ze(e){if(!He(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),a=[],o=0;o<i.length/2;o++)a.push(parseInt(i.substr(2*o,2),16));var s=[],l="";for(o=0;o<a.length;o++)128&a[o]?l+=Ue((127&a[o]).toString(2),7):(l+=Ue((127&a[o]).toString(2),7),s.push(new String(parseInt(l,2))),l="");var u=t.join(".");return s.length>0&&(u=u+"."+s.join(".")),u}catch(e){return null}}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},de.getL=function(e,t){var n=de.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},de.getVblen=function(e,t){var n;return""==(n=de.getL(e,t))?-1:("8"===n.substr(0,1)?new w(n.substr(2),16):new w(n,16)).intValue()},de.getVidx=function(e,t){var n=de.getLblen(e,t);return n<0?n:t+2*(n+1)},de.getV=function(e,t){var n=de.getVidx(e,t),r=de.getVblen(e,t);return e.substr(n,2*r)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getTLVblen=function(e,t){return 2+2*de.getLblen(e,t)+2*de.getVblen(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var n,r,i,a=de,o=[];n=a.getVidx(e,t),r=2*a.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var s=n;i<=r;){var l=a.getTLVblen(e,s);if((i+=l)<=r&&o.push(s),s+=l,i>=r)break}return o},de.getNthChildIdx=function(e,t,n){return de.getChildIdx(e,t)[n]},de.getIdxbyList=function(e,t,n,r){var i,a,o=de;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(a=o.getChildIdx(e,t)).length?-1:o.getIdxbyList(e,a[i],n,r)},de.getIdxbyListEx=function(e,t,n,r){var i,a,o=de;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),a=o.getChildIdx(e,t);for(var s=0,l=0;l<a.length;l++){var u=e.substr(a[l],2);if("number"==typeof i&&!o.isContextTag(u)&&s==i||"string"==typeof i&&o.isContextTag(u,i))return o.getIdxbyListEx(e,a[l],n,r);o.isContextTag(u)||s++}return-1},de.getTLVbyList=function(e,t,n,r){var i=de,a=i.getIdxbyList(e,t,n,r);return-1==a||a>=e.length?null:i.getTLV(e,a)},de.getTLVbyListEx=function(e,t,n,r){var i=de,a=i.getIdxbyListEx(e,t,n,r);return-1==a?null:i.getTLV(e,a)},de.getVbyList=function(e,t,n,r,i){var a,o,s=de;return-1==(a=s.getIdxbyList(e,t,n,r))||a>=e.length?null:(o=s.getV(e,a),!0===i&&(o=o.substr(2)),o)},de.getVbyListEx=function(e,t,n,r,i){var a,o,s=de;return-1==(a=s.getIdxbyListEx(e,t,n,r))?null:(o=s.getV(e,a),"03"==e.substr(a,2)&&!1!==i&&(o=o.substr(2)),o)},de.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=de.getV(e,t);return"02"==r?parseInt(i,16):function(e){if(e.length%2!=0)return-1;if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16);if(n>7)return-1;var r=e.substr(2),i=parseInt(r,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-n);var a=parseInt(i,2);return NaN==a?-1:a}catch(e){return-1}}(i)}catch(e){return n}},de.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:ze(de.getV(e,t))}catch(e){return n}},de.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=de.getOID(e,t,n);if(r==n)return n;var i=ce.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},de.getString=function(e,t,n){null==n&&(n=null);try{return Se(de.getV(e,t))}catch(e){return n}},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var a=e.substr(2),o=[],s=0;s<a.length/2;s++)o.push(parseInt(a.substr(2*s,2),16));var l=[],u="";for(s=0;s<o.length;s++)128&o[s]?u+=t((127&o[s]).toString(2),7):(u+=t((127&o[s]).toString(2),7),l.push(new String(parseInt(u,2))),u="");var c=n.join(".");return l.length>0&&(c=c+"."+l.join(".")),c},de.dump=function(e,t,n,r){var i=de,a=i.getV,o=i.dump,s=i.getChildIdx,l=e;e instanceof ce.asn1.ASN1Object&&(l=e.tohex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c,h=t.ommit_long_octet;if("01"==(c=l.substr(n,2)))return"00"==(p=a(l,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==c)return r+"INTEGER "+u(p=a(l,n),h)+"\n";if("03"==c){var p=a(l,n);return i.isASN1HEX(p.substr(2))?(w=r+"BITSTRING, encapsulates\n")+o(p.substr(2),t,0,r+"  "):r+"BITSTRING "+u(p,h)+"\n"}if("04"==c)return p=a(l,n),i.isASN1HEX(p)?(w=r+"OCTETSTRING, encapsulates\n")+o(p,t,0,r+"  "):r+"OCTETSTRING "+u(p,h)+"\n";if("05"==c)return r+"NULL\n";if("06"==c){var d=a(l,n),f=ce.asn1.ASN1Util.oidHexToInt(d),m=ce.asn1.x509.OID.oid2name(f),g=f.replace(/\./g," ");return""!=m?r+"ObjectIdentifier "+m+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==c)return r+"ENUMERATED "+parseInt(a(l,n))+"\n";if("0c"==c)return r+"UTF8String '"+we(a(l,n))+"'\n";if("13"==c)return r+"PrintableString '"+we(a(l,n))+"'\n";if("14"==c)return r+"TeletexString '"+we(a(l,n))+"'\n";if("16"==c)return r+"IA5String '"+we(a(l,n))+"'\n";if("17"==c)return r+"UTCTime "+we(a(l,n))+"\n";if("18"==c)return r+"GeneralizedTime "+we(a(l,n))+"\n";if("1a"==c)return r+"VisualString '"+we(a(l,n))+"'\n";if("1e"==c)return r+"BMPString '"+Me(a(l,n))+"'\n";if("30"==c){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";w=r+"SEQUENCE\n";var y=t;if((2==(k=s(l,n)).length||3==k.length)&&"06"==l.substr(k[0],2)&&"04"==l.substr(k[k.length-1],2)){m=i.oidname(a(l,k[0]));var v=JSON.parse(JSON.stringify(t));v.x509ExtName=m,y=v}for(var b=0;b<k.length;b++)w+=o(l,y,k[b],r+"  ");return w}if("31"==c){w=r+"SET\n";var k=s(l,n);for(b=0;b<k.length;b++)w+=o(l,t,k[b],r+"  ");return w}if(128&(c=parseInt(c,16))){var w,x=31&c;if(32&c){for(w=r+"["+x+"]\n",k=s(l,n),b=0;b<k.length;b++)w+=o(l,t,k[b],r+"  ");return w}return p=a(l,n),de.isASN1HEX(p)?(w=r+"["+x+"]\n")+o(p,t,0,r+"  "):(("68747470"==p.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==x)&&(p=we(p)),r+"["+x+"] "+p+"\n")}return r+"UNKNOWN("+c+") "+a(l,n)+"\n"},de.parse=function(e){var t=de,n=t.parse,r=t.isASN1HEX,i=t.getV,a=t.getTLV,o=t.getChildIdx,s=ce.asn1,l=s.ASN1Util.oidHexToInt,u=s.x509.OID.oid2name,c=we,h=Me,p=xe,d={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},f=e.substr(0,2),m={},g=i(e,0);if("01"==f)return"0101ff"==e?{bool:!0}:{bool:!1};if("02"==f)return{int:{hex:g}};if("03"==f)try{if("00"!=g.substr(0,2))throw"not encap";var y=g.substr(2);if(!r(y))throw"not encap";return{bitstr:{obj:n(y)}}}catch(e){var v=null;return g.length<=10&&(v=function(e){if("string"!=typeof e)return null;if(e.length%2!=0)return null;if(!e.match(/^[0-9a-f]+$/))return null;try{var t=parseInt(e.substr(0,2),16);if(t<0||7<t)return null;for(var n=e.substr(2),r="",i=0;i<n.length;i+=2){var a=n.substr(i,2),o=parseInt(a,16).toString(2);r+=o=("0000000"+o).slice(-8)}return r.substr(0,r.length-t)}catch(e){return null}}(g)),null==v?{bitstr:{hex:g}}:{bitstr:{bin:v}}}else if("04"==f)try{if(!r(g))throw"not encap";return{octstr:{obj:n(g)}}}catch(e){return{octstr:{hex:g}}}else{if("05"==f)return{null:""};if("06"==f){var b=l(g),k=u(b);return""==k?{oid:b}:{oid:k}}if("0a"==f)return g.length>4?{enum:{hex:g}}:{enum:parseInt(g,16)};if("30"==f||"31"==f)return m[d[f]]=function(e){for(var t=[],r=o(e,0),i=0;i<r.length;i++){var s=r[i],l=a(e,s),u=n(l);t.push(u)}return t}(e),m;if("14"==f){var w=p(g);return m[d[f]]={str:w},m}if("1e"==f)return w=h(g),m[d[f]]={str:w},m;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(f))return w=c(g),m[d[f]]={str:w},m;if(f.match(/^8[0-9]$/))return null==(w=c(g))|""==w||null!=w.match(/[\x00-\x1F\x7F-\x9F]/)||null!=w.match(/[\u0000-\u001F\u0080–\u009F]/)?{tag:{tag:f,explicit:!1,hex:g}}:{tag:{tag:f,explicit:!1,str:w}};if(!f.match(/^a[0-9]$/)){var x=new ce.asn1.ASN1Object;return x.hV=g,{asn1:{tlv:f+x.getLengthHexFromValue()+g}}}try{if(!r(g))throw new Error("not encap");return{tag:{tag:f,explicit:!0,obj:n(g)}}}catch(e){return{tag:{tag:f,explicit:!0,hex:g}}}}},de.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},de.checkStrictDER=function(e,t,n,r,i){var a=de;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(a.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var o=a.getVblen(e,t);if(o>r)throw new Error("value of L too long than hex: idx="+t);var s=a.getTLV(e,t),l=s.length-2-a.getL(e,t).length;if(l!==2*o)throw new Error("V string length and L's value not the same:"+l+"/"+2*o);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var u=e.substr(t,2);if("02"===u){var c=a.getVidx(e,t);if("00"==e.substr(c,2)&&e.charCodeAt(c+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var h=a.getVblen(e,t),p=0,d=a.getChildIdx(e,t),f=0;f<d.length;f++)p+=a.getTLV(e,d[f]).length,a.checkStrictDER(e,d[f],n,r,i);if(2*h!=p)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+p)}},de.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.x509&&ce.asn1.x509||(ce.asn1.x509={}),ce.asn1.x509.Certificate=function(e){ce.asn1.x509.Certificate.superclass.constructor.call(this);var t=ce.asn1,n=t.DERBitString,r=t.DERSequence,i=t.x509,a=i.TBSCertificate,o=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.sigalg;null!=e.sigalg.name&&(t=e.sigalg.name);var n=e.tbsobj.tohex(),r=new ce.crypto.Signature({alg:t});r.init(e.cakey),r.updateHex(n),e.sighex=r.sign()},this.getPEM=function(){return _e(this.tohex(),"CERTIFICATE")},this.tohex=function(){var e=this.params;if(null!=e.tbsobj&&null!=e.tbsobj||(e.tbsobj=new a(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new o({name:e.sigalg})),t.push(new n({hex:"00"+e.sighex})),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},Ke(ce.asn1.x509.Certificate,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertificate=function(e){ce.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ce.asn1,n=t.x509,r=t.DERTaggedObject,i=t.DERInteger,a=t.DERSequence,o=n.AlgorithmIdentifier,s=n.Time,l=n.X500Name,u=n.Extensions,c=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=[],t=this.params;if(null!=t.version||1!=t.version){var n=2;null!=t.version&&(n=t.version-1);var h=new r({obj:new i({int:n})});e.push(h)}return e.push(new i(t.serial)),e.push(new o({name:t.sigalg})),e.push(new l(t.issuer)),e.push(new a({array:[new s(t.notbefore),new s(t.notafter)]})),e.push(new l(t.subject)),e.push(new c(Ye.getKey(t.sbjpubkey))),void 0!==t.ext&&t.ext.length>0&&e.push(new r({tag:"a3",obj:new u(t.ext)})),new ce.asn1.DERSequence({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.TBSCertificate,ce.asn1.ASN1Object),ce.asn1.x509.Extensions=function(e){ce.asn1.x509.Extensions.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.x509;this.aParam=[],this.setByParam=function(e){this.aParam=e},this.tohex=function(){for(var e=[],t=0;t<this.aParam.length;t++){var i=this.aParam[t],a=i.extname,o=null;if(null!=i.extn)o=new r.PrivateExtension(i);else if("subjectKeyIdentifier"==a)o=new r.SubjectKeyIdentifier(i);else if("keyUsage"==a)o=new r.KeyUsage(i);else if("subjectAltName"==a)o=new r.SubjectAltName(i);else if("issuerAltName"==a)o=new r.IssuerAltName(i);else if("basicConstraints"==a)o=new r.BasicConstraints(i);else if("nameConstraints"==a)o=new r.NameConstraints(i);else if("cRLDistributionPoints"==a)o=new r.CRLDistributionPoints(i);else if("certificatePolicies"==a)o=new r.CertificatePolicies(i);else if("policyMappings"==a)o=new r.PolicyMappings(i);else if("policyConstraints"==a)o=new r.PolicyConstraints(i);else if("inhibitAnyPolicy"==a)o=new r.InhibitAnyPolicy(i);else if("authorityKeyIdentifier"==a)o=new r.AuthorityKeyIdentifier(i);else if("extKeyUsage"==a)o=new r.ExtKeyUsage(i);else if("authorityInfoAccess"==a)o=new r.AuthorityInfoAccess(i);else if("cRLNumber"==a)o=new r.CRLNumber(i);else if("cRLReason"==a)o=new r.CRLReason(i);else if("ocspNonce"==a)o=new r.OCSPNonce(i);else if("ocspNoCheck"==a)o=new r.OCSPNoCheck(i);else if("adobeTimeStamp"==a)o=new r.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=a)throw new Error("extension not supported:"+JSON.stringify(i));o=new r.SubjectDirectoryAttributes(i)}null!=o&&e.push(o)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.x509.Extensions,ce.asn1.ASN1Object),ce.asn1.x509.Extension=function(e){ce.asn1.x509.Extension.superclass.constructor.call(this);var t=ce.asn1,n=t.DERObjectIdentifier,r=t.DEROctetString,i=(t.DERBitString,t.DERBoolean),a=t.DERSequence;this.tohex=function(){var e=new n({oid:this.oid}),t=new r({hex:this.getExtnValueHex()}),o=new Array;return o.push(e),this.critical&&o.push(new i),o.push(t),new a({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},Ke(ce.asn1.x509.Extension,ce.asn1.ASN1Object),ce.asn1.x509.KeyUsage=function(e){ce.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var e=this.getBinValue();return this.asn1ExtnValue=new ce.asn1.DERBitString({bin:e}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var e=this.params;if("object"!=typeof e||"object"!=typeof e.names&&"string"!=typeof e.bin)throw new t("parameter not yet set");if(null!=e.names)return Ve(e.names,n);if(null!=e.bin)return e.bin;throw new t("parameter not set properly")},this.oid="2.5.29.15",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.KeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.BasicConstraints=function(e){ce.asn1.x509.BasicConstraints.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERSequence;this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new n),this.pathLen>-1&&e.push(new r({int:this.pathLen}));var t=new i({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},Ke(ce.asn1.x509.BasicConstraints,ce.asn1.x509.Extension),ce.asn1.x509.CRLDistributionPoints=function(e){ce.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ce.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(e){for(var r=[],i=0;i<e.length;i++)if(e[i]instanceof ce.asn1.ASN1Object)r.push(e[i]);else{var a=new n.DistributionPoint(e[i]);r.push(a)}this.asn1ExtnValue=new t.DERSequence({array:r})},this.setByOneURI=function(e){var t=new n.DistributionPoint({fulluri:e});this.setByDPArray([t])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},Ke(ce.asn1.x509.CRLDistributionPoints,ce.asn1.x509.Extension),ce.asn1.x509.DistributionPoint=function(e){ce.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ce.asn1,n=t.x509.DistributionPointName;this.tohex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.dpobj?this.asn1DP=e.dpobj:void 0!==e.dpname?this.asn1DP=new n(e.dpname):void 0!==e.fulluri&&(this.asn1DP=new n({full:[{uri:e.fulluri}]})))},Ke(ce.asn1.x509.DistributionPoint,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPointName=function(e){ce.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ce.asn1,n=t.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e)if(t.x509.GeneralNames.prototype.isPrototypeOf(e))this.type="full",this.tag="a0",this.asn1V=e;else{if(void 0===e.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new t.x509.GeneralNames(e.full)}},Ke(ce.asn1.x509.DistributionPointName,ce.asn1.ASN1Object),ce.asn1.x509.CertificatePolicies=function(e){ce.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ce.asn1,n=t.x509,r=t.DERSequence,i=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var n=new r({array:e});return this.asn1ExtnValue=n,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.CertificatePolicies,ce.asn1.x509.Extension),ce.asn1.x509.PolicyInformation=function(e){ce.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new r(this.params.policyoid)];if(void 0!==this.params.array){for(var t=[],a=0;a<this.params.array.length;a++)t.push(new i(this.params.array[a]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyInformation,ce.asn1.ASN1Object),ce.asn1.x509.PolicyQualifierInfo=function(e){ce.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,r=t.DERIA5String,i=t.DERObjectIdentifier,a=t.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new r({str:this.params.cps})]}).tohex():null!=this.params.unotice?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new a(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyQualifierInfo,ce.asn1.ASN1Object),ce.asn1.x509.UserNotice=function(e){ce.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,n=(ce.asn1.DERInteger,ce.asn1.x509.DisplayText),r=ce.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new r(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.UserNotice,ce.asn1.ASN1Object),ce.asn1.x509.NoticeReference=function(e){ce.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,n=ce.asn1.DERInteger,r=ce.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var e=[];if(void 0!==this.params.org&&e.push(new r(this.params.org)),void 0!==this.params.noticenum){for(var i=[],a=this.params.noticenum,o=0;o<a.length;o++)i.push(new n(a[o]));e.push(new t({array:i}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.NoticeReference,ce.asn1.ASN1Object),ce.asn1.x509.DisplayText=function(e){ce.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},Ke(ce.asn1.x509.DisplayText,ce.asn1.DERAbstractString),ce.asn1.x509.PolicyMappings=function(e){ce.asn1.x509.PolicyMappings.superclass.constructor.call(this,e);var t=ce.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var e=this.params,t=[],r=0;r<e.array.length;r++){var i=e.array[r];t.push({seq:[{oid:i[0]},{oid:i[1]}]})}return this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyMappings,ce.asn1.x509.Extension),ce.asn1.x509.PolicyConstraints=function(e){ce.asn1.x509.PolicyConstraints.superclass.constructor.call(this,e);var t=ce.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];return null!=e.reqexp&&t.push({tag:{tagi:"80",obj:{int:e.reqexp}}}),null!=e.inhibit&&t.push({tag:{tagi:"81",obj:{int:e.inhibit}}}),this.asn1ExtnValue=n({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.PolicyConstraints,ce.asn1.x509.Extension),ce.asn1.x509.InhibitAnyPolicy=function(e){ce.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,e);var t=ce.asn1,n=(t.x509,t.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=n({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.InhibitAnyPolicy,ce.asn1.x509.Extension),ce.asn1.x509.NameConstraints=function(e){ce.asn1.x509.NameConstraints.superclass.constructor.call(this,e);var t=ce.asn1,n=t.x509,r=t.ASN1Util.newObject,i=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[];if(null!=e.permit&&null!=e.permit.length){for(var n=[],a=0;a<e.permit.length;a++)n.push(new i(e.permit[a]));t.push({tag:{tagi:"a0",obj:{seq:n}}})}if(null!=e.exclude&&null!=e.exclude.length){var o=[];for(a=0;a<e.exclude.length;a++)o.push(new i(e.exclude[a]));t.push({tag:{tagi:"a1",obj:{seq:o}}})}return this.asn1ExtnValue=r({seq:t}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.NameConstraints,ce.asn1.x509.Extension),ce.asn1.x509.GeneralSubtree=function(e){ce.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var t=ce.asn1,n=t.x509.GeneralName,r=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,t=[new n(e)];return null!=e.min&&t.push({tag:{tagi:"80",obj:{int:e.min}}}),null!=e.max&&t.push({tag:{tagi:"81",obj:{int:e.max}}}),r({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.GeneralSubtree,ce.asn1.ASN1Object),ce.asn1.x509.ExtKeyUsage=function(e){ce.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ce.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var r=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},Ke(ce.asn1.x509.ExtKeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityKeyIdentifier=function(e){ce.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ce,n=t.asn1,r=n.DERTaggedObject,i=n.x509.GeneralNames;t.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new r({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var t=new n.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ce.asn1.DEROctetString(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=Ye.getKey(e));var n=Ye.getKeyID(t);this.asn1KID=new ce.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ce.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ce.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ce.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new Je;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new ce.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},Ke(ce.asn1.x509.AuthorityKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.SubjectKeyIdentifier=function(e){ce.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"==typeof e&&(n=Ye.getKey(e));var r=Ye.getKeyID(n);this.asn1KID=new ce.asn1.DEROctetString({hex:r})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},Ke(ce.asn1.x509.SubjectKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityInfoAccess=function(e){ce.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=ce.asn1,r=n.DERSequence,i=n.DERObjectIdentifier,a=n.x509.GeneralName,o=0;o<e.length;o++){var s,l=e[o];if(void 0!==l.ocsp)s=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new a({uri:l.ocsp})]});else{if(void 0===l.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(l));s=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new a({uri:l.caissuer})]})}t.push(s)}this.asn1ExtnValue=new r({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},Ke(ce.asn1.x509.AuthorityInfoAccess,ce.asn1.x509.Extension),ce.asn1.x509.SubjectAltName=function(e){ce.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ke(ce.asn1.x509.SubjectAltName,ce.asn1.x509.Extension),ce.asn1.x509.IssuerAltName=function(e){ce.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},Ke(ce.asn1.x509.IssuerAltName,ce.asn1.x509.Extension),ce.asn1.x509.SubjectDirectoryAttributes=function(e){ce.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,r=t.ASN1Util.newObject,i=t.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++){var a=this.params.array[t],o={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={gentime:a.str};else if("placeOfBirth"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={utf8str:a.str};else if("gender"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={prnstr:a.str};else if("countryOfCitizenship"==a.attr)o.seq[0].oid=i(a.attr),o.seq[1].set[0]={prnstr:a.str};else{if("countryOfResidence"!=a.attr)throw new Error("unsupported attribute: "+a.attr);o.seq[0].oid=i(a.attr),o.seq[1].set[0]={prnstr:a.str}}e.push(new r(o))}var s=new n({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==e&&(this.params=e)},Ke(ce.asn1.x509.SubjectDirectoryAttributes,ce.asn1.x509.Extension),ce.asn1.x509.PrivateExtension=function(e){ce.asn1.x509.PrivateExtension.superclass.constructor.call(this,e);var t=ce,n=t.lang.String.isHex,r=t.asn1,i=r.x509.OID.name2oid,a=r.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.oid=i(e.extname),this.params=e},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var e=this.params.extn;if("string"==typeof e&&n(e))return e;if("object"==typeof e)try{return a(e).tohex()}catch(e){}throw new Error("unsupported extn value")},null!=e&&this.setByParam(e)},Ke(ce.asn1.x509.PrivateExtension,ce.asn1.x509.Extension),ce.asn1.x509.CRL=function(e){ce.asn1.x509.CRL.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.DERBitString,i=t.x509,a=i.AlgorithmIdentifier,o=i.TBSCertList;this.params=void 0,this.setByParam=function(e){this.params=e},this.sign=function(){var e=new o(this.params).tohex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.cakey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return _e(this.tohex(),"X509 CRL")},this.tohex=function(){var e=this.params;if(null==e.tbsobj&&(e.tbsobj=new o(e)),null==e.sighex&&null!=e.cakey&&this.sign(),null==e.sighex)throw new Error("sighex or cakey parameter not defined");var t=[];return t.push(e.tbsobj),t.push(new a({name:e.sigalg})),t.push(new r({hex:"00"+e.sighex})),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&(this.params=e)},Ke(ce.asn1.x509.CRL,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertList=function(e){ce.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ce.asn1,n=t.DERInteger,r=t.DERSequence,i=t.DERTaggedObject,a=(t.DERObjectIdentifier,t.x509),o=a.AlgorithmIdentifier,s=a.Time,l=a.Extensions,u=a.X500Name;this.params=null,this.setByParam=function(e){this.params=e},this.getRevCertSequence=function(){for(var e=[],t=this.params.revcert,i=0;i<t.length;i++){var a=[new n(t[i].sn),new s(t[i].date)];null!=t[i].ext&&a.push(new l(t[i].ext)),e.push(new r({array:a}))}return new r({array:e})},this.tohex=function(){var e=[],t=this.params;if(null!=t.version){var a=t.version-1,c=new n({int:a});e.push(c)}if(e.push(new o({name:t.sigalg})),e.push(new u(t.issuer)),e.push(new s(t.thisupdate)),null!=t.nextupdate&&e.push(new s(t.nextupdate)),null!=t.revcert&&e.push(this.getRevCertSequence()),null!=t.ext){var h=new l(t.ext);e.push(new i({tag:"a0",explicit:!0,obj:h}))}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.TBSCertList,ce.asn1.ASN1Object),ce.asn1.x509.CRLEntry=function(e){ce.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ce.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.tohex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},Ke(ce.asn1.x509.CRLEntry,ce.asn1.ASN1Object),ce.asn1.x509.CRLNumber=function(e){ce.asn1.x509.CRLNumber.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=e&&(this.params=e)},Ke(ce.asn1.x509.CRLNumber,ce.asn1.x509.Extension),ce.asn1.x509.CRLReason=function(e){ce.asn1.x509.CRLReason.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=e&&(this.params=e)},Ke(ce.asn1.x509.CRLReason,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNonce=function(e){ce.asn1.x509.OCSPNonce.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=e&&(this.params=e)},Ke(ce.asn1.x509.OCSPNonce,ce.asn1.x509.Extension),ce.asn1.x509.OCSPNoCheck=function(e){ce.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,e),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ce.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=e&&(this.params=e)},Ke(ce.asn1.x509.OCSPNoCheck,ce.asn1.x509.Extension),ce.asn1.x509.AdobeTimeStamp=function(e){ce.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERInteger,r=t.DERBoolean,i=t.DERSequence,a=t.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var e=this.params,t=[new n(1)];return t.push(new a({uri:e.uri})),null!=e.reqauth&&t.push(new r(e.reqauth)),this.asn1ExtnValue=new i({array:t}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.AdobeTimeStamp,ce.asn1.x509.Extension),ce.asn1.x509.X500Name=function(e){ce.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1,n=t.x509,r=n.RDN;this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.split("/");n.shift();for(var i=[],a=0;a<n.length;a++)if(n[a].match(/^[^=]+=.+$/))i.push(n[a]);else{var o=i.length-1;i[o]=i[o]+"/"+n[a]}for(a=0;a<i.length;a++)this.asn1Array.push(new r({str:i[a],rule:this.sRule}))},this.setByLdapString=function(e,t){void 0!==t&&(this.sRule=t);var r=n.X500Name.ldapToCompat(e);this.setByString(r,t)},this.setByObject=function(e,t){for(var n in void 0!==t&&(this.sRule=t),e)if(e.hasOwnProperty(n)){var i=new r({str:n+"="+e[n],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(e){var t;void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.array?this.paramArray=e.array:void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new Je).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new Je).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n={array:this.paramArray[e]};"utf8"!=this.sRule&&(n.rule=this.sRule);var i=new r(n);this.asn1Array.push(i)}var a=new t.DERSequence({array:this.asn1Array});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.X500Name,ce.asn1.ASN1Object),ce.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),t=t.map((function(e){return e.replace(/,/,"\\,")})),t.join(",")},ce.asn1.x509.X500Name.onelineToLDAP=function(e){return ce.asn1.x509.X500Name.compatToLDAP(e)},ce.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,r=[],i=0;t.length>0;i++){var a=t.shift();if(!0===n){var o=(r.pop()+","+a).replace(/\\,/g,",");r.push(o),n=!1}else r.push(a);"\\"===a.substr(-1,1)&&(n=!0)}return r=r.map((function(e){return e.replace("/","\\/")})),r.reverse(),"/"+r.join("/")},ce.asn1.x509.X500Name.ldapToOneline=function(e){return ce.asn1.x509.X500Name.ldapToCompat(e)},ce.asn1.x509.RDN=function(e){ce.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var t=ce.asn1.x509.AttributeTypeAndValue;this.setByParam=function(e){void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.str&&this.addByMultiValuedString(e.str),void 0!==e.array&&(this.paramArray=e.array)},this.addByString=function(e){this.asn1Array.push(new ce.asn1.x509.AttributeTypeAndValue({str:e,rule:this.sRule}))},this.addByMultiValuedString=function(e){for(var t=ce.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var e=0;e<this.paramArray.length;e++){var n=this.paramArray[e];void 0!==n.rule&&"utf8"!=this.sRule&&(n.rule=this.sRule);var r=new t(n);this.asn1Array.push(r)}var i=new ce.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.RDN,ce.asn1.ASN1Object),ce.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,r=[],i=0;t.length>0;i++){var a=t.shift();if(!0===n){var o=(r.pop()+"+"+a).replace(/\\\+/g,"+");r.push(o),n=!1}else r.push(a);"\\"===a.substr(-1,1)&&(n=!0)}var s=!1,l=[];for(i=0;r.length>0;i++){if(a=r.shift(),!0===s){var u=l.pop();a.match(/"$/)?(o=(u+"+"+a).replace(/^([^=]+)="(.*)"$/,"$1=$2"),l.push(o),s=!1):l.push(u+"+"+a)}else l.push(a);a.match(/^[^=]+="/)&&(s=!0)}return l},ce.asn1.x509.AttributeTypeAndValue=function(e){ce.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var t=ce,n=t.asn1,r=n.DERSequence,i=n.DERUTF8String,a=n.DERPrintableString,o=n.DERTeletexString,s=n.DERIA5String,l=n.DERVisibleString,u=n.DERBMPString,c=t.lang.String.isMail,h=t.lang.String.isPrintable;this.setByParam=function(e){if(void 0!==e.rule&&(this.sRule=e.rule),void 0!==e.ds&&(this.dsType=e.ds),void 0===e.value&&void 0!==e.str){var t=e.str.match(/^([^=]+)=(.+)$/);if(!t)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=t[1],this.sValue=t[2]}else this.sType=e.type,this.sValue=e.value},this.setByString=function(e,t){void 0!==t&&(this.sRule=t);var n=e.match(/^([^=]+)=(.+)$/);if(!n)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(n[1],n[2])},this._getDsType=function(){var e=this.sType,t=this.sValue,n=this.sRule;return"prn"===n?"CN"==e&&c(t)?"ia5":h(t)?"prn":"utf8":"utf8"===n?"CN"==e&&c(t)?"ia5":"C"==e?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(e,t,n){void 0!==n&&(this.sRule=n),this.sType=e,this.sValue=t},this.getValueObj=function(e,t){if("utf8"==e)return new i({str:t});if("prn"==e)return new a({str:t});if("tel"==e)return new o({str:t});if("ia5"==e)return new s({str:t});if("vis"==e)return new l({str:t});if("bmp"==e)return new u({str:t});throw new Error("unsupported directory string type: type="+e+" value="+t)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var e=ce.asn1.x509.OID.atype2obj(this.sType),t=this.getValueObj(this.dsType,this.sValue),n=new r({array:[e,t]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.AttributeTypeAndValue,ce.asn1.ASN1Object),ce.asn1.x509.SubjectPublicKeyInfo=function(e){ce.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ce,n=t.asn1,r=n.DERInteger,i=n.DERBitString,a=n.DERObjectIdentifier,o=n.DERSequence,s=n.ASN1Util.newObject,l=n.x509.AlgorithmIdentifier,u=t.crypto;u.ECDSA,u.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new o({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var e=this.getASN1Object();return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(e){try{if(e instanceof ie){var t=s({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).tohex();this.asn1AlgId=new l({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(e){}try{if(e instanceof ce.crypto.ECDSA){var n=new a({name:e.curveName});this.asn1AlgId=new l({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(e){}try{if(e instanceof ce.crypto.DSA){n=new s({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new l({name:"dsa",asn1params:n});var o=new r({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+o.tohex()})}}catch(e){}},void 0!==e&&this.setPubKey(e)},Ke(ce.asn1.x509.SubjectPublicKeyInfo,ce.asn1.ASN1Object),ce.asn1.x509.Time=function(e){ce.asn1.x509.Time.superclass.constructor.call(this);var t=ce.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(e){this.timeParams=e},this.setByParam=function(e){this.params=e},this.getType=function(e){return e.match(/^[0-9]{12}Z$/)?"utc":e.match(/^[0-9]{14}Z$/)?"gen":e.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":e.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var e=this.params,t=null;if("string"==typeof e&&(e={str:e}),null==e||!e.str||null!=e.type&&null!=e.type||(e.type=this.getType(e.str)),null!=e&&e.str?("utc"==e.type&&(t=new n(e.str)),"gen"==e.type&&(t=new r(e.str))):t="gen"==this.type?new r:new n,null==t)throw new Error("wrong setting for Time");return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},ce.asn1.x509.Time_bak=function(e){ce.asn1.x509.Time_bak.superclass.constructor.call(this);var t=ce.asn1,n=t.DERUTCTime,r=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.tohex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new r(this.timeParams):"utc"==this.type?new n:new r,this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},Ke(ce.asn1.x509.Time,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier=function(e){ce.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ce.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var r in n)r===this.nameAlg&&(e=n[r]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var a=new t.DERSequence({array:i});return this.hTLV=a.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},Ke(ce.asn1.x509.AlgorithmIdentifier,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ce.asn1.x509.GeneralName=function(e){ce.asn1.x509.GeneralName.superclass.constructor.call(this);var t=ce.asn1,n=t.x509,r=n.X500Name,i=n.OtherName,a=t.DERIA5String,o=(t.DERPrintableString,t.DEROctetString),s=t.DERTaggedObject,l=t.ASN1Object,u=Error;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e,t,n=this.params,c=!1;if(void 0!==n.other)e="a0",t=new i(n.other);else if(void 0!==n.rfc822)e="81",t=new a({str:n.rfc822});else if(void 0!==n.dns)e="82",t=new a({str:n.dns});else if(void 0!==n.dn)e="a4",c=!0,t="string"==typeof n.dn?new r({str:n.dn}):n.dn instanceof ce.asn1.x509.X500Name?n.dn:new r(n.dn);else if(void 0!==n.ldapdn)e="a4",c=!0,t=new r({ldapstr:n.ldapdn});else if(void 0!==n.certissuer||void 0!==n.certsubj){var h,p;e="a4",c=!0;var d=null;if(void 0!==n.certsubj?(h=!1,p=n.certsubj):(h=!0,p=n.certissuer),p.match(/^[0-9A-Fa-f]+$/),-1!=p.indexOf("-----BEGIN ")&&(d=De(p)),null==d)throw new Error("certsubj/certissuer not cert");var f,m=new Je;m.hex=d,f=h?m.getIssuerHex():m.getSubjectHex(),(t=new l).hTLV=f}else if(void 0!==n.uri)e="86",t=new a({str:n.uri});else{if(void 0===n.ip)throw new u("improper params");var g;e="87";var y=n.ip;try{if(y.match(/^[0-9a-f]+$/)){var v=y.length;if(8!=v&&16!=v&&32!=v&&64!=v)throw"err";g=y}else g=Ne(y)}catch(e){throw new u("malformed IP address: "+n.ip+":"+e.message)}t=new o({hex:g})}return new s({tag:e,explicit:c,obj:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.GeneralName,ce.asn1.ASN1Object),ce.asn1.x509.GeneralNames=function(e){ce.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ce.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var r=new t.x509.GeneralName(e[n]);this.asn1Array.push(r)}},this.tohex=function(){return new t.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},Ke(ce.asn1.x509.GeneralNames,ce.asn1.ASN1Object),ce.asn1.x509.OtherName=function(e){ce.asn1.x509.OtherName.superclass.constructor.call(this);var t=ce.asn1,n=t.DERObjectIdentifier,r=t.DERSequence,i=t.ASN1Util.newObject;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null==e.oid||null==e.value)throw new Error("oid or value not specified");var t=new n({oid:e.oid}),a=i({tag:{tag:"a0",explicit:!0,obj:e.value}});return new r({array:[t,a]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.x509.OtherName,ce.asn1.ASN1Object),ce.asn1.x509.OID=new function(){var e=ce.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];if(void 0===this.name2oidList[t])throw"Name of ObjectIdentifier not defined: "+t;var n=this.name2oidList[t],r=new e({oid:n});return this.objCache[t]=r,r},this.atype2obj=function(t){if(void 0!==this.objCache[t])return this.objCache[t];var n;if(t.match(/^\d+\.\d+\.[0-9.]+$/))n=t;else if(void 0!==this.atype2oidList[t])n=this.atype2oidList[t];else{if(void 0===this.name2oidList[t])throw new Error("AttributeType name undefined: "+t);n=this.name2oidList[t]}var r=new e({oid:n});return this.objCache[t]=r,r},this.registerOIDs=function(e){if(this.checkOIDs(e))for(var t in e)this.name2oidList[t]=e[t]},this.checkOIDs=function(e){try{var t=Object.keys(e);return 0!=t.length&&(t.map((function(e,t,n){if(!this[e].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),e),!0)}catch(e){return!1}}},ce.asn1.x509.OID.oid2name=function(e){var t=ce.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},ce.asn1.x509.OID.oid2atype=function(e){var t=ce.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},ce.asn1.x509.OID.name2oid=function(e){if(e.match(/^[0-9.]+$/))return e;var t=ce.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ce.asn1.x509.X509Util={},ce.asn1.x509.X509Util.newCertPEM=function(e){var t=ce.asn1.x509;return t.TBSCertificate,new(0,t.Certificate)(e).getPEM()},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cms&&ce.asn1.cms||(ce.asn1.cms={}),ce.asn1.cms.Attribute=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERSet,a=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(e){this.params=e},this.getValueArray=function(){throw new t("not yet implemented abstract")},this.tohex=function(){var e=new a({oid:this.typeOid}),t=new i({array:this.getValueArray()});return new r({array:[e,t]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},Ke(ce.asn1.cms.Attribute,ce.asn1.ASN1Object),ce.asn1.cms.ContentType=function(e){var t=ce.asn1;t.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new t.DERObjectIdentifier(this.params.type)]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ContentType,ce.asn1.cms.Attribute),ce.asn1.cms.MessageDigest=function(e){var t=ce.asn1,n=t.DEROctetString;t.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new n(this.params)]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.MessageDigest,ce.asn1.cms.Attribute),ce.asn1.cms.SigningTime=function(e){var t=ce.asn1;t.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new t.x509.Time(this.params)]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SigningTime,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificate=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERSequence,a=r.cms,o=a.ESSCertID;n.crypto,a.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],a=0;a<n.length;a++){var s=n[a];0!=e.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!de.isASN1HEX(s)||(s={cert:s}),0!=s.hasis&&0==e.hasis&&(s.hasis=!1),r.push(new o(s))}var l=new i({array:r});return[new i({array:[l]})]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SigningCertificate,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertID=function(e){ce.asn1.cms.ESSCertID.superclass.constructor.call(this);var t=Error,n=ce,r=n.asn1,i=r.DEROctetString,a=r.DERSequence,o=r.cms.IssuerSerial;this.params=null,this.getCertHash=function(e,r){if(null!=e.hash)return e.hash;if("string"==typeof e&&-1==e.indexOf("-----BEGIN")&&!de.isASN1HEX(e))return e;var i,a,o;if("string"==typeof e)i=e;else{if(null==e.cert)throw new t("hash nor cert unspecified");i=e.cert}if(a=-1!=i.indexOf("-----BEGIN")?De(i):i,"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?a=De(e):de.isASN1HEX(e)&&(a=e)),null!=e.alg)o=e.alg;else{if(null==r)throw new t("hash alg unspecified");o=r}return n.crypto.Util.hashHex(a,o)},this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha1"),n=[];return n.push(new i({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&n.push(new o(e)),new a({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ESSCertID,ce.asn1.ASN1Object),ce.asn1.cms.SigningCertificateV2=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERSequence,a=(r.x509,r.cms),o=a.ESSCertIDv2;n.crypto,a.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new t("parameter 'array' not specified");for(var n=this.params.array,r=[],a=0;a<n.length;a++){var s=n[a];null==e.alg&&0!=e.hasis||"string"!=typeof s||-1==s.indexOf("-----BEGIN")&&!de.isASN1HEX(s)||(s={cert:s}),null==s.alg&&null!=e.alg&&(s.alg=e.alg),0!=s.hasis&&0==e.hasis&&(s.hasis=!1),r.push(new o(s))}var l=new i({array:r});return[new i({array:[l]})]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SigningCertificateV2,ce.asn1.cms.Attribute),ce.asn1.cms.ESSCertIDv2=function(e){ce.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var t=ce.asn1,n=t.DEROctetString,r=t.DERSequence,i=t.cms.IssuerSerial,a=t.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var e=this.params,t=this.getCertHash(e,"sha256"),o=[];return null!=e.alg&&"sha256"!=e.alg&&o.push(new a({name:e.alg})),o.push(new n({hex:t})),("string"==typeof e&&-1!=e.indexOf("-----BEGIN")||null!=e.cert&&0!=e.hasis||null!=e.issuer&&null!=e.serial)&&o.push(new i(e)),new r({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ESSCertIDv2,ce.asn1.cms.ESSCertID),ce.asn1.cms.IssuerSerial=function(e){var t=Error,n=ce.asn1,r=n.DERInteger,i=n.DERSequence,a=n.cms,o=n.x509.GeneralNames,s=Je;a.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.tohex=function(){var e,n,a=this.params;if("string"==typeof a&&-1!=a.indexOf("-----BEGIN")||null!=a.cert){var l;l=null!=a.cert?a.cert:a;var u=new s;u.readCertPEM(l),e=u.getIssuer(),n={hex:u.getSerialNumberHex()}}else{if(null==a.issuer||!a.serial)throw new t("cert or issuer and serial parameter not specified");e=a.issuer,n=a.serial}var c=new o([{dn:e}]),h=new r(n);return new i({array:[c,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.IssuerSerial,ce.asn1.ASN1Object),ce.asn1.cms.SignerIdentifier=function(e){var t=ce.asn1,n=(t.DERInteger,t.DERSequence,t.cms),r=n.IssuerAndSerialNumber,i=n.SubjectKeyIdentifier;t.x509.X500Name,Error,n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("isssn"==e.type)return new r(e).tohex();if("skid"==e.type)return new i(e).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SignerIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.IssuerAndSerialNumber=function(e){var t=ce.asn1,n=t.DERInteger,r=t.DERSequence,i=t.cms,a=t.x509.X500Name,o=Je,s=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e,t,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var l;l=null!=i.cert?i.cert:i;var u=new o;u.readCertPEM(l),e=u.getIssuer(),t={hex:u.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new s("cert or issuer and serial parameter not specified");e=i.issuer,t=i.serial}var c=new a(e),h=new n(t);return new r({array:[c,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.IssuerAndSerialNumber,ce.asn1.ASN1Object),ce.asn1.cms.SubjectKeyIdentifier=function(e){var t=ce.asn1,n=(t.DERInteger,t.DERSequence,t.ASN1Util.newObject),r=t.cms,i=(r.IssuerAndSerialName,r.SubjectKeyIdentifier,t.x509.X500Name,Je),a=Error;r.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var e,t=this.params;if(null==t.cert&&null==t.skid)throw new a("property cert nor skid undefined");return null!=t.cert?e=new i(t.cert).getExtSubjectKeyIdentifier().kid.hex:null!=t.skid&&(e=t.skid),n({tag:{tage:"a0",obj:{octstr:{hex:e}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SubjectKeyIdentifier,ce.asn1.ASN1Object),ce.asn1.cms.AttributeList=function(e){var t=Error,n=ce.asn1,r=n.DERSet,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if(null!=this.hTLV)return this.hTLV;var n=!0;null!=e.sortflag&&(n=e.sortflag);for(var a=e.array,o=[],s=0;s<a.length;s++){var l=a[s],u=l.attr;if("contentType"==u)o.push(new i.ContentType(l));else if("messageDigest"==u)o.push(new i.MessageDigest(l));else if("signingTime"==u)o.push(new i.SigningTime(l));else if("signingCertificate"==u)o.push(new i.SigningCertificate(l));else if("signingCertificateV2"==u)o.push(new i.SigningCertificateV2(l));else if("signaturePolicyIdentifier"==u)o.push(new ce.asn1.cades.SignaturePolicyIdentifier(l));else{if("signatureTimeStamp"!=u&&"timeStampToken"!=u)throw new t("unknown attr: "+u);o.push(new ce.asn1.cades.SignatureTimeStamp(l))}}var c=new r({array:o,sortflag:n});return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.AttributeList,ce.asn1.ASN1Object),ce.asn1.cms.SignerInfo=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERInteger,a=r.DEROctetString,o=r.DERSequence,s=r.DERTaggedObject,l=r.cms,u=l.SignerIdentifier,c=l.AttributeList,h=(l.ContentType,l.EncapsulatedContentInfo,l.MessageDigest,l.SignedData,r.x509.AlgorithmIdentifier),p=n.crypto,d=Ye;l.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var e=this.params,t=e.sigalg,n=new c(e.sattrs).tohex(),r=d.getKey(e.signkey),i=new p.Signature({alg:t});i.init(r),i.updateHex(n);var a=i.sign();e.sighex=a},this.tohex=function(){var e=this.params,n=[];if(n.push(new i({int:e.version})),n.push(new u(e.id)),n.push(new h({name:e.hashalg})),null!=e.sattrs){var r=new c(e.sattrs);try{n.push(new s({tag:"a0",explicit:!1,obj:r}))}catch(e){throw new t("si sattr error: "+e)}}if(null!=e.sigalgfield?n.push(new h({name:e.sigalgfield})):n.push(new h({name:e.sigalg})),null==e.sighex&&null!=e.signkey&&this.sign(),n.push(new a({hex:e.sighex})),null!=e.uattrs){r=new c(e.uattrs);try{n.push(new s({tag:"a1",explicit:!1,obj:r}))}catch(e){throw new t("si uattr error: "+e)}}return new o({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SignerInfo,ce.asn1.ASN1Object),ce.asn1.cms.EncapsulatedContentInfo=function(e){var t=ce.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier,a=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];if(t.push(new i(e.type)),null!=e.content&&(null!=e.content.hex||null!=e.content.str)&&1!=e.isDetached){var o=new a(e.content),s=new n({tag:"a0",explicit:!0,obj:o});t.push(s)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.EncapsulatedContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.ContentInfo=function(e){var t=ce.asn1,n=t.DERTaggedObject,r=t.DERSequence,i=t.DERObjectIdentifier;t.x509.OID.name2obj,ce.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];t.push(new i(e.type));var a=new n({tag:"a0",explicit:!0,obj:e.obj});return t.push(a),new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.ContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.SignedData=function(e){Error;var t=ce.asn1,n=(t.ASN1Object,t.DERInteger),r=t.DERSet,i=t.DERSequence,a=(t.DERTaggedObject,t.cms),o=a.EncapsulatedContentInfo,s=a.SignerInfo,l=a.ContentInfo,u=a.CertificateSet,c=a.RevocationInfoChoices,h=t.x509.AlgorithmIdentifier;ce.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var e=this.params;this._setDigestAlgs(e),this._setContentTypeByEContent(e),this._setMessageDigestByEContent(e),this._setSignerInfoVersion(e),this._setSignedDataVersion(e)},this._setDigestAlgs=function(e){for(var t={},n=e.sinfos,r=0;r<n.length;r++)t[n[r].hashalg]=1;e.hashalgs=Object.keys(t).sort()},this._setContentTypeByEContent=function(e){for(var t=e.econtent.type,n=e.sinfos,r=0;r<n.length;r++){var i=n[r];this._getAttrParamByName(i,"contentType").type=t}},this._setMessageDigestByEContent=function(e){var t=e.econtent,n=(e.econtent.type,t.content.hex);null==n&&"data"==t.type&&null!=t.content.str&&(n=Ee(t.content.str));for(var r=e.sinfos,i=0;i<r.length;i++){var a=r[i],o=a.hashalg,s=this._getAttrParamByName(a,"messageDigest"),l=ce.crypto.Util.hashHex(n,o);s.hex=l}},this._getAttrParamByName=function(e,t){for(var n=e.sattrs.array,r=0;r<n.length;r++)if(n[r].attr==t)return n[r]},this._setSignerInfoVersion=function(e){for(var t=e.sinfos,n=0;n<t.length;n++){var r=t[n],i=1;"skid"==r.id.type&&(i=3),r.version=i}},this._setSignedDataVersion=function(e){var t=this._getSignedDataVersion(e);e.version=t},this._getSignedDataVersion=function(e){if(null!=e.revinfos)for(var t=e.revinfos,n=0;n<t.length;n++)if(null!=t[n].ocsp)return 5;var r=e.sinfos;for(n=0;n<r.length;n++)if(3==e.sinfos[n].version)return 3;return"data"!=e.econtent.type?3:1},this.tohex=function(){var e=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=e.fixed&&this.checkAndFixParam();var t=[];t.push(new n({int:e.version}));for(var a=[],l=0;l<e.hashalgs.length;l++){var p=e.hashalgs[l];a.push(new h({name:p}))}t.push(new r({array:a})),t.push(new o(e.econtent)),null!=e.certs&&t.push(new u(e.certs)),null!=e.revinfos&&t.push(new c(e.revinfos));var d=[];for(l=0;l<e.sinfos.length;l++){var f=e.sinfos[l];d.push(new s(f))}return t.push(new r({array:d})),new i({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new l({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.SignedData,ce.asn1.ASN1Object),ce.asn1.cms.CertificateSet=function(e){ce.asn1.cms.CertificateSet.superclass.constructor.call(this);var t=Error,n=ce.asn1,r=n.DERTaggedObject,i=n.DERSet,a=n.ASN1Object;this.params=null,this.tohex=function(){var e,n=this.params,o=[];if(n instanceof Array)e=n;else{if(null==n.array)throw new t("cert array not specified");e=n.array}for(var s=0;s<e.length;s++){var l=De(e[s]),u=new a;u.hTLV=l,o.push(u)}var c={array:o};0==n.sortflag&&(c.sortflag=!1);var h=new i(c);return new r({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.CertificateSet,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoices=function(e){ce.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new Error("params is not array");for(var t=[],n=0;n<e.length;n++)t.push(new ce.asn1.cms.RevocationInfoChoice(e[n]));return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:t}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.RevocationInfoChoices,ce.asn1.ASN1Object),ce.asn1.cms.RevocationInfoChoice=function(e){ce.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null!=e.crl&&"string"==typeof e.crl){var t=e.crl;return-1!=e.crl.indexOf("-----BEGIN")&&(t=De(e.crl)),t}if(null!=e.ocsp)return ce.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new ce.asn1.cms.OtherRevocationFormat(e)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.RevocationInfoChoice,ce.asn1.ASN1Object),ce.asn1.cms.OtherRevocationFormat=function(e){ce.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var t=Error,n=ce,r=n.asn1.ASN1Util.newObject,i=n.lang.String.isHex;this.params=null,this.tohex=function(){var e=this.params;if(null==e.ocsp)throw new t("property ocsp not specified");if(!i(e.ocsp)||!de.isASN1HEX(e.ocsp))throw new t("ocsp value not ASN.1 hex string");return r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:e.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cms.OtherRevocationFormat,ce.asn1.ASN1Object),ce.asn1.cms.CMSUtil=new function(){},ce.asn1.cms.CMSUtil.newSignedData=function(e){return new ce.asn1.cms.SignedData(e)},ce.asn1.cms.CMSUtil.verifySignedData=function(e){var t=ce,n=t.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,t.lang.String.isHex),a=de,o=a.getVbyList,s=a.getTLVbyList,l=a.getIdxbyList,u=a.getChildIdx,c=a.getTLV,h=a.oidname,p=t.crypto.Util.hashHex;void 0===e.cms&&i(e.cms);var d=e.cms,f=function(e,t){var n=t.idx;t.signerid_issuer1=s(e,n,[1,0],"30"),t.signerid_serial1=o(e,n,[1,1],"02"),t.hashalg=h(o(e,n,[2,0],"06"));var r=l(e,n,[3],"a0");t.idxSignedAttrs=r,m(e,t,r);var i=u(e,n).length;if(i<6)throw"malformed SignerInfo";t.sigalg=h(o(e,n,[i-2,0],"06")),t.sigval=o(e,n,[i-1],"04")},m=function(e,t,n){var r=u(e,n);t.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var a,s=r[i],l=o(e,s,[0],"06");"2a864886f70d010905"===l?(a=we(o(e,s,[1,0])),t.saSigningTime=a):"2a864886f70d010904"===l&&(a=o(e,s,[1,0],"04"),t.saMessageDigest=a)}},g=function(e,t,n,r){n.verifyDetail={};var i=n.verifyDetail,a=t.parse.econtent,o=n.hashalg,s=n.saMessageDigest;i.validMessageDigest=!1,p(a,o)===s&&(i.validMessageDigest=!0),function(e,t,n,r){var i,a=t.parse.certsIdx;if(void 0===t.certs){i=[],t.certkeys=[];for(var o=u(e,a),s=0;s<o.length;s++){var l=c(e,o[s]),h=new Je;h.readCertHex(l),i[s]=h,t.certkeys[s]=h.getPublicKey()}t.certs=i}else i=t.certs;for(t.cccc=i.length,t.cccci=o.length,s=0;s<i.length;s++){var p=h.getIssuerHex(),d=h.getSerialNumberHex();n.signerid_issuer1===p&&n.signerid_serial1===d&&(n.certkey_idx=s)}}(e,t,n),i.validSignatureValue=!1;var l=n.sigalg,h="31"+c(e,n.idxSignedAttrs).substr(2);n.signedattrshex=h;var d=t.certs[n.certkey_idx].getPublicKey(),f=new ce.crypto.Signature({alg:l});f.init(d),f.updateHex(h);var m=f.verify(n.sigval);i.validSignatureValue_isValid=m,!0===m&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},y={isValid:!1,parse:{}};return function(e,t){if("2a864886f70d010702"!==o(e,0,[0],"06"))return t;t.cmsType="signedData",t.econtent=o(e,0,[1,0,2,1,0]),function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=l(e,0,[1,0,r]))){var i=e.substr(n,2);"a0"===i&&(t.certsIdx=n),"a1"===i&&(t.revinfosIdx=n),"31"===i&&(t.signerinfosIdx=n)}}(e,t),t.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var r=u(e,n);t.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var a={idx:r[i]};f(e,a),t.signerInfos.push(a)}}}(e,t)}(d,y.parse),function(e,t){for(var n=t.parse.signerInfos,r=n.length,i=!0,a=0;a<r;a++){var o=n[a];g(e,t,o),o.isValid||(i=!1)}t.isValid=i}(d,y),y},ce.asn1.cms.CMSParser=function(){var e=Error,t=Je,n=new t,r=de,i=r.getV,a=r.getTLV,o=(r.getIdxbyList,r.getTLVbyList),s=r.getTLVbyListEx,l=r.getVbyList,u=r.getVbyListEx,c=r.getChildIdx;this.getCMSSignedData=function(e){var t=o(e,0,[1,0]);return this.getSignedData(t)},this.getSignedData=function(e){var t=c(e,0),n={},r=i(e,t[0]),o=parseInt(r,16);n.version=o;var l=a(e,t[1]);n.hashalgs=this.getHashAlgArray(l);var u=a(e,t[2]);n.econtent=this.getEContent(u);var h=s(e,0,["[0]"]);null!=h&&(n.certs=this.getCertificateSet(h)),s(e,0,["[1]"]);var p=s(e,0,[3]);return n.sinfos=this.getSignerInfos(p),n},this.getHashAlgArray=function(e){for(var n=c(e,0),r=new t,i=[],o=0;o<n.length;o++){var s=a(e,n[o]),l=r.getAlgorithmIdentifierName(s);i.push(l)}return i},this.getEContent=function(e){var t={},n=l(e,0,[0]),r=l(e,0,[1,0]);return t.type=ce.asn1.x509.OID.oid2name(de.hextooidstr(n)),t.content={hex:r},t},this.getSignerInfos=function(e){for(var t=[],n=c(e,0),r=0;r<n.length;r++){var i=a(e,n[r]),o=this.getSignerInfo(i);t.push(o)}return t},this.getSignerInfo=function(e){var t={},i=c(e,0),o=r.getInt(e,i[0],-1);-1!=o&&(t.version=o);var l=a(e,i[1]),h=this.getIssuerAndSerialNumber(l);t.id=h;var p=a(e,i[2]),d=n.getAlgorithmIdentifierName(p);t.hashalg=d;var f=s(e,0,["[0]"]);if(null!=f){var m=this.getAttributeList(f);t.sattrs=m}var g=s(e,0,[3]),y=n.getAlgorithmIdentifierName(g);t.sigalg=y;var v=u(e,0,[4]);t.sighex=v;var b=s(e,0,["[1]"]);if(null!=b){var k=this.getAttributeList(b);t.uattrs=k}return t},this.getSignerIdentifier=function(e){if("30"==e.substr(0,2))return this.getIssuerAndSerialNumber(e);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(e){var t={type:"isssn"},r=c(e,0),o=a(e,r[0]);t.issuer=n.getX500Name(o);var s=i(e,r[1]);return t.serial={hex:s},t},this.getAttributeList=function(e){for(var t=[],n=c(e,0),r=0;r<n.length;r++){var i=a(e,n[r]),o=this.getAttribute(i);t.push(o)}return{array:t}},this.getAttribute=function(e){var t={},n=c(e,0),i=r.getOID(e,n[0]),o=ce.asn1.x509.OID.oid2name(i);t.attr=o;var s=a(e,n[1]),l=c(s,0);if(1==l.length)t.valhex=a(s,l[0]);else{for(var u=[],h=0;h<l.length;h++)u.push(a(s,l[h]));t.valhex=u}return"contentType"==o?this.setContentType(t):"messageDigest"==o?this.setMessageDigest(t):"signingTime"==o?this.setSigningTime(t):"signingCertificate"==o?this.setSigningCertificate(t):"signingCertificateV2"==o?this.setSigningCertificateV2(t):"signaturePolicyIdentifier"==o&&this.setSignaturePolicyIdentifier(t),t},this.setContentType=function(e){var t=r.getOIDName(e.valhex,0,null);null!=t&&(e.type=t,delete e.valhex)},this.setSigningTime=function(e){var t=we(i(e.valhex,0));e.str=t,delete e.valhex},this.setMessageDigest=function(e){var t=i(e.valhex,0);e.hex=t,delete e.valhex},this.setSigningCertificate=function(e){var t=c(e.valhex,0);if(t.length>0){for(var n=a(e.valhex,t[0]),r=c(n,0),i=[],o=0;o<r.length;o++){var s=a(n,r[o]),l=this.getESSCertID(s);i.push(l)}e.array=i}if(t.length>1){var u=a(e.valhex,t[1]);e.polhex=u}delete e.valhex},this.setSignaturePolicyIdentifier=function(e){var n=c(e.valhex,0);if(n.length>0){var o=r.getOID(e.valhex,n[0]);e.oid=o}if(n.length>1){var s=new t,l=c(e.valhex,n[1]),u=a(e.valhex,l[0]),h=s.getAlgorithmIdentifierName(u);e.alg=h;var p=i(e.valhex,l[1]);e.hash=p}delete e.valhex},this.setSigningCertificateV2=function(e){var t=c(e.valhex,0);if(t.length>0){for(var n=a(e.valhex,t[0]),r=c(n,0),i=[],o=0;o<r.length;o++){var s=a(n,r[o]),l=this.getESSCertIDv2(s);i.push(l)}e.array=i}if(t.length>1){var u=a(e.valhex,t[1]);e.polhex=u}delete e.valhex},this.getESSCertID=function(e){var t={},n=c(e,0);if(n.length>0){var r=i(e,n[0]);t.hash=r}if(n.length>1){var o=a(e,n[1]),s=this.getIssuerSerial(o);null!=s.serial&&(t.serial=s.serial),null!=s.issuer&&(t.issuer=s.issuer)}return t},this.getESSCertIDv2=function(t){var r={},o=c(t,0);if(o.length<1||3<o.length)throw new e("wrong number of elements");var s=0;if("30"==t.substr(o[0],2)){var l=a(t,o[0]);r.alg=n.getAlgorithmIdentifierName(l),s++}else r.alg="sha256";var u=i(t,o[s]);if(r.hash=u,o.length>s+1){var h=a(t,o[s+1]),p=this.getIssuerSerial(h);r.issuer=p.issuer,r.serial=p.serial}return r},this.getIssuerSerial=function(e){var t={},r=c(e,0),o=a(e,r[0]),s=n.getGeneralNames(o)[0].dn;t.issuer=s;var l=i(e,r[1]);return t.serial={hex:l},t},this.getCertificateSet=function(e){for(var t=c(e,0),n=[],r=0;r<t.length;r++){var i=a(e,t[r]);if("30"==i.substr(0,2)){var o=_e(i,"CERTIFICATE");n.push(o)}}return{array:n,sortflag:!1}}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.tsp&&ce.asn1.tsp||(ce.asn1.tsp={}),ce.asn1.tsp.TimeStampToken=function(e){var t=ce.asn1.tsp;t.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var e=new t.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=e.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.TimeStampToken,ce.asn1.cms.SignedData),ce.asn1.tsp.TSTInfo=function(e){Error;var t=ce.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,a=t.DERGeneralizedTime,o=t.DERObjectIdentifier,s=t.DERTaggedObject,l=t.tsp,u=l.MessageImprint,c=l.Accuracy,h=(t.x509.X500Name,t.x509.GeneralName);if(l.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(e.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(e.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(e.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new u(e.messageImprint)),void 0!==e.serial&&(this.dSerial=new r(e.serial)),void 0!==e.genTime&&(this.dGenTime=new a(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new c(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new i),void 0!==e.nonce&&(this.dNonce=new r(e.nonce)),void 0!==e.tsa&&(this.dTsa=new s({tag:"a0",explicit:!0,obj:new h({dn:e.tsa})}))}},Ke(ce.asn1.tsp.TSTInfo,ce.asn1.ASN1Object),ce.asn1.tsp.Accuracy=function(e){var t=ce.asn1,n=t.ASN1Util.newObject;t.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return null!=e.seconds&&"number"==typeof e.seconds&&t.push({int:e.seconds}),null!=e.millis&&"number"==typeof e.millis&&t.push({tag:{tagi:"80",obj:{int:e.millis}}}),null!=e.micros&&"number"==typeof e.micros&&t.push({tag:{tagi:"81",obj:{int:e.micros}}}),n({seq:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.Accuracy,ce.asn1.ASN1Object),ce.asn1.tsp.MessageImprint=function(e){var t=ce.asn1,n=t.DERSequence,r=t.DEROctetString,i=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=new i({name:e.alg}),a=new r({hex:e.hash});return new n({array:[t,a]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.tsp.MessageImprint,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampReq=function(e){var t=ce.asn1,n=t.DERSequence,r=t.DERInteger,i=t.DERBoolean,a=(t.ASN1Object,t.DERObjectIdentifier),o=t.tsp,s=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r({int:1})),e.messageImprint instanceof ce.asn1.ASN1Object?t.push(e.messageImprint):t.push(new s(e.messageImprint)),null!=e.policy&&t.push(new a(e.policy)),null!=e.nonce&&t.push(new r(e.nonce)),1==e.certreq&&t.push(new i),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.TimeStampReq,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampResp=function(e){var t=ce.asn1,n=t.DERSequence,r=(t.ASN1Object,t.tsp),i=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,a=[];if(null!=e.econtent||null!=e.tst)if(null!=e.statusinfo?a.push(new i(e.statusinfo)):a.push(new i("granted")),null!=e.econtent)a.push(new r.TimeStampToken(e).getContentInfo());else{if(!(e.tst instanceof t.ASN1Object))throw new Error("improper member tst value");a.push(e.tst)}else{if(null==e.statusinfo)throw new Error("parameter for token nor statusinfo not specified");a.push(new i(e.statusinfo))}return new n({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.TimeStampResp,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatusInfo=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.tsp,a=i.PKIStatus,o=i.PKIFreeText,s=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if("string"==typeof e)n.push(new a(e));else{if(null==e.status)throw new t("property 'status' unspecified");n.push(new a(e.status)),null!=e.statusstr&&n.push(new o(e.statusstr)),null!=e.failinfo&&n.push(new s(e.failinfo))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIStatusInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus=function(e){var t=Error,n=ce.asn1,r=n.DERInteger;n.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var e,n=this.params;if("string"==typeof n)try{e=i[n]}catch(e){throw new t("undefined name: "+n)}else{if("number"!=typeof n)throw new t("unsupported params");e=n}return new r({int:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIStatus,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFreeText=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(!e instanceof Array)throw new t("wrong params: not array");for(var n=[],a=0;a<e.length;a++)n.push(new i({str:e[a]}));return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIFreeText,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo=function(e){var t=Error,n=ce.asn1,r=n.DERBitString,i=n.tsp.PKIFailureInfo,a={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var e=this.params,n=0;if("number"==typeof e&&0<=e&&e<=25){for(var r=(n|=1<<e).toString(2),i="",o=r.length-1;o>=0;o--)i+=r[o];return i}if("string"==typeof e&&null!=a[e])return Ve([e],a);if("object"==typeof e&&null!=e.length)return Ve(e,a);throw new t("wrong params")},this.tohex=function(){this.params;var e=this.getBinValue();return new r({bin:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.tsp.PKIFailureInfo,ce.asn1.ASN1Object),ce.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ce.asn1.tsp.SimpleTSAAdapter=function(e){var t=ce,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,t){var i=r(e,t);this.params.econtent.content.messageImprint={alg:t,hash:i},this.params.econtent.content.serial={int:this.serial++};var a=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:a},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.tsp.SimpleTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.FixedTSAAdapter=function(e){var t=ce,n=t.asn1.tsp,r=t.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,t){var i=r(e,t);return this.params.econtent.content.messageImprint={alg:t,hash:i},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},Ke(ce.asn1.tsp.FixedTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.TSPUtil=new function(){},ce.asn1.tsp.TSPUtil.newTimeStampToken=function(e){return new ce.asn1.tsp.TimeStampToken(e)},ce.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){return(new ce.asn1.tsp.TSPParser).getTimeStampReq(e)},ce.asn1.tsp.TSPUtil.parseMessageImprint=function(e){return(new ce.asn1.tsp.TSPParser).getMessageImprint(e)},ce.asn1.tsp.TSPParser=function(){Error;var e=new Je,t=de,n=t.getV,r=t.getTLV,i=t.getIdxbyList,a=(t.getTLVbyListEx,t.getChildIdx),o=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],s={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(e){var t=a(e,0);if(1==t.length)return this.getPKIStatusInfo(r(e,t[0]));if(t.length>1){var n=this.getPKIStatusInfo(r(e,t[0])),i=r(e,t[1]),o=this.getToken(i);return o.statusinfo=n,o}},this.getToken=function(e){var t=(new ce.asn1.cms.CMSParser).getCMSSignedData(e);return this.setTSTInfo(t),t},this.setTSTInfo=function(e){var t=e.econtent;if("tstinfo"==t.type){var n=t.content.hex,r=this.getTSTInfo(n);t.content=r}},this.getTSTInfo=function(t){var i={},o=a(t,0),s=n(t,o[1]);i.policy=ze(s);var l=r(t,o[2]);i.messageImprint=this.getMessageImprint(l);var u=n(t,o[3]);i.serial={hex:u};var c=n(t,o[4]);i.genTime={str:we(c)};var h=0;if(o.length>5&&"30"==t.substr(o[5],2)){var p=r(t,o[5]);i.accuracy=this.getAccuracy(p),h++}if(o.length>5+h&&"01"==t.substr(o[5+h],2)&&("ff"==n(t,o[5+h])&&(i.ordering=!0),h++),o.length>5+h&&"02"==t.substr(o[5+h],2)){var d=n(t,o[5+h]);i.nonce={hex:d},h++}if(o.length>5+h&&"a0"==t.substr(o[5+h],2)){var f=r(t,o[5+h]);f="30"+f.substr(2),pGeneralNames=e.getGeneralNames(f);var m=pGeneralNames[0].dn;i.tsa=m,h++}if(o.length>5+h&&"a1"==t.substr(o[5+h],2)){var g=r(t,o[5+h]);g="30"+g.substr(2);var y=e.getExtParamArray(g);i.ext=y,h++}return i},this.getAccuracy=function(e){for(var t={},r=a(e,0),i=0;i<r.length;i++){var o=e.substr(r[i],2),s=n(e,r[i]),l=parseInt(s,16);"02"==o?t.seconds=l:"80"==o?t.millis=l:"81"==o&&(t.micros=l)}return t},this.getMessageImprint=function(e){if("30"!=e.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var r={},o=(a(e,0),i(e,0,[0,0])),s=n(e,o),l=t.hextooidstr(s),u=ce.asn1.x509.OID.oid2name(l);if(""==u)throw new Error("hashAlg name undefined: "+l);var c=u,h=i(e,0,[1]);return r.alg=c,r.hash=n(e,h),r},this.getPKIStatusInfo=function(e){var t={},i=a(e,0),s=0;try{var l=n(e,i[0]),u=parseInt(l,16);t.status=o[u]}catch(e){}if(i.length>1&&"30"==e.substr(i[1],2)){var c=r(e,i[1]);t.statusstr=this.getPKIFreeText(c),s++}if(i.length>s&&"03"==e.substr(i[1+s],2)){var h=r(e,i[1+s]);t.failinfo=this.getPKIFailureInfo(h)}return t},this.getPKIFreeText=function(e){for(var n=[],r=a(e,0),i=0;i<r.length;i++)n.push(t.getString(e,r[i]));return n},this.getPKIFailureInfo=function(e){var n=t.getInt(e,0);return null!=s[n]?s[n]:n},this.getTimeStampReq=function(e){var i={certreq:!1},o=a(e,0);if(o.length<2)throw new Error("TimeStampReq must have at least 2 items");var s=r(e,o[1]);i.messageImprint=ce.asn1.tsp.TSPUtil.parseMessageImprint(s);for(var l=2;l<o.length;l++){var u=o[l],c=e.substr(u,2);if("06"==c){var h=n(e,u);i.policy=t.hextooidstr(h)}"02"==c&&(i.nonce=n(e,u)),"01"==c&&(i.certreq=!0)}return i}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cades&&ce.asn1.cades||(ce.asn1.cades={}),ce.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ce.asn1.cades,n=t.SignaturePolicyId;t.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new n(this.params)]},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.SignaturePolicyIdentifier,ce.asn1.cms.Attribute),ce.asn1.cades.SignaturePolicyId=function(e){var t=ce.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=(t.x509.AlgorithmIdentifier,t.cades),a=i.SignaturePolicyId,o=i.OtherHashAlgAndValue;a.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,t=[];return t.push(new r(e.oid)),t.push(new o(e)),new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.SignaturePolicyId,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashAlgAndValue=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DEROctetString,a=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if(null==e.alg)throw new t("property 'alg' not specified");if(null==e.hash&&null==e.cert)throw new t("property 'hash' nor 'cert' not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var o=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(o=De(e.cert)),n=ce.crypto.Util.hashHex(o,e.alg)}var s=[];return s.push(new a({name:e.alg})),s.push(new i({hex:n})),new r({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherHashAlgAndValue,ce.asn1.ASN1Object),ce.asn1.cades.OtherHashValue=function(e){ce.asn1.cades.OtherHashValue.superclass.constructor.call(this);var t=Error,n=ce,r=(n.lang.String.isHex,n.asn1.DEROctetString);n.crypto.Util.hashHex,this.params=null,this.tohex=function(){var e=this.params;if(null==e.hash&&null==e.cert)throw new t("hash or cert not specified");var n=null;if(null!=e.hash)n=e.hash;else if(null!=e.cert){if("string"!=typeof e.cert)throw new t("cert not string");var i=e.cert;-1!=e.cert.indexOf("-----BEGIN")&&(i=De(e.cert)),n=ce.crypto.Util.hashHex(i,"sha1")}return new r({hex:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherHashValue,ce.asn1.ASN1Object),ce.asn1.cades.SignatureTimeStamp=function(e){var t=Error,n=ce,r=n.lang.String.isHex,i=n.asn1,a=i.ASN1Object;i.x509,i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var e=this.params;if(null!=e.tst){if(r(e.tst))return(n=new a).hTLV=e.tst,[n];if(e.tst instanceof a)return[e.tst];throw new t("params.tst has wrong value")}if(null!=e.res){var n,i=e.res;if(i instanceof a&&(i=i.tohex()),"string"!=typeof i||!r(i))throw new t("params.res has wrong value");return de.getTLVbyList(i,0,[1]),(n=new a).hTLV=e.tst,[n]}},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.SignatureTimeStamp,ce.asn1.cms.Attribute),ce.asn1.cades.CompleteCertificateRefs=function(e){var t=Error,n=ce,r=n.asn1,i=r.DERSequence,a=r.cades,o=a.OtherCertID,s=n.lang.String.isHex;a.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var e=this.params,n=[],r=0;r<e.array.length;r++){var a=e.array[r];if("string"==typeof a)if(-1!=a.indexOf("-----BEGIN"))a={cert:a};else{if(!s(a))throw new t("unsupported value: "+a);a={hash:a}}null!=e.alg&&null==a.alg&&(a.alg=e.alg),null!=e.hasis&&null==a.hasis&&(a.hasis=e.hasis);var l=new o(a);n.push(l)}return[new i({array:n})]},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.CompleteCertificateRefs,ce.asn1.cms.Attribute),ce.asn1.cades.OtherCertID=function(e){var t=ce.asn1,n=t.DERSequence,r=t.cms.IssuerSerial,i=t.cades,a=i.OtherHashValue,o=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=e,this.tohex=function(){var e=this.params;"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:_isHex(e)&&(e={hash:e}));var t,i=[];if(t=null!=e.alg?new o(e):new a(e),i.push(t),null!=e.cert&&1==e.hasis||null!=e.issuer&&null!=e.serial){var s=new r(e);i.push(s)}return new n({array:i}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherCertID,ce.asn1.ASN1Object),ce.asn1.cades.OtherHash=function(e){Error;var t=ce,n=t.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,a=r.OtherHashValue,o=(t.crypto.Util.hashHex,t.lang.String.isHex);r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;return"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?e={cert:e}:o(e)&&(e={hash:e})),(null!=e.alg?new i(e):new a(e)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.cades.OtherHash,ce.asn1.ASN1Object),ce.asn1.cades.CAdESUtil=new function(){},ce.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){return(new ce.asn1.cms.CMSParser).getCMSSignedData(e)},ce.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var r=de,i=r.getChildIdx,a=r.getTLV,o=r.getV,s=ce.asn1,l=s.ASN1Object,u=s.cms,c=u.AttributeList,h=u.SignerInfo,p={},d=i(e,t);if(6!=d.length)throw"not supported items for SignerInfo (!=6)";var f=d.shift();p.version=a(e,f);var m=d.shift();p.si=a(e,m);var g=d.shift();p.digalg=a(e,g);var y=d.shift();p.sattrs=a(e,y);var v=d.shift();p.sigalg=a(e,v);var b=d.shift();p.sig=a(e,b),p.sigval=o(e,b);var k=null;return p.obj=new h,(k=new l).hTLV=p.version,p.obj.dCMSVersion=k,(k=new l).hTLV=p.si,p.obj.dSignerIdentifier=k,(k=new l).hTLV=p.digalg,p.obj.dDigestAlgorithm=k,(k=new l).hTLV=p.sattrs,p.obj.dSignedAttrs=k,(k=new l).hTLV=p.sigalg,p.obj.dSigAlg=k,(k=new l).hTLV=p.sig,p.obj.dSig=k,p.obj.dUnsignedAttrs=new c,p},void 0!==ce.asn1.csr&&ce.asn1.csr||(ce.asn1.csr={}),ce.asn1.csr.CertificationRequest=function(e){var t=ce.asn1,n=t.DERBitString,r=t.DERSequence,i=t.csr,a=(t.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(e){this.params=e},this.sign=function(){var e=new a(this.params).tohex(),t=new ce.crypto.Signature({alg:this.params.sigalg});t.init(this.params.sbjprvkey),t.updateHex(e);var n=t.sign();this.params.sighex=n},this.getPEM=function(){return _e(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var e=this.params,t=new ce.asn1.csr.CertificationRequestInfo(this.params),i=new ce.asn1.x509.AlgorithmIdentifier({name:e.sigalg});if(null==e.sighex&&null!=e.sbjprvkey&&this.sign(),null==e.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var a=new n({hex:"00"+e.sighex});return new r({array:[t,i,a]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.csr.CertificationRequest,ce.asn1.ASN1Object),ce.asn1.csr.CertificationRequestInfo=function(e){var t=ce.asn1,n=(t.DERBitString,t.DERSequence),r=t.DERInteger,i=t.DERUTF8String,a=t.DERTaggedObject,o=t.ASN1Util.newObject,s=t.csr,l=t.x509,u=l.X500Name,c=l.Extensions,h=l.SubjectPublicKeyInfo;s.AttributeList,s.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(e){null!=e&&(this.params=e)},this.tohex=function(){var e=this.params,t=[];if(t.push(new r({int:0})),t.push(new u(e.subject)),t.push(new h(Ye.getKey(e.sbjpubkey))),null!=e.attrs){var s=function(e){for(var t=Error,n=ce.asn1.x509.Extensions,r=[],i=0;i<e.length;i++){var a=e[i],o=a.attr;if("extensionRequest"==o){var s={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new n(a.ext)]}]};r.push(s)}else if("unstructuredName"==o)s={seq:[{oid:"1.2.840.113549.1.9.2"},{set:a.names}]},r.push(s);else{if("challengePassword"!=o)throw new t("unknown CSR attribute");s={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:a.password}]}]},r.push(s)}}return{set:r}}(e.attrs),l=o({tag:{tage:"a0",obj:s}});t.push(l)}else if(null!=e.extreq){var p=new c(e.extreq);l=o({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[p]}]}}}),t.push(l)}else t.push(new a({tag:"a0",explicit:!1,obj:new i({str:""})}));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=e&&this.setByParam(e)},Ke(ce.asn1.csr.CertificationRequestInfo,ce.asn1.ASN1Object),ce.asn1.csr.AttributeList=function(e){},Ke(ce.asn1.csr.AttributeList,ce.asn1.ASN1Object),ce.asn1.csr.CSRUtil=new function(){},ce.asn1.csr.CSRUtil.newCSRPEM=function(e){return new ce.asn1.csr.CertificationRequest(e).getPEM()},ce.asn1.csr.CSRUtil.getParam=function(e,t){var n=de,r=n.getV,i=n.getIdxbyList,a=n.getTLVbyList,o=n.getTLVbyListEx,s=n.getVbyListEx,l={};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var u=De(e,"CERTIFICATE REQUEST");t&&(l.tbs=a(u,0,[0]));try{var c=o(u,0,[0,1]);if("3000"==c)l.subject={};else{var h=new Je;l.subject=h.getX500Name(c)}}catch(e){}var p=o(u,0,[0,2]),d=Ye.getKey(p,null,"pkcs8pub");l.sbjpubkey=Ye.getPEM(d,"PKCS8PUB");var f=function(e){var t=i(e,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=r(e,t)?null:a(e,0,[0,3,0,1,0],"30")}(u);h=new Je,null!=f&&(l.extreq=h.getExtParamArray(f));try{var m=o(u,0,[1],"30");h=new Je,l.sigalg=h.getAlgorithmIdentifierName(m)}catch(e){}try{var g=s(u,0,[2]);l.sighex=g}catch(e){}return l},ce.asn1.csr.CSRUtil.verifySignature=function(e){try{var t=null;if("string"==typeof e&&-1!=e.indexOf("-----BEGIN CERTIFICATE REQUEST")?t=ce.asn1.csr.CSRUtil.getParam(e,!0):"object"==typeof e&&null!=e.sbjpubkey&&null!=e.sigalg&&null!=e.sighex&&null!=e.tbs&&(t=e),null==t)return!1;var n=new ce.crypto.Signature({alg:t.sigalg});return n.init(t.sbjpubkey),n.updateHex(t.tbs),n.verify(t.sighex)}catch(e){return alert(e),!1}},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.ocsp&&ce.asn1.ocsp||(ce.asn1.ocsp={}),ce.asn1.ocsp.DEFAULT_HASH="sha1",ce.asn1.ocsp.OCSPResponse=function(e){ce.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),ce.asn1.DEREnumerated;var t=ce.asn1.ASN1Util.newObject,n=ce.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var e=this.params.resstatus;return"number"==typeof e?e:"string"!=typeof e?-1:r.indexOf(e)},this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params,r=this._getStatusCode();if(-1==r)throw new Error("responseStatus not supported: "+e.resstatus);if(0!=r)return t({seq:[{enum:{int:r}}]}).tohex();var i=new n(e);return t({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.OCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseBytes=function(e){ce.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.DERObjectIdentifier,i=t.DEROctetString,a=t.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(e){this.params=e},this.tohex=function(){var e=this.params;if("ocspBasic"!=e.restype)throw new Error("not supported responseType: "+e.restype);var t=new a(e),o=[];return o.push(new r({name:"ocspBasic"})),o.push(new i({hex:t.tohex()})),new n({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.ResponseBytes,ce.asn1.ASN1Object),ce.asn1.ocsp.BasicOCSPResponse=function(e){ce.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var t=Error,n=ce.asn1,r=n.ASN1Object,i=n.DERSequence,a=(n.DERGeneralizedTime,n.DERTaggedObject),o=n.DERBitString,s=(n.x509.Extensions,n.x509.AlgorithmIdentifier),l=n.ocsp;l.ResponderID,_SingleResponseList=l.SingleResponseList,_ResponseData=l.ResponseData,this.params=null,this.setByParam=function(e){this.params=e},this.sign=function(){var e=this.params,t=e.tbsresp.tohex(),n=new ce.crypto.Signature({alg:e.sigalg});n.init(e.reskey),n.updateHex(t),e.sighex=n.sign()},this.tohex=function(){var e=this.params;null==e.tbsresp&&(e.tbsresp=new _ResponseData(e)),null==e.sighex&&null!=e.reskey&&this.sign();var n=[];if(n.push(e.tbsresp),n.push(new s({name:e.sigalg})),n.push(new o({hex:"00"+e.sighex})),null!=e.certs&&null!=e.certs.length){for(var l=[],u=0;u<e.certs.length;u++){var c=e.certs[u],h=null;if(de.isASN1HEX(c))h=c;else{if(!c.match(/-----BEGIN/))throw new t("certs["+u+"] not hex or PEM");h=De(c)}l.push(new r({tlv:h}))}var p=new i({array:l});n.push(new a({tag:"a0",explicit:!0,obj:p}))}return new i({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.BasicOCSPResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponseData=function(e){ce.asn1.ocsp.ResponseData.superclass.constructor.call(this);var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,a=n.DERTaggedObject,o=n.x509.Extensions,s=n.ocsp,l=s.ResponderID;_SingleResponseList=s.SingleResponseList,this.params=null,this.tohex=function(){var e=this.params;null!=e.respid&&new t("respid not specified"),null!=e.prodat&&new t("prodat not specified"),null!=e.array&&new t("array not specified");var n=[];if(n.push(new l(e.respid)),n.push(new i(e.prodat)),n.push(new _SingleResponseList(e.array)),null!=e.ext){var s=new o(e.ext);n.push(new a({tag:"a1",explicit:!0,obj:s}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.ResponseData,ce.asn1.ASN1Object),ce.asn1.ocsp.ResponderID=function(e){ce.asn1.ocsp.ResponderID.superclass.constructor.call(this);var t=ce,n=t.asn1,r=n.ASN1Util.newObject,i=n.x509.X500Name,a=t.lang.String.isHex,o=Error;this.params=null,this.tohex=function(){var e=this.params;if(null!=e.key){var t,n=null;if("string"==typeof e.key?(a(e.key)&&(n=e.key),e.key.match(/-----BEGIN CERTIFICATE/)&&null!=(t=new Je(e.key).getExtSubjectKeyIdentifier())&&(n=t.kid.hex)):e.key instanceof Je&&null!=(t=e.key.getExtSubjectKeyIdentifier())&&(n=t.kid.hex),null==n)throw new o("wrong key member value");return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:n}}}}).tohex()}if(null!=e.name){var s=null;if("string"==typeof e.name&&e.name.match(/-----BEGIN CERTIFICATE/)?s=new Je(e.name).getSubject():e.name instanceof Je?s=e.name.getSubject():"object"!=typeof e.name||null==e.name.array&&null==e.name.str||(s=e.name),null==s)throw new o("wrong name member value");return r({tag:{tag:"a1",explicit:!0,obj:new i(s)}}).tohex()}throw new o("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.ResponderID,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponseList=function(e){ce.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,r=t.ocsp.SingleResponse;this.params=null,this.tohex=function(){var e=this.params;if("object"!=typeof e||null==e.length)throw new Error("params not specified properly");for(var t=[],i=0;i<e.length;i++)t.push(new r(e[i]));return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.SingleResponseList,ce.asn1.ASN1Object),ce.asn1.ocsp.SingleResponse=function(e){var t=Error,n=ce.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,a=n.DERTaggedObject,o=n.ocsp,s=o.CertID,l=o.CertStatus,u=n.x509.Extensions;o.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params,n=[];if(null==e.certid)throw new t("certid unspecified");if(null==e.status)throw new t("status unspecified");if(null==e.thisupdate)throw new t("thisupdate unspecified");if(n.push(new s(e.certid)),n.push(new l(e.status)),n.push(new i(e.thisupdate)),null!=e.nextupdate){var o=new i(e.nextupdate);n.push(new a({tag:"a0",explicit:!0,obj:o}))}if(null!=e.ext){var c=new u(e.ext);n.push(new a({tag:"a1",explicit:!0,obj:c}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.SingleResponse,ce.asn1.ASN1Object),ce.asn1.ocsp.CertID=function(e){var t=ce,n=t.asn1,r=n.DEROctetString,i=n.DERInteger,a=n.DERSequence,o=n.x509.AlgorithmIdentifier,s=n.ocsp,l=(s.DEFAULT_HASH,t.crypto.Util.hashHex),u=Je,c=de.getVbyList;s.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(e,t,n,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issname:e,isskey:t,sbjsn:n}},this.setByCert=function(e,t,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issuerCert:e,subjectCert:t}},this.getParamByCerts=function(e,t,n){null==n&&(n=this.DEFAULT_HASH);var r=new u(e),i=new u(t),a=l(r.getSubjectHex(),n),o=r.getPublicKeyHex();return{alg:n,issname:a,isskey:l(c(o,0,[1],"03",!0),n),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var e,t,n,s,l=this.params;if(s=null==l.alg?this.DEFAULT_HASH:l.alg,null!=l.issuerCert&&null!=l.subjectCert){var u=this.getParamByCerts(l.issuerCert,l.subjectCert,s);e=u.issname,t=u.isskey,n=u.sbjsn}else{if(null==l.issname||null==l.isskey||null==l.sbjsn)throw new Error("required param members not defined");e=l.issname,t=l.isskey,n=l.sbjsn}var c=new o({name:s}),h=new r({hex:e}),p=new r({hex:t}),d=new i({hex:n}),f=new a({array:[c,h,p,d]});return this.hTLV=f.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.CertID,ce.asn1.ASN1Object),ce.asn1.ocsp.CertStatus=function(e){ce.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var e=this.params;if("good"==e.status)return"8000";if("unknown"==e.status)return"8200";if("revoked"==e.status){var t=[{gentime:{str:e.time}}];null!=e.reason&&t.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:e.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:t}};return ce.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(e){this.params=e},void 0!==e&&this.setByParam(e)},Ke(ce.asn1.ocsp.CertStatus,ce.asn1.ASN1Object),ce.asn1.ocsp.Request=function(e){var t=ce.asn1,n=t.DERSequence,r=t.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e){var i=new r.CertID(e);this.dReqCert=i}},Ke(ce.asn1.ocsp.Request,ce.asn1.ASN1Object),ce.asn1.ocsp.TBSRequest=function(e){var t=ce.asn1,n=t.DERSequence,r=t.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var i=new r.Request(e[0]);t.push(i)}this.dRequestList=t},this.tohex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new n({array:e});return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},Ke(ce.asn1.ocsp.TBSRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPRequest=function(e){var t=ce.asn1,n=t.DERSequence,r=t.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==e&&void 0!==e.reqList){var i=new r.TBSRequest(e);this.dTbsRequest=i}},Ke(ce.asn1.ocsp.OCSPRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPUtil={},ce.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var r=ce.asn1.ocsp;void 0===n&&(n=r.DEFAULT_HASH);var i={alg:n,issuerCert:e,subjectCert:t};return new r.OCSPRequest({reqList:[i]}).tohex()},ce.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=de,n=t.getVbyList,r=t.getVbyListEx,i=t.getIdxbyList,a=(t.getIdxbyListEx,t.getV),o={};try{var s=r(e,0,[0],"0a");o.responseStatus=parseInt(s,16)}catch(e){}if(0!==o.responseStatus)return o;try{var l=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(l,2)?o.certStatus="good":"a1"===e.substr(l,2)?(o.certStatus="revoked",o.revocationTime=we(n(e,l,[0]))):"82"===e.substr(l,2)&&(o.certStatus="unknown")}catch(e){}try{var u=i(e,0,[1,0,1,0,0,2,0,2]);o.thisUpdate=we(a(e,u))}catch(e){}try{var c=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(c,2)&&(o.nextUpdate=we(n(e,c,[0])))}catch(e){}return o},ce.asn1.ocsp.OCSPParser=function(){var e=Error,t=Je,n=new t,r=de,i=r.getV,a=r.getTLV,o=r.getIdxbyList,s=r.getVbyList,l=r.getTLVbyList,u=r.getVbyListEx,c=r.getTLVbyListEx,h=r.getChildIdx;this.getOCSPRequest=function(t){var n=h(t,0);if(1!=n.length&&2!=n.length)throw new e("wrong number elements: "+n.length);return this.getTBSRequest(a(t,n[0]))},this.getTBSRequest=function(e){var t={},r=c(e,0,[0],"30");t.array=this.getRequestList(r);var i=c(e,0,["[2]",0],"30");return null!=i&&(t.ext=n.getExtParamArray(i)),t},this.getRequestList=function(e){for(var t=[],n=h(e,0),r=0;r<n.length;r++)e=a(e,n[r]),t.push(this.getRequest(e));return t},this.getRequest=function(t){var r=h(t,0);if(1!=r.length&&2!=r.length)throw new e("wrong number elements: "+r.length);var i=this.getCertID(a(t,r[0]));if(2==r.length){var s=o(t,0,[1,0]);i.ext=n.getExtParamArray(a(t,s))}return i},this.getCertID=function(n){var r=h(n,0);if(4!=r.length)throw new e("wrong number elements: "+r.length);var o=new t,s={};return s.alg=o.getAlgorithmIdentifierName(a(n,r[0])),s.issname=i(n,r[1]),s.isskey=i(n,r[2]),s.sbjsn=i(n,r[3]),s},this.getOCSPResponse=function(e){var t,n=h(e,0),r=i(e,n[0]),a=parseInt(r);if(1==n.length)return{resstatus:a};var o=l(e,0,[1,0]);return(t=this.getResponseBytes(o)).resstatus=a,t},this.getResponseBytes=function(e){var t,n=h(e,0),r=l(e,0,[1,0]);t=this.getBasicOCSPResponse(r);var a=i(e,n[0]);return t.restype=ce.asn1.x509.OID.oid2name(ze(a)),t},this.getBasicOCSPResponse=function(e){var t,n=h(e,0);t=this.getResponseData(a(e,n[0]));var r=new Je;t.alg=r.getAlgorithmIdentifierName(a(e,n[1]));var o=i(e,n[2]);t.sighex=o.substr(2);var s=u(e,0,["[0]"]);if(null!=s){for(var l=h(s,0),c=[],p=0;p<l.length;p++){var d=a(s,l[p]);c.push(d)}t.certs=c}return t},this.getResponseData=function(e){var t=h(e,0),n=t.length,r={},o=0;"a0"==e.substr(t[0],2)&&o++,r.respid=this.getResponderID(a(e,t[o++]));var s=i(e,t[o++]);if(r.prodat=we(s),r.array=this.getSingleResponseList(a(e,t[o++])),"a1"==e.substr(t[n-1],2)){var u=l(e,t[n-1],[0]),c=new Je;r.ext=c.getExtParamArray(u)}return r},this.getResponderID=function(e){var t={};if("a2"==e.substr(0,2)){var n=s(e,0,[0]);t.key=n}if("a1"==e.substr(0,2)){var r=l(e,0,[0]),i=new Je;t.name=i.getX500Name(r)}return t},this.getSingleResponseList=function(e){for(var t=h(e,0),n=[],r=0;r<t.length;r++){var i=this.getSingleResponse(a(e,t[r]));n.push(i)}return n},this.getSingleResponse=function(e){var t=h(e,0),n={},r=this.getCertID(a(e,t[0]));n.certid=r;var o=this.getCertStatus(a(e,t[1]));if(n.status=o,"18"==e.substr(t[2],2)){var u=i(e,t[2]);n.thisupdate=we(u)}for(var c=3;c<t.length;c++){if("a0"==e.substr(t[c],2)){var p=s(e,t[c],[0],"18");n.nextupdate=we(p)}if("a1"==e.substr(t[c],2)){var d=new Je,f=l(e,0,[c,0]);n.ext=d.getExtParamArray(f)}}return n},this.getCertStatus=function(e){var t={};if("8000"==e)return{status:"good"};if("8200"==e)return{status:"unknown"};if("a1"==e.substr(0,2)){t.status="revoked";var n=we(s(e,0,[0]));t.time=n}return t}},void 0!==ce&&ce||(ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof Buffer?(he=function(e){return ge(Buffer.from(e,"utf8").toString("base64"))},pe=function(e){return Buffer.from(ye(e),"base64").toString("utf8")}):(he=function(e){return ve(Ce(je(e)))},pe=function(e){return decodeURIComponent(Re(be(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return He(e)},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Ue=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function Ve(e,t){for(var n=0,r=0;r<e.length;r++)n|=1<<t[e[r]];var i=n.toString(2),a="";for(r=i.length-1;r>=0;r--)a+=i[r];return a}function Ke(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var a="00"+r,o="",s=i-4-a.length,l=0;l<s;l+=2)o+="ff";return"0001"+o+a},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new te,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),fe(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new w(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],fe(n)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new w(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=m.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Ee(e)),void(this.pass=m.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=ke(e.utf8)),void 0!==e.rstr&&(t=Ee(e.rstr)),void 0!==e.b64&&(t=k(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=m.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?Ye.getKey(e):Ye.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Ye.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ie&&t.isPublic){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ie&&t.isPrivate){var r=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,n=w,r=se,i=ce.crypto.ECDSA,a=ce.crypto.ECParameterDB,o=i.getName,s=de,l=s.getVbyListEx,u=s.isASN1HEX,c=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),c).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keycharlen;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":"secp521r1"===e||"NIST P-521"===e||"P-521"===e?"P-521":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.keycharlen,r=("0000000000"+t.toString(16)).slice(-n);return this.setPrivateKeyHex(r),{ecprvhex:r,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var e=new n(this.prvKeyHex,16),t=this.ecparams.G.multiply(e),r=t.getX().toBigInteger(),i=t.getY().toBigInteger(),a=this.ecparams.keycharlen,o="04"+("0000000000"+r.toString(16)).slice(-a)+("0000000000"+i.toString(16)).slice(-a);return this.setPublicKeyHex(o),o},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),a=this.ecparams.n,o=new n(e.substring(0,this.ecparams.keycharlen),16);do{var s=this.getBigRandom(a),l=this.ecparams.G.multiply(s).getX().toBigInteger().mod(a)}while(l.compareTo(n.ZERO)<=0);var u=s.modInverse(a).multiply(o.add(r.multiply(l))).mod(a);return i.biRSSigToASN1Sig(l,u)},this.sign=function(e,t){var r=t,i=this.ecparams.n,a=n.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(i),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(s.compareTo(w.ZERO)<=0);var l=o.modInverse(i).multiply(a.add(r.multiply(s))).mod(i);return this.serializeSig(s,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,a){try{var o,s,l=i.parseSigHex(t);o=l.r,s=l.s;var u=r.decodeFromHex(this.ecparams.curve,a),c=new n(e.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(c,o,s,u)}catch(e){return!1}},this.verify=function(e,t,i){var a,o,s;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);a=l.r,o=l.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";a=t.r,o=t.s}if(i instanceof se)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=r.decodeFrom(this.ecparams.curve,i)}var u=n.fromByteArrayUnsigned(e);return this.verifyRaw(u,a,o,s)},this.verifyRaw=function(e,t,r,i){var a=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(a)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(a)>=0)return!1;var s=r.modInverse(a),l=e.multiply(s).mod(a),u=t.multiply(s).mod(a);return o.multiply(l).add(i.multiply(u)).getX().toBigInteger().mod(a).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===u(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=l(e,0,["[0]",0],"06"),n=l(e,0,[1],"04");try{r=l(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var n,r,i;try{l(e,0,[1,0],"06"),n=l(e,0,[1,1],"06"),r=l(e,0,[2,0,1],"04");try{i=l(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===u(e))throw new t("not ASN.1 hex string");var n,r;try{l(e,0,[0,0],"06"),n=l(e,0,[0,1],"06"),r=l(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===u(e))throw new t("not ASN.1 hex string");var r,i;try{r=l(e,0,[0,5,0,1],"06"),i=l(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new w(t.r,16),s:new w(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var a=i[0],o=i[1];if("02"!=e.substr(a,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(o,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,a),s:r(e,o)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(r.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==n.substr(0,2)&&(n=n.substr(2)),"00"==r.substr(0,2)&&(r=r.substr(2));var i=Math.max(n.length,r.length);return(n=("000000"+n).slice(-i))+("000000"+r).slice(-i)}if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(r.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+r},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new w(e,16),r=new w(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ce.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).tohex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":"2b81040023"===e?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(e)?"secp521r1":null},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new w(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,a,o,s,l,u,c,h,p,d,f){e[r]={};var m=n(a),g=n(o),y=n(s),v=n(l),b=n(u),k=new le(m,g,y),w=k.decodePointHex("04"+c+h);e[r].name=r,e[r].keylen=i,e[r].keycharlen=2*Math.ceil(i/8),e[r].curve=k,e[r].G=w,e[r].n=v,e[r].h=b,e[r].oid=d,e[r].info=f;for(var x=0;x<p.length;x++)t[p[x]]=r}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.DSA=function(){var e=de,t=(e.getVbyList,e.getVbyListEx),n=e.isASN1HEX,r=w;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,r,i){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(e,t,n,r,i){var a,o,s,l,u;a=new w(e,16),o=new w(t,16),s=new w(n,16),l="string"==typeof r&&r.length>1?new w(r,16):null,u=new w(i,16),this.setPrivate(a,o,s,l,u)},this.setPublic=function(e,t,n,r){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(e,t,n,r){var i,a,o,s;i=new w(e,16),a=new w(t,16),o=new w(n,16),s=new w(r,16),this.setPublic(i,a,o,s)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,r=this.g,i=(this.y,this.x),a=ce.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),n.subtract(w.ONE)),o=new w(e.substr(0,n.bitLength()/4),16),s=r.modPow(a,t).mod(n),l=a.modInverse(n).multiply(o.add(i.multiply(s))).mod(n);return ce.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:s}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,r=this.q,i=this.g,a=this.y,o=this.parseASN1Signature(t),s=o[0],l=o[1],u=new w(e.substr(0,r.bitLength()/4),16);if(w.ZERO.compareTo(s)>0||s.compareTo(r)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(l)>=0||l.compareTo(r)>0)throw"invalid DSA signature";var c=l.modInverse(r),h=u.multiply(c).mod(r),p=s.multiply(c).mod(r);return 0==i.modPow(h,n).multiply(a.modPow(p,n)).mod(n).mod(r).compareTo(s)},this.parseASN1Signature=function(e){try{return[new r(t(e,0,[0],"02"),16),new r(t(e,0,[1],"02"),16)]}catch(e){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(e){var r,i,a,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1],"02"),i=t(e,0,[2],"02"),a=t(e,0,[3],"02"),o=t(e,0,[4],"02"),s=t(e,0,[5],"02")}catch(e){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(r,i,a,o,s)},this.readPKCS8PrvKeyHex=function(e){var r,i,a,o;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[1,1,0],"02"),i=t(e,0,[1,1,1],"02"),a=t(e,0,[1,1,2],"02"),o=t(e,0,[2,0],"02")}catch(e){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(r,i,a,null,o)},this.readPKCS8PubKeyHex=function(e){var r,i,a,o;if(!1===n(e))throw new Error("not ASN.1 hex string");try{r=t(e,0,[0,1,0],"02"),i=t(e,0,[0,1,1],"02"),a=t(e,0,[0,1,2],"02"),o=t(e,0,[1,0],"02")}catch(e){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(r,i,a,o)},this.readCertPubKeyHex=function(e,r){var i,a,o,s;if(!1===n(e))throw new Error("not ASN.1 hex string");try{i=t(e,0,[0,5,0,1,0],"02"),a=t(e,0,[0,5,0,1,1],"02"),o=t(e,0,[0,5,0,1,2],"02"),s=t(e,0,[0,5,1,0],"02")}catch(e){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,a,o,s)}};var Ye=function(){var e=function(e,n,r){return t(m.AES,e,n,r)},t=function(e,t,n,r){var i=m.enc.Hex.parse(t),a=m.enc.Hex.parse(n),o=m.enc.Hex.parse(r),s={};s.key=a,s.iv=o,s.ciphertext=i;var l=e.decrypt(s,a,{iv:o});return m.enc.Hex.stringify(l)},n=function(e,t,n){return r(m.AES,e,t,n)},r=function(e,t,n,r){var i=m.enc.Hex.parse(t),a=m.enc.Hex.parse(n),o=m.enc.Hex.parse(r),s=e.encrypt(i,a,{iv:o}),l=m.enc.Hex.parse(s.toString());return m.enc.Base64.stringify(l)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(m.TripleDES,e,n,r)},eproc:function(e,t,n){return r(m.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(m.DES,e,n,r)},eproc:function(e,t,n){return r(m.DES,e,t,n)},keylen:8,ivlen:8}},a=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,a=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),a=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),a=1);var o=e.indexOf("-----END");if(-1!=i&&-1!=o){var s=e.substring(i+2*a,o-a);s=s.replace(/\s+/g,""),t.data=s}return t},o=function(e,t,n){for(var r=n.substring(0,16),a=m.enc.Hex.parse(r),o=m.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,l="",u=null;;){var c=m.algo.MD5.create();if(null!=u&&c.update(u),c.update(o),c.update(a),u=c.finalize(),(l+=m.enc.Hex.stringify(u)).length>=2*s)break}var h={};return h.keyhex=l.substr(0,2*i[e].keylen),h.ivhex=l.substr(2*i[e].keylen,2*i[e].ivlen),h},s=function(e,t,n,r){var a=m.enc.Base64.parse(e),o=m.enc.Hex.stringify(a);return(0,i[t].proc)(o,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return a(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return o(e,t,n)},decryptKeyB64:function(e,t,n,r){return s(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=a(e),r=(n.type,n.cipher),i=n.ivsalt,l=n.data,u=o(r,t,i).keyhex;return s(l,r,u,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,a){var s="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);if(void 0===a||null==a){var l=function(e){var t=m.lib.WordArray.random(e);return m.enc.Hex.stringify(t)}(i[r].ivlen);a=l.toUpperCase()}var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,o(r,n,a).keyhex,a);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+r+","+a+"\r\n",s+="\r\n",(s+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={},a=n(e,0);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+a.length);i.ciphertext=r(e,a[1]);var o=n(e,a[0]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+o.length);if("2a864886f70d01050d"!=r(e,o[0]))throw new Error("this only supports pkcs5PBES2");var s=n(e,o[1]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+s.length);var l=n(e,s[1]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length);if("2a864886f70d0307"!=r(e,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,l[1]);var u=n(e,s[0]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length);if("2a864886f70d01050c"!=r(e,u[0]))throw new Error("this only supports pkcs5PBKDF2");var c=n(e,u[1]);if(c.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length);i.pbkdf2Salt=r(e,c[0]);var h=r(e,c[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+h)}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=m.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=m.PBKDF2(t,n,{keySize:6,iterations:r});return m.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=De(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Ye.getPBKDF2KeyHexFromParam(r,t),a={};a.ciphertext=m.enc.Hex.parse(r.ciphertext);var o=m.enc.Hex.parse(i),s=m.enc.Hex.parse(r.encryptionSchemeIV),l=m.TripleDES.decrypt(a,o,{iv:s});return m.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var a=n(e,0);if(a.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(a[1],2))throw new Error("malformed PKCS8 private key(code:003)");var o=n(e,a[1]);if(2!=o.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(o[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,o[0]),"06"==e.substr(o[1],2)&&(i.algparam=r(e,o[1])),"04"!=e.substr(a[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,a[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=De(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ie;else if("2a8648ce380401"==n.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ie;else if("2a8648ce380401"===n)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var a=n(e,0);if(2!=a.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(a[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,a[0]),"02"!=e.substr(a[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,a[1]),i},parsePublicPKCS8Hex:function(e){var t=de,n=t.getChildIdx,r=t.getV,i={algparam:null},a=n(e,0);if(2!=a.length)throw new Error("outer DERSequence shall have 2 elements: "+a.length);var o=a[0];if("30"!=e.substr(o,2))throw new Error("malformed PKCS8 public key(code:001)");var s=n(e,o);if(2!=s.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(a[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,a[1]).substr(2),i}}}();function $e(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function We(e,t,n){for(var r="",i=0;r.length<t;)r+=Se(n(Ee(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Ge(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var n=ce.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function Je(e){var t,n=de,r=n.getChildIdx,i=n.getV,a=(n.dump,n.parse),o=n.getTLV,s=n.getVbyList,l=n.getVbyListEx,u=n.getTLVbyList,c=n.getTLVbyListEx,h=n.getIdxbyList,p=n.getIdxbyListEx,d=n.getVidx,f=n.getInt,m=n.oidname,g=n.hextooidstr,y=De,v=Error;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=u(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=u(e,0,[0]),n=f(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return l(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return m(l(e,0,[0],"06"))},this.getIssuer=function(e,t){return this.getX500Name(this.getIssuerHex(),e,t)},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(e,t){return this.getX500Name(this.getSubjectHex(),e,t)},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=s(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=s(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var e=this.getSPKI();return null==e?null:s(e,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return h(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Ye.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,a,o;if(void 0===e){if(o=this.hex,3!==this.version)return-1;t=h(o,0,[0,7,0],"30"),a=r(o,t)}else{o=De(e);var l=h(o,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(o,l))return void(this.aExtInfo=new Array);t=h(o,0,[0,3,0,1,0],"30"),a=r(o,t),this.hex=o}this.aExtInfo=new Array;for(var u=0;u<a.length;u++){var c={critical:!1},p=0;3===r(o,a[u]).length&&(c.critical=!0,p=1),c.oid=n.hextooidstr(s(o,a[u],[0],"06"));var f=h(o,a[u],[1+p]);c.vidx=d(o,f),this.aExtInfo.push(c)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ce.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getCriticalExtV=function(e,t,n){if(null!=t)return[t,n];var r=this.getExtInfo(e);return null==r?[null,null]:[o(this.hex,r.vidx),r.critical]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return r.cA=!0,r.pathLen=s,r}throw new Error("hExtV parse error: "+e)},this.getExtNameConstraints=function(e,t){var n=this.getCriticalExtV("nameConstraints",e,t);if(e=n[0],t=n[1],null!=e){var i={extname:"nameConstraints"};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){for(var l=[],u=r(e,a[s]),c=0;c<u.length;c++){var h=o(e,u[c]),p=this.getGeneralSubtree(h);l.push(p)}var d=e.substr(a[s],2);"a0"==d?i.permit=l:"a1"==d&&(i.exclude=l)}return i}},this.getGeneralSubtree=function(e){var t=r(e,0),n=t.length;if(n<1||2<n)throw new Error("wrong num elements");for(var a=this.getGeneralName(o(e,t[0])),s=1;s<n;s++){var l=e.substr(t[s],2),u=i(e,t[s]),c=parseInt(u,16);"80"==l&&(a.min=c),"81"==l&&(a.max=c)}return a},this.getExtKeyUsage=function(e,t){var n=this.getCriticalExtV("keyUsage",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r}},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(Je.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var a=i(e,0);return r.kid={hex:a},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++){var u=e.substr(s[l],2);if("80"===u&&(a.kid={hex:i(e,s[l])}),"a1"===u){var c=o(e,s[l]),h=this.getGeneralNames(c);a.issuer=h[0].dn}"82"===u&&(a.sn={hex:i(e,s[l])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=r(e,0),l=0;l<s.length;l++)a.array.push(m(i(e,s[l])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=o(this.hex,e.vidx);if(""===n)return t;for(var a=r(n,0),s=0;s<a.length;s++)t.push(m(i(n,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&n.push(a)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=Se(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:Fe(n)}:"a4"==t?{dn:this.getX500Name(n)}:"a0"==t?{other:this.getOtherName(e)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,l=o(this.hex,a.vidx),u=r(l,0),c=0;c<u.length;c++)n=l.substr(u[c],2),e=i(l,u[c]),"81"===n&&(t=we(e),s.push(["MAIL",t])),"82"===n&&(t=we(e),s.push(["DNS",t])),"84"===n&&(t=Je.hex2dn(e,0),s.push(["DN",t])),"86"===n&&(t=we(e),s.push(["URI",t])),"87"===n&&(t=Fe(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var l=o(e,a[s]);i.array.push(this.getDistributionPoint(l))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtCRLDistributionPoints();if(null==e)return e;for(var t=e.array,n=[],r=0;r<t.length;r++)try{null!=t[r].dpname.full[0].uri&&n.push(t[r].dpname.full[0].uri)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var a=s(this.hex,n[i],[0],"06"),o=s(this.hex,n[i],[1],"86");"2b06010505073001"===a&&t.ocsp.push(we(o)),"2b06010505073002"===a&&t.caissuer.push(we(o))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var a=r(e,0),u=0;u<a.length;u++){var c=l(e,a[u],[0],"06"),h=we(s(e,a[u],[1],"86"));if("2b06010505073001"==c)i.array.push({ocsp:h});else{if("2b06010505073002"!=c)throw new Error("unknown method: "+c);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var l=o(e,a[s]),u=this.getPolicyInformation(l);i.array.push(u)}return i},this.getPolicyInformation=function(e){var t={},n=s(e,0,[0],"06");t.policyoid=m(n);var i=p(e,0,[1],"30");if(-1!=i){t.array=[];for(var a=r(e,i),l=0;l<a.length;l++){var u=o(e,a[l]),c=this.getPolicyQualifierInfo(u);t.array.push(c)}}return t},this.getOtherName=function(e){var t={},n=r(e,0),i=s(e,n[0],[],"06"),o=s(e,n[1],[]);return t.oid=m(i),t.value=a(o),t},this.getPolicyQualifierInfo=function(e){var t={},n=s(e,0,[0],"06");if("2b06010505070201"===n){var r=l(e,0,[1],"16");t.cps=Se(r)}else if("2b06010505070202"===n){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=Se(i(e,0)),t},this.getExtPolicyMappings=function(e,t){var n=this.getCriticalExtV("policyMappings",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyMappings"};t&&(r.critical=!0);try{for(var i=a(e).seq,o=[],s=0;s<i.length;s++){var l=i[s].seq;o.push([l[0].oid,l[1].oid])}r.array=o}catch(e){throw new v("malformed policyMappings")}return r}},this.getExtPolicyConstraints=function(e,t){var n=this.getCriticalExtV("policyConstraints",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"policyConstraints"};t&&(r.critical=!0);var i=a(e);try{for(var o=i.seq,s=0;s<o.length;s++){var l=o[s].tag;0==l.explicit&&("80"==l.tag&&(r.reqexp=parseInt(l.hex,16)),"81"==l.tag&&(r.inhibit=parseInt(l.hex,16)))}}catch(e){return new v("malformed policyConstraints value")}return r}},this.getExtInhibitAnyPolicy=function(e,t){var n=this.getCriticalExtV("inhibitAnyPolicy",e,t);if(e=n[0],t=n[1],null!=e){var r={extname:"inhibitAnyPolicy"};t&&(r.critical=!0);var i=f(e,0);return-1==i?new v("wrong value"):(r.skip=i,r)}},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new v("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=r(e,0);if(a.length>1){var s=o(e,a[1]),l=this.getGeneralName(s);null!=l.uri&&(i.uri=l.uri)}if(a.length>2){var u=o(e,a[2]);"0101ff"==u&&(i.reqauth=!0),"010100"==u&&(i.reqauth=!1)}return i};var b=function(e){var t={};try{var n=e.seq[0].oid,r=ce.asn1.x509.OID.name2oid(n);t.type=ce.asn1.x509.OID.oid2atype(r);var i=e.seq[1];if(null!=i.utf8str)t.ds="utf8",t.value=i.utf8str.str;else if(null!=i.numstr)t.ds="num",t.value=i.numstr.str;else if(null!=i.telstr)t.ds="tel",t.value=i.telstr.str;else if(null!=i.prnstr)t.ds="prn",t.value=i.prnstr.str;else if(null!=i.ia5str)t.ds="ia5",t.value=i.ia5str.str;else if(null!=i.visstr)t.ds="vis",t.value=i.visstr.str;else{if(null==i.bmpstr)throw"error";t.ds="bmp",t.value=i.bmpstr.str}return t}catch(e){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},k=function(e){try{return e.set.map((function(e){return b(e)}))}catch(e){throw new Error("improper ASN.1 parsed RDN: "+e)}};this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(i[a]);for(r=0;r<n.length;r++){var o=n[r],s=o.ds,l=o.value,u=o.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=u)return"mixed";if(ce.lang.String.isMail(l))continue;return"mixed"}if("C"==u){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getAttrTypeAndValue=function(e){var t=a(e);return b(t)},this.getRDN=function(e){var t=a(e);return k(t)},this.getX500NameArray=function(e){return function(e){try{return e.seq.map((function(e){return k(e)}))}catch(e){throw new Error("improper ASN.1 parsed X500Name: "+e)}}(a(e))},this.getX500Name=function(e,t,n){var r=this.getX500NameArray(e),i={str:this.dnarraytostr(r)};return i.array=r,1==n&&(i.hex=e),1==t&&(i.canon=this.c14nRDNArray(r)),i},this.readCertPEM=function(e){this.readCertHex(y(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(e){var t={};return null==e&&(e={}),t.version=this.getVersion(),t.serial={hex:this.getSerialNumberHex()},t.sigalg=this.getSignatureAlgorithmField(),t.issuer=this.getIssuer(e.dncanon,e.dnhex),t.notbefore=this.getNotBefore(),t.notafter=this.getNotAfter(),t.subject=this.getSubject(e.dncanon,e.dnhex),t.sbjpubkey=_e(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(t.ext=this.getExtParamArray()),t.sighex=this.getSignatureValueHex(),1==e.tbshex&&(t.tbshex=u(this.hex,0,[0])),1==e.nodnarray&&(delete t.issuer.array,delete t.subject.array),t},this.getExtParamArray=function(e){null==e&&-1!=p(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=g(s(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var a=u(e,0,[t-1,0]),o=void 0;if("2.5.29.14"==n?o=this.getExtSubjectKeyIdentifier(a,i):"2.5.29.15"==n?o=this.getExtKeyUsage(a,i):"2.5.29.17"==n?o=this.getExtSubjectAltName(a,i):"2.5.29.18"==n?o=this.getExtIssuerAltName(a,i):"2.5.29.19"==n?o=this.getExtBasicConstraints(a,i):"2.5.29.30"==n?o=this.getExtNameConstraints(a,i):"2.5.29.31"==n?o=this.getExtCRLDistributionPoints(a,i):"2.5.29.32"==n?o=this.getExtCertificatePolicies(a,i):"2.5.29.33"==n?o=this.getExtPolicyMappings(a,i):"2.5.29.35"==n?o=this.getExtAuthorityKeyIdentifier(a,i):"2.5.29.36"==n?o=this.getExtPolicyConstraints(a,i):"2.5.29.37"==n?o=this.getExtExtKeyUsage(a,i):"2.5.29.54"==n?o=this.getExtInhibitAnyPolicy(a,i):"1.3.6.1.5.5.7.1.1"==n?o=this.getExtAuthorityInfoAccess(a,i):"2.5.29.20"==n?o=this.getExtCRLNumber(a,i):"2.5.29.21"==n?o=this.getExtCRLReason(a,i):"1.3.6.1.5.5.7.48.1.2"==n?o=this.getExtOcspNonce(a,i):"1.3.6.1.5.5.7.48.1.5"==n?o=this.getExtOcspNoCheck(a,i):"1.2.840.113583.1.1.9.1"==n&&(o=this.getExtAdobeTimeStamp(a,i)),null!=o)return o;var l={extname:n,extn:a};return i&&(l.critical=!0),l},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var a=r[i].dpname.full,o=0;o<a.length;o++){var s=a[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(e){var t;if(null!=e.str&&null==e.array){var n=new ce.asn1.x509.X500Name({str:e.str}).tohex();t=this.getX500NameArray(n)}else t=e.array;null==e.canon&&(e.canon=this.c14nRDNArray(t))},this.c14nRDNArray=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=[],a=0;a<r.length;a++){var o=r[a],s=o.value;s=(s=(s=(s=s.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),i.push(o.type.toLowerCase()+"="+s)}t.push(i.join("+"))}return"/"+t.join("/")},this.getInfo=function(){var e,t,n,r=function(e){for(var t="",n="    ",r="\n",i=e.array,a=0;a<i.length;a++){var o=i[a];null!=o.dn&&(t+=n+"dn: "+o.dn.str+r),null!=o.ip&&(t+=n+"ip: "+o.ip+r),null!=o.rfc822&&(t+=n+"rfc822: "+o.rfc822+r),null!=o.dns&&(t+=n+"dns: "+o.dns+r),null!=o.uri&&(t+=n+"uri: "+o.uri+r),null!=o.other&&(t+=n+"other: "+o.other.oid+"="+JSON.stringify(o.other.value).replace(/\"/g,"")+r)}return t.replace(/\n$/,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var a=0;a<i.array.length;a++){var o=i.array[a];void 0!==o.cps&&(t+="    cps: "+o.cps+"\n")}}return t},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(t+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(t+="    "+Je.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return t},o=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+qe(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+qe(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<n.length;s++){var l=n[s],u=ce.asn1.x509.OID.oid2name(l.oid);""===u&&(u=l.oid);var c="";if(!0===l.critical&&(c="CRITICAL"),e+="  "+u+" "+c+":\n","basicConstraints"===u){var h=this.getExtBasicConstraints();void 0===h.cA?e+="    {}\n":(e+="    cA=true",void 0!==h.pathLen&&(e+=", pathLen="+h.pathLen),e+="\n")}else{var p;if("policyMappings"==u)e+="    "+this.getExtPolicyMappings().array.map((function(e){var t=e;return t[0]+":"+t[1]})).join(", ")+"\n";else if("policyConstraints"==u)e+="    ",null!=(p=this.getExtPolicyConstraints()).reqexp&&(e+=" reqexp="+p.reqexp),null!=p.inhibit&&(e+=" inhibit="+p.inhibit),e+="\n";else if("inhibitAnyPolicy"==u)e+="    skip="+(p=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==u)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==u)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==u){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"==u?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==u?e+=r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==u?e+=a(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==u?e+=o(this.getExtAuthorityInfoAccess()):"certificatePolicies"==u&&(e+=i(this.getExtCertificatePolicies()))}}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}Ye.getKey=function(e,t,n){var r,i=(y=de).getChildIdx,a=(y.getV,y.getVbyList),o=ce.crypto,s=o.ECDSA,l=o.DSA,u=ie,c=De,h=Ye;if(void 0!==u&&e instanceof u)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new u).setPublic(e.n,e.e),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(C=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(C=new u).setPrivate(e.n,e.e,e.d),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(C=new l).setPublic(e.p,e.q,e.g,e.y),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(C=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new u).setPublic(be(e.n),be(e.e)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(C=new u).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(C=new u).setPrivate(be(e.n),be(e.e),be(e.d)),C;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var p=(P=new s({curve:e.crv})).ecparams.keycharlen,d="04"+("0000000000"+be(e.x)).slice(-p)+("0000000000"+be(e.y)).slice(-p);return P.setPublicKeyHex(d),P}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){p=(P=new s({curve:e.crv})).ecparams.keycharlen,d="04"+("0000000000"+be(e.x)).slice(-p)+("0000000000"+be(e.y)).slice(-p);var f=("0000000000"+be(e.d)).slice(-p);return P.setPublicKeyHex(d),P.setPrivateKeyHex(f),P}if("pkcs5prv"===n){var m,g=e,y=de;if(9===(m=i(g,0)).length)(C=new u).readPKCS5PrvKeyHex(g);else if(6===m.length)(C=new l).readPKCS5PrvKeyHex(g);else{if(!(m.length>2&&"04"===g.substr(m[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(C=new s).readPKCS5PrvKeyHex(g)}return C}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return Je.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return Je.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var v=De(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(v)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=c(e,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var k=a(r=c(e,"DSA PRIVATE KEY"),0,[1],"02"),x=a(r,0,[2],"02"),S=a(r,0,[3],"02"),E=a(r,0,[4],"02"),A=a(r,0,[5],"02");return(C=new l).setPrivate(new w(k,16),new w(x,16),new w(S,16),new w(E,16),new w(A,16)),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=c(e,"EC PRIVATE KEY"),h.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var _=h.getDecryptedKeyHex(e,t),D=new ie;return D.readPKCS5PrvKeyHex(_),D}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var P,C=a(r=h.getDecryptedKeyHex(e,t),0,[1],"04"),R=a(r,0,[2,0],"06"),O=a(r,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[R])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+R);return(P=new s({curve:ce.crypto.OID.oidhex2name[R]})).setPublicKeyHex(O),P.setPrivateKeyHex(C),P.isPublic=!1,P}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return k=a(r=h.getDecryptedKeyHex(e,t),0,[1],"02"),x=a(r,0,[2],"02"),S=a(r,0,[3],"02"),E=a(r,0,[4],"02"),A=a(r,0,[5],"02"),(C=new l).setPrivate(new w(k,16),new w(x,16),new w(S,16),new w(E,16),new w(A,16)),C;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Ye.generateKeypair=function(e,t){if("RSA"==e){var n=t;(o=new ie).generate(n,"10001"),o.isPrivate=!0,o.isPublic=!0;var r=new ie,i=o.n.toString(16),a=o.e.toString(16);return r.setPublic(i,a),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=r,s}if("EC"==e){var o,s,l=t,u=new ce.crypto.ECDSA({curve:l}).generateKeyPairHex();return(o=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),o.setPrivateKeyHex(u.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(r=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=o,s.pubKeyObj=r,s}throw new Error("unknown algorithm: "+e)},Ye.getPEM=function(e,t,n,r,i,a){var o=ce,s=o.asn1,l=s.DERObjectIdentifier,u=s.DERInteger,c=s.ASN1Util.newObject,h=s.x509.SubjectPublicKeyInfo,p=o.crypto,d=p.DSA,f=p.ECDSA,g=ie;function y(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function v(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==d&&e instanceof d||void 0!==f&&e instanceof f)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return _e(S=new h(e).tohex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===n||null==n)&&1==e.isPrivate)return _e(S=y(e).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate){var k=new l({name:e.curveName}).tohex(),w=v(e).tohex(),x="";return(x+=_e(k,"EC PARAMETERS"))+_e(w,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate)return _e(S=b(e).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==n&&null!=n&&1==e.isPrivate){var S=y(e).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",S,n,r,a)}if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return S=v(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",S,n,r,a);if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate)return S=b(e).tohex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",S,n,r,a);var E=function(e,t){var n=A(e,t);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).tohex()},A=function(e,t){var n=m.lib.WordArray.random(8),r=m.lib.WordArray.random(8),i=m.PBKDF2(t,n,{keySize:6,iterations:100}),a=m.enc.Hex.parse(e),o=m.TripleDES.encrypt(a,i,{iv:r})+"",s={};return s.ciphertext=o,s.pbkdf2Salt=m.enc.Hex.stringify(n),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=m.enc.Hex.stringify(r),s};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var _=y(e).tohex();return S=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:_}}]}).tohex(),void 0===n||null==n?_e(S,"PRIVATE KEY"):_e(w=E(S,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate){var D={seq:[{int:1},{octstr:{hex:e.prvKeyHex}}]};return"string"==typeof e.pubKeyHex&&D.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}),_=new c(D).tohex(),S=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:_}}]}).tohex(),void 0===n||null==n?_e(S,"PRIVATE KEY"):_e(w=E(S,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return _=new u({bigint:e.x}).tohex(),S=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:_}}]}).tohex(),void 0===n||null==n?_e(S,"PRIVATE KEY"):_e(w=E(S,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Ye.getKeyFromCSRPEM=function(e){var t=De(e,"CERTIFICATE REQUEST");return Ye.getKeyFromCSRHex(t)},Ye.getKeyFromCSRHex=function(e){var t=Ye.parseCSRHex(e);return Ye.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Ye.parseCSRHex=function(e){var t=de,n=t.getChildIdx,r=t.getTLV,i={},a=e;if("30"!=a.substr(0,2))throw new Error("malformed CSR(code:001)");var o=n(a,0);if(o.length<1)throw new Error("malformed CSR(code:002)");if("30"!=a.substr(o[0],2))throw new Error("malformed CSR(code:003)");var s=n(a,o[0]);if(s.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(a,s[2]),i},Ye.getKeyID=function(e){var t=Ye,n=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=De(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),a=n.getV(r,i).substring(2);return ce.crypto.Util.hashHex(a,"sha1")},Ye.getJWK=function(e,t,n,r,i){var a,o,s={},l=ce.crypto.Util.hashHex;if("string"==typeof e)a=Ye.getKey(e),-1!=e.indexOf("CERTIFICATE")&&(o=De(e));else{if("object"!=typeof e)throw new Error("unsupported keyinfo type");e instanceof Je?(a=e.getPublicKey(),o=e.hex):a=e}if(a instanceof ie&&a.isPrivate)s.kty="RSA",s.n=ve(a.n.toString(16)),s.e=ve(a.e.toString(16)),s.d=ve(a.d.toString(16)),s.p=ve(a.p.toString(16)),s.q=ve(a.q.toString(16)),s.dp=ve(a.dmp1.toString(16)),s.dq=ve(a.dmq1.toString(16)),s.qi=ve(a.coeff.toString(16));else if(a instanceof ie&&a.isPublic)s.kty="RSA",s.n=ve(a.n.toString(16)),s.e=ve(a.e.toString(16));else if(a instanceof ce.crypto.ECDSA&&a.isPrivate){if("P-256"!==(c=a.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);var u=a.getPublicKeyXYHex();s.kty="EC",s.crv=c,s.x=ve(u.x),s.y=ve(u.y),s.d=ve(a.prvKeyHex)}else if(a instanceof ce.crypto.ECDSA&&a.isPublic){var c;if("P-256"!==(c=a.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);u=a.getPublicKeyXYHex(),s.kty="EC",s.crv=c,s.x=ve(u.x),s.y=ve(u.y)}if(null==s.kty)throw new Error("unsupported keyinfo");return a.isPrivate||1==t||(s.kid=ce.jws.JWS.getJWKthumbprint(s)),null!=o&&1!=n&&(s.x5c=[b(o)]),null!=o&&1!=r&&(s.x5t=ge(b(l(o,"sha1")))),null!=o&&1!=i&&(s["x5t#S256"]=ge(b(l(o,"sha256")))),s},Ye.getJWKFromKey=function(e){return Ye.getJWK(e,!0,!0,!0,!0)},ie.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,n=de.getV,r=n(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),a=n(e,t[2]),o=n(e,t[3]),s=n(e,t[4]),l=n(e,t[5]),u=n(e,t[6]),c=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,a,o,s,l,u,c,h),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=De(e),n=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,a,o,s,l,u=de,c=u.getVbyListEx;if(!1===u.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=c(e,0,[2,0,1],"02"),n=c(e,0,[2,0,2],"02"),r=c(e,0,[2,0,3],"02"),i=c(e,0,[2,0,4],"02"),a=c(e,0,[2,0,5],"02"),o=c(e,0,[2,0,6],"02"),s=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,a,o,s,l)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=de,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),a=n(e,r[1]);this.setPublic(i,a)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ie.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new Je).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)},ie.prototype.sign=function(e,t){var n=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},ie.prototype.signWithMessageHash=function(e,t){var n=ne(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return $e(this.doPrivate(n).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,n){var r,i=(r=Ee(e),ce.crypto.Util.hashHex(r,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)},ie.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=Se(e),a=i.length,o=this.n.bitLength()-1,s=Math.ceil(o/8),l=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=a;else if(-2===n)n=s-a-2;else if(n<-2)throw new Error("invalid salt length");if(s<a+n+2)throw new Error("data too long");var u="";n>0&&(u=new Array(n),(new te).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=Se(l(Ee("\0\0\0\0\0\0\0\0"+i+u))),h=[];for(r=0;r<s-n-a-2;r+=1)h[r]=0;var p=String.fromCharCode.apply(String,h)+""+u,d=We(c,p.length,l),f=[];for(r=0;r<p.length;r+=1)f[r]=p.charCodeAt(r)^d.charCodeAt(r);var m=65280>>8*s-o&255;for(f[0]&=~m,r=0;r<a;r++)f.push(c.charCodeAt(r));return f.push(188),$e(this.doPrivate(new w(f)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=ne(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var a=Ge(i.replace(/^1f+00/,""));if(0==a.length)return!1;var o=a[0],s=a[1],l=function(e){return ce.crypto.Util.hashString(e,o)}(e);return s==l},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=ne(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=Ge(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},ie.prototype.verifyPSS=function(e,t,n,r){var i,a=(i=Ee(e),ce.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(a,t,n,r)},ie.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,a=new w(t,16),o=function(e){return ce.crypto.Util.hashHex(e,n)},s=Se(e),l=s.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===r||void 0===r)r=l;else if(-2===r)r=c-l-2;else if(r<-2)throw new Error("invalid salt length");if(c<l+r+2)throw new Error("data too long");var h=this.doPublic(a).toByteArray();for(i=0;i<h.length;i+=1)h[i]&=255;for(;h.length<c;)h.unshift(0);if(188!==h[c-1])throw new Error("encoded message does not end in 0xbc");var p=(h=String.fromCharCode.apply(String,h)).substr(0,c-l-1),d=h.substr(p.length,l),f=65280>>8*c-u&255;if(p.charCodeAt(0)&f)throw new Error("bits beyond keysize not zero");var m=We(d,p.length,o),g=[];for(i=0;i<p.length;i+=1)g[i]=p.charCodeAt(i)^m.charCodeAt(i);g[0]&=~f;var y=c-l-r-2;for(i=0;i<y;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[y])throw new Error("0x01 marker not found");return d===Se(o(Ee("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,g.slice(-r)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,Je.hex2dn=function(e,t){void 0===t&&(t=0);var n=new Je;return de.getTLV(e,t),n.getX500Name(e).str},Je.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=de.getChildIdx(e,t),i=0;i<r.length;i++)n.push(Je.hex2attrTypeValue(e,r[i]));return n=n.map((function(e){return e.replace("+","\\+")})),n.join("+")},Je.hex2attrTypeValue=function(e,t){var n=de,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var a=r(e,i[0]),o=ce.asn1.ASN1Util.oidHexToInt(a);return ce.asn1.x509.OID.oid2atype(o)+"="+Se(r(e,i[1]))},Je.getPublicKeyFromCertHex=function(e){var t=new Je;return t.readCertHex(e),t.getPublicKey()},Je.getPublicKeyFromCertPEM=function(e){var t=new Je;return t.readCertPEM(e),t.getPublicKey()},Je.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=de.getVbyList,i={algparam:null};return(t=new Je).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},Je.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],a=r[2],o=r[3],s=i+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=s,!n){var l=be(o),u=ne(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=u}var c=pe(i),h=pe(a);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=h,!e(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},ce.jws.JWS.sign=function(e,t,n,r,i){var a,o,s,l=ce,u=l.jws.JWS,c=u.readSafeJSONString,h=u.isSafeJSONString,p=l.crypto,d=(p.ECDSA,p.Mac),f=p.Signature,m=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(o=t,a=m.stringify(o)),"string"==typeof t){if(!h(a=t))throw"JWS Head is not safe JSON string: "+a;o=c(a)}if(s=n,"object"==typeof n&&(s=m.stringify(n)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,a=m.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var g=null;if(void 0===u.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=u.jwsalg2sigalg[e];var y=he(a)+"."+he(s),v="";if("Hmac"==g.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var b=new d({alg:g,prov:"cryptojs",pass:r});b.updateString(y),v=b.doFinal()}else if(-1!=g.indexOf("withECDSA")){(w=new f({alg:g})).init(r,i),w.updateString(y);var k=w.sign();v=ce.crypto.ECDSA.asn1SigToConcatSig(k)}else{var w;"none"!=g&&((w=new f({alg:g})).init(r,i),w.updateString(y),v=w.sign())}return y+"."+ve(v)},ce.jws.JWS.verify=function(e,t,n){var r,i=ce,a=i.jws.JWS,o=a.readSafeJSONString,s=i.crypto,l=s.ECDSA,u=s.Mac,c=s.Signature;if(r=ie,!Le(e))return!1;var h=e.split(".");if(3!==h.length)return!1;var p,d=h[0]+"."+h[1],f=be(h[2]),m=o(pe(h[0])),g=null;if(void 0===m.alg)throw"algorithm not specified in header";if(p=(g=m.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Ye.getKey(t)),!("RS"!=p&&"PS"!=p||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==p&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===a.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+g;if("none"==(y=a.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new u({alg:y,pass:t});return v.updateString(d),f==v.doFinal()}if(-1!=y.indexOf("withECDSA")){var b,k=null;try{k=l.concatSigToASN1Sig(f)}catch(e){return!1}return(b=new c({alg:y})).init(t),b.updateString(d),b.verify(k)}return(b=new c({alg:y})).init(t),b.updateString(d),b.verify(f)},ce.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),a={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),a.headerObj=ce.jws.JWS.readSafeJSONString(pe(t)),a.payloadObj=ce.jws.JWS.readSafeJSONString(pe(n)),a.headerPP=JSON.stringify(a.headerObj,null,"  "),null==a.payloadObj?a.payloadPP=pe(n):a.payloadPP=JSON.stringify(a.payloadObj,null,"  "),void 0!==r&&(a.sigHex=be(r)),a},ce.jws.JWS.verifyJWT=function(e,t,n){var r=ce.jws,i=r.JWS,a=i.readSafeJSONString,o=i.inArray,s=i.includedArray;if(!Le(e))return!1;var l=e.split(".");if(3!=l.length)return!1;var u=l[0],c=l[1],h=(be(l[2]),a(pe(u))),p=a(pe(c));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!o(h.alg,n.alg))return!1;if(void 0!==p.iss&&"object"==typeof n.iss&&!o(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"==typeof n.sub&&!o(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"==typeof n.aud)if("string"==typeof p.aud){if(!o(p.aud,n.aud))return!1}else if("object"==typeof p.aud&&!s(p.aud,n.aud))return!1;var d=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(d=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<d||void 0!==p.nbf&&"number"==typeof p.nbf&&d<p.nbf-n.gracePeriod||void 0!==p.iat&&"number"==typeof p.iat&&d<p.iat-n.gracePeriod||void 0!==p.jti&&void 0!==n.jti&&p.jti!==n.jti||!i.verify(e,t,n.alg))},ce.jws.JWS.includedArray=function(e,t){var n=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=typeof(r=ue(e))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=ue(e))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Ee(t);return ve(ce.crypto.Util.hashHex(n,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Pe(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWSJS=function(){var e=ce.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var a=ce.jws.JWS.sign(e,t,this.sPayload,n,r).split(".");a[0],a[2],this.aHeader.push(a[0]),this.aSignature.push(a[2])}catch(e){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+e}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,r){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var i=this.aHeader[t],a=this.aSignature[t],o=i+"."+this.sPayload+"."+a,s=!1;try{s=e.verify(o,n,r)}catch(e){return!1}return s},this.readJWSJS=function(e){if("string"==typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(e){throw"malformed JWS-JS JSON object: "+e}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},ce.crypto.ECDSA,ce.crypto.DSA,ce.crypto.Signature,ce.crypto.MessageDigest,ce.crypto.Mac,ce.crypto.Cipher,t.kT=function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(function(e){var t,n=k(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}(ye(e)))},ce.crypto,ce.asn1,t.hT=ce.jws,ce.lang},4542:(e,t,n)=>{var r,i,a,o,s;r=n(7298),i=n(4526).utf8,a=n(8135),o=n(4526).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):i.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,h=-1732584194,p=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var f=s._ff,m=s._gg,g=s._hh,y=s._ii;for(d=0;d<n.length;d+=16){var v=u,b=c,k=h,w=p;u=f(u,c,h,p,n[d+0],7,-680876936),p=f(p,u,c,h,n[d+1],12,-389564586),h=f(h,p,u,c,n[d+2],17,606105819),c=f(c,h,p,u,n[d+3],22,-1044525330),u=f(u,c,h,p,n[d+4],7,-176418897),p=f(p,u,c,h,n[d+5],12,1200080426),h=f(h,p,u,c,n[d+6],17,-1473231341),c=f(c,h,p,u,n[d+7],22,-45705983),u=f(u,c,h,p,n[d+8],7,1770035416),p=f(p,u,c,h,n[d+9],12,-1958414417),h=f(h,p,u,c,n[d+10],17,-42063),c=f(c,h,p,u,n[d+11],22,-1990404162),u=f(u,c,h,p,n[d+12],7,1804603682),p=f(p,u,c,h,n[d+13],12,-40341101),h=f(h,p,u,c,n[d+14],17,-1502002290),u=m(u,c=f(c,h,p,u,n[d+15],22,1236535329),h,p,n[d+1],5,-165796510),p=m(p,u,c,h,n[d+6],9,-1069501632),h=m(h,p,u,c,n[d+11],14,643717713),c=m(c,h,p,u,n[d+0],20,-373897302),u=m(u,c,h,p,n[d+5],5,-701558691),p=m(p,u,c,h,n[d+10],9,38016083),h=m(h,p,u,c,n[d+15],14,-660478335),c=m(c,h,p,u,n[d+4],20,-405537848),u=m(u,c,h,p,n[d+9],5,568446438),p=m(p,u,c,h,n[d+14],9,-1019803690),h=m(h,p,u,c,n[d+3],14,-187363961),c=m(c,h,p,u,n[d+8],20,1163531501),u=m(u,c,h,p,n[d+13],5,-1444681467),p=m(p,u,c,h,n[d+2],9,-51403784),h=m(h,p,u,c,n[d+7],14,1735328473),u=g(u,c=m(c,h,p,u,n[d+12],20,-1926607734),h,p,n[d+5],4,-378558),p=g(p,u,c,h,n[d+8],11,-2022574463),h=g(h,p,u,c,n[d+11],16,1839030562),c=g(c,h,p,u,n[d+14],23,-35309556),u=g(u,c,h,p,n[d+1],4,-1530992060),p=g(p,u,c,h,n[d+4],11,1272893353),h=g(h,p,u,c,n[d+7],16,-155497632),c=g(c,h,p,u,n[d+10],23,-1094730640),u=g(u,c,h,p,n[d+13],4,681279174),p=g(p,u,c,h,n[d+0],11,-358537222),h=g(h,p,u,c,n[d+3],16,-722521979),c=g(c,h,p,u,n[d+6],23,76029189),u=g(u,c,h,p,n[d+9],4,-640364487),p=g(p,u,c,h,n[d+12],11,-421815835),h=g(h,p,u,c,n[d+15],16,530742520),u=y(u,c=g(c,h,p,u,n[d+2],23,-995338651),h,p,n[d+0],6,-198630844),p=y(p,u,c,h,n[d+7],10,1126891415),h=y(h,p,u,c,n[d+14],15,-1416354905),c=y(c,h,p,u,n[d+5],21,-57434055),u=y(u,c,h,p,n[d+12],6,1700485571),p=y(p,u,c,h,n[d+3],10,-1894986606),h=y(h,p,u,c,n[d+10],15,-1051523),c=y(c,h,p,u,n[d+1],21,-2054922799),u=y(u,c,h,p,n[d+8],6,1873313359),p=y(p,u,c,h,n[d+15],10,-30611744),h=y(h,p,u,c,n[d+6],15,-1560198380),c=y(c,h,p,u,n[d+13],21,1309151649),u=y(u,c,h,p,n[d+4],6,-145523070),p=y(p,u,c,h,n[d+11],10,-1120210379),h=y(h,p,u,c,n[d+2],15,718787259),c=y(c,h,p,u,n[d+9],21,-343485551),u=u+v>>>0,c=c+b>>>0,h=h+k>>>0,p=p+w>>>0}return r.endian([u,c,h,p])})._ff=function(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._gg=function(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._hh=function(e,t,n,r,i,a,o){var s=e+(t^n^r)+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._ii=function(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+(i>>>0)+o;return(s<<a|s>>>32-a)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?o.bytesToString(n):r.bytesToHex(n)}},3865:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))n.call(a,u)&&(s[u]=a[u]);if(t){o=t(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}},4392:(e,t,n)=>{"use strict";var r=n(8281),i=n(3865),a=n(9551);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(f,e)&&(p.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,E=60107,A=60108,_=60114,D=60109,P=60110,C=60112,R=60113,O=60120,T=60115,F=60116,B=60121,N=60128,I=60129,M=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var H=Symbol.for;x=H("react.element"),S=H("react.portal"),E=H("react.fragment"),A=H("react.strict_mode"),_=H("react.profiler"),D=H("react.provider"),P=H("react.context"),C=H("react.forward_ref"),R=H("react.suspense"),O=H("react.suspense_list"),T=H("react.memo"),F=H("react.lazy"),B=H("react.block"),H("react.scope"),N=H("react.opaque.id"),I=H("react.debug_trace_mode"),M=H("react.offscreen"),j=H("react.legacy_hidden")}var L,q="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function U(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function K(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function Y(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 22:return K(e.type._render,!1);case 1:return K(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case _:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case D:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case T:return $(e.type);case B:return $(e._render);case F:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ue(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ge=(me=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,De=null,Pe=null;function Ce(e){if(e=ti(e)){if("function"!=typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ri(t),_e(e.stateNode,e.type,t))}}function Re(e){De?Pe?Pe.push(e):Pe=[e]:De=e}function Oe(){if(De){var e=De,t=Pe;if(Pe=De=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Fe(e,t,n,r,i){return e(t,n,r,i)}function Be(){}var Ne=Te,Ie=!1,Me=!1;function je(){null===De&&null===Pe||(Be(),Oe())}function He(e,t){var n=e.stateNode;if(null===n)return null;var r=ri(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Le=!1}function ze(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ue=!1,Ve=null,Ke=!1,Ye=null,$e={onError:function(e){Ue=!0,Ve=e}};function We(e,t,n,r,i,a,o,s,l){Ue=!1,Ve=null,ze.apply($e,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Ge(e)!==e)throw Error(o(188))}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var Ze,et,tt,nt,rt=!1,it=[],at=null,ot=null,st=null,lt=new Map,ut=new Map,ct=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function dt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":ot=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&null!==(t=ti(t))&&et(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ei(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void nt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){tt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ti(n))&&et(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(rt=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=ti(e.blockedOn))&&Ze(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==at&&gt(at)&&(at=null),null!==ot&&gt(ot)&&(ot=null),null!==st&&gt(st)&&(st=null),lt.forEach(yt),ut.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vt)))}function kt(e){function t(t){return bt(t,e)}if(0<it.length){bt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==ot&&bt(ot,e),null!==st&&bt(st,e),lt.forEach(t),ut.forEach(t),n=0;n<ct.length;n++)(r=ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ct.length&&null===(n=ct[0]).blockedOn;)mt(n),null===n.blockedOn&&ct.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},St={},Et={};function At(e){if(St[e])return St[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}h&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var _t=At("animationend"),Dt=At("animationiteration"),Pt=At("animationstart"),Ct=At("transitionend"),Rt=new Map,Ot=new Map,Tt=["abort","abort",_t,"animationEnd",Dt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ct,"transitionEnd","waiting","waiting"];function Ft(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),u(i,[r])}}(0,a.unstable_now)();var Bt=8;function Nt(e){if(1&e)return Bt=15,1;if(2&e)return Bt=14,2;if(4&e)return Bt=13,4;var t=24&e;return 0!==t?(Bt=12,t):32&e?(Bt=11,32):0!=(t=192&e)?(Bt=10,t):256&e?(Bt=9,256):0!=(t=3584&e)?(Bt=8,t):4096&e?(Bt=7,4096):0!=(t=4186112&e)?(Bt=6,t):0!=(t=62914560&e)?(Bt=5,t):67108864&e?(Bt=4,67108864):134217728&e?(Bt=3,134217728):0!=(t=805306368&e)?(Bt=2,t):1073741824&e?(Bt=1,1073741824):(Bt=8,e)}function It(e,t){var n=e.pendingLanes;if(0===n)return Bt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Bt=15;else if(0!=(a=134217727&n)){var l=a&~o;0!==l?(r=Nt(l),i=Bt):0!=(s&=a)&&(r=Nt(s),i=Bt)}else 0!=(a=n&~o)?(r=Nt(a),i=Bt):0!==s&&(r=Nt(s),i=Bt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&o)){if(Nt(t),i<=Bt)return t;Bt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Mt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?jt(10,t):e;case 10:return 0===(e=Ht(192&~t))?jt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&0===(e=Ht(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ht(e){return e&-e}function Lt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ut(e)/Vt|0)|0},Ut=Math.log,Vt=Math.LN2,Kt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,$t=!0;function Wt(e,t,n,r){Ie||Be();var i=Jt,a=Ie;Ie=!0;try{Fe(i,e,t,n,r)}finally{(Ie=a)||je()}}function Gt(e,t,n,r){Yt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=!(4&t))&&0<it.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),it.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&dt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void it.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=ft(at,e,t,n,r,i),!0;case"dragenter":return ot=ft(ot,e,t,n,r,i),!0;case"mouseover":return st=ft(st,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,ft(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ut.set(a,ft(ut.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;dt(e,r)}Fr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ae(r);if(null!==(i=ei(i))){var a=Ge(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Fr(e,t,r,i,n),null}var Qt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,ln,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=on(cn),pn=i({},cn,{view:0,detail:0}),dn=on(pn),fn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=on(fn),gn=on(i({},fn,{dataTransfer:0})),yn=on(i({},pn,{relatedTarget:0})),vn=on(i({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=on(bn),wn=on(i({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return An}var Dn=i({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Dn),Cn=on(i({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),On=on(i({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=i({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=on(Tn),Bn=[9,13,27,32],Nn=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var Mn=h&&"TextEvent"in window&&!In,jn=h&&(!Nn||In&&8<In&&11>=In),Hn=String.fromCharCode(32),Ln=!1;function qn(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Yn(e,t,n,r){Re(r),0<(t=Nr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Wn=null;function Gn(e){Dr(e,0)}function Jn(e){if(X(ni(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(h){var Zn;if(h){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"==typeof tr.oninput}Zn=er}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){$n&&($n.detachEvent("onpropertychange",rr),Wn=$n=null)}function rr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];if(Yn(t,Wn,e,Ae(e)),e=Gn,Ie)e(t);else{Ie=!0;try{Te(e,t)}finally{Ie=!1,je()}}}}function ir(e,t,n){"focusin"===e?(nr(),Wn=n,($n=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function or(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function cr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,vr=null,br=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||(r="selectionStart"in(r=yr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Nr(vr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Ft("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ft("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ft(Tt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<xr.length;Sr++)Ot.set(xr[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(We.apply(this,arguments),Ue){if(!Ue)throw Error(o(198));var c=Ve;Ue=!1,Ve=null,Ke||(Ke=!0,Ye=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;_r(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;_r(i,s,u),a=l}}}if(Ke)throw e=Ye,Ke=!1,Ye=null,e}function Pr(e,t){var n=ii(t),r=e+"__bubble";n.has(r)||(Tr(t,e,2,!1),n.add(r))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){Ar.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ii(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Tr(a,e,i,t),o.add(s))}function Tr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Wt;break;case 1:i=Gt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fr(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ei(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e();Me=!0;try{return Ne(e,t,n)}finally{Me=!1,je()}}((function(){var r=a,i=Ae(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var l=hn,u=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case _t:case Dt:case Pt:l=vn;break;case Ct:l=On;break;case"scroll":l=dn;break;case"wheel":l=Fn;break;case"copy":case"cut":case"paste":l=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var c=!!(4&t),h=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var d,f=r;null!==f;){var m=(d=f).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==p&&null!=(m=He(f,p))&&c.push(Br(f,m,d))),h)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(u=n.relatedTarget||n.fromElement)||!ei(u)&&!u[Qr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ei(u):null)&&(u!==(h=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=mn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,m="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==l?s:ni(l),d=null==u?s:ni(u),(s=new c(m,f+"leave",l,n,i)).target=h,s.relatedTarget=d,m=null,ei(i)===r&&((c=new c(p,f+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(p=u,f=0,d=c=l;d;d=Ir(d))f++;for(d=0,m=p;m;m=Ir(m))d++;for(;0<f-d;)c=Ir(c),f--;for(;0<d-f;)p=Ir(p),d--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=Ir(c),p=Ir(p)}c=null}else c=null;null!==l&&Mr(o,s,l,c,!1),null!==u&&null!==h&&Mr(o,h,u,c,!0)}if("select"===(l=(s=r?ni(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(Kn(s))if(Qn)g=sr;else{g=ar;var y=ir}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Yn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ni(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(yr=y,vr=r,br=null);break;case"focusout":br=vr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(v=tn()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(y=Nr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),(v||null!==(v=zn(n)))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Hn);case"textInput":return(e=t.data)===Hn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&qn(e,t)?(e=tn(),en=Zt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Nr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v)}Dr(o,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=He(e,n))&&r.unshift(Br(e,a,i)),null!=(a=He(e,t))&&r.push(Br(e,a,i))),e=e.return}return r}function Ir(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Mr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=He(n,a))&&o.unshift(Br(n,l,s)):i||null!=(l=He(n,a))&&o.push(Br(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var Hr=null,Lr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ur="function"==typeof setTimeout?setTimeout:void 0,Vr="function"==typeof clearTimeout?clearTimeout:void 0;function Kr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Wr=0,Gr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Gr,Xr="__reactProps$"+Gr,Qr="__reactContainer$"+Gr,Zr="__reactEvents$"+Gr;function ei(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ti(e){return!(e=e[Jr]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ni(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ri(e){return e[Xr]||null}function ii(e){var t=e[Zr];return void 0===t&&(t=e[Zr]=new Set),t}var ai=[],oi=-1;function si(e){return{current:e}}function li(e){0>oi||(e.current=ai[oi],ai[oi]=null,oi--)}function ui(e,t){oi++,ai[oi]=e.current,e.current=t}var ci={},hi=si(ci),pi=si(!1),di=ci;function fi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!=e.childContextTypes}function gi(){li(pi),li(hi)}function yi(e,t,n){if(hi.current!==ci)throw Error(o(168));ui(hi,t),ui(pi,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,$(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,di=hi.current,ui(hi,e),ui(pi,pi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=vi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),ui(hi,e)):li(pi),ui(pi,n)}var wi=null,xi=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ai=a.unstable_cancelCallback,_i=a.unstable_shouldYield,Di=a.unstable_requestPaint,Pi=a.unstable_now,Ci=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Ti=a.unstable_NormalPriority,Fi=a.unstable_LowPriority,Bi=a.unstable_IdlePriority,Ni={},Ii=void 0!==Di?Di:function(){},Mi=null,ji=null,Hi=!1,Li=Pi(),qi=1e4>Li?Pi:function(){return Pi()-Li};function zi(){switch(Ci()){case Ri:return 99;case Oi:return 98;case Ti:return 97;case Fi:return 96;case Bi:return 95;default:throw Error(o(332))}}function Ui(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Ti;case 96:return Fi;case 95:return Bi;default:throw Error(o(332))}}function Vi(e,t){return e=Ui(e),Si(e,t)}function Ki(e,t,n){return e=Ui(e),Ei(e,t,n)}function Yi(){if(null!==ji){var e=ji;ji=null,Ai(e)}$i()}function $i(){if(!Hi&&null!==Mi){Hi=!0;var e=0;try{var t=Mi;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(t){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ei(Ri,Yi),t}finally{Hi=!1}}}var Wi=w.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=si(null),Xi=null,Qi=null,Zi=null;function ea(){Zi=Qi=Xi=null}function ta(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function na(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ra(e,t){Xi=e,Zi=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(No=!0),e.firstContext=null)}function ia(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Xi)throw Error(o(308));Qi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var aa=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;aa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var h=e.alternate;if(null!==h){var p=(h=h.updateQueue).lastBaseUpdate;p!==s&&(null===p?h.firstBaseUpdate=c:p.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(p=a.baseState,s=0,h=c=u=null;;){l=o.lane;var d=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(l=t,d=n,m.tag){case 1:if("function"==typeof(f=m.payload)){p=f.call(d,p,l);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(d,p,l):f))break e;p=i({},p,l);break e;case 2:aa=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else d={eventTime:d,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=d,u=p):h=h.next=d,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===h&&(u=p),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=h,js|=s,e.lanes=s,e.memoizedState=p}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var da=(new r.Component).refs;function fa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),a=la(r,i);a.payload=t,null!=n&&(a.callback=n),ua(e,a),hl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),a=la(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),ua(e,a),hl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=la(n,r);i.tag=2,null!=t&&(i.callback=t),ua(e,i),hl(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(i,a))}function ya(e,t,n){var r=!1,i=ci,a=t.contextType;return"object"==typeof a&&null!==a?a=ia(a):(i=mi(t)?di:hi.current,a=(r=null!=(r=t.contextTypes))?fi(e,i):ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=da,oa(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=ia(a):(a=mi(t)?di:hi.current,i.context=fi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var ka=Array.isArray;function wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===da&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ul(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wa(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Kl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$l(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=wa(e,null,t),n.return=e,n;case S:return(t=Wl(t,e.mode,n)).return=e,t}if(ka(t)||z(t))return(t=Kl(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(ka(n)||z(n))return null!==i?null:h(e,t,n,r,null);xa(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ka(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);xa(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===s.length)return n(i,h),u;if(null===h){for(;m<s.length;m++)null!==(h=p(i,s[m],l))&&(o=a(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<s.length;m++)null!==(g=f(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,s,l,u){var c=z(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=d(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===h?c=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,u))&&(s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,a,l){var u="object"==typeof a&&null!==a&&a.type===E&&null===a.key;u&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case x:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(a.type===E){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}}else if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=wa(e,u,a),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}a.type===E?((r=Kl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Vl(a.type,a.key,a.props,null,e.mode,l)).ref=wa(e,r,a),l.return=e,e=l)}return s(e);case S:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$l(a,e.mode,l)).return=e,e=r),s(e);if(ka(a))return m(e,r,a,l);if(z(a))return g(e,r,a,l);if(c&&xa(e,a),void 0===a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,$(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),Aa=Sa(!1),_a={},Da=si(_a),Pa=si(_a),Ca=si(_a);function Ra(e){if(e===_a)throw Error(o(174));return e}function Oa(e,t){switch(ui(Ca,t),ui(Pa,e),ui(Da,_a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Da),ui(Da,t)}function Ta(){li(Da),li(Pa),li(Ca)}function Fa(e){Ra(Ca.current);var t=Ra(Da.current),n=de(t,e.type);t!==n&&(ui(Pa,e),ui(Da,n))}function Ba(e){Pa.current===e&&(li(Da),li(Pa))}var Na=si(0);function Ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ma=null,ja=null,Ha=!1;function La(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function za(e){if(Ha){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=Yr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ha=!1,void(Ma=e);La(Ma,n)}Ma=e,ja=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Ha=!1,Ma=e}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ma=e}function Va(e){if(e!==Ma)return!1;if(!Ha)return Ua(e),Ha=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=ja;t;)La(e,t),t=Yr(t.nextSibling);if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Ma?Yr(e.stateNode.nextSibling):null;return!0}function Ka(){ja=Ma=null,Ha=!1}var Ya=[];function $a(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Wa=w.ReactCurrentDispatcher,Ga=w.ReactCurrentBatchConfig,Ja=0,Xa=null,Qa=null,Za=null,eo=!1,to=!1;function no(){throw Error(o(321))}function ro(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function io(e,t,n,r,i,a){if(Ja=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wa.current=null===e||null===e.memoizedState?Oo:To,e=n(r,i),to){a=0;do{if(to=!1,!(25>a))throw Error(o(301));a+=1,Za=Qa=null,t.updateQueue=null,Wa.current=Fo,e=n(r,i)}while(to)}if(Wa.current=Ro,t=null!==Qa&&null!==Qa.next,Ja=0,Za=Qa=Xa=null,eo=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Za?Xa.memoizedState=Za=e:Za=Za.next=e,Za}function oo(){if(null===Qa){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Za?Xa.memoizedState:Za.next;if(null!==t)Za=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Za?Xa.memoizedState=Za=e:Za=Za.next=e}return Za}function so(e,t){return"function"==typeof t?t(e):t}function lo(e){var t=oo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,u=i;do{var c=u.lane;if((Ja&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,a=r):l=l.next=h,Xa.lanes|=c,js|=c}u=u.next}while(null!==u&&u!==i);null===l?a=r:l.next=s,lr(r,t.memoizedState)||(No=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function uo(e){var t=oo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(No=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function co(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function ho(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=Wa.current,u=l.useState((function(){return co(i,t,n)})),c=u[1],h=u[0];u=Za;var p=e.memoizedState,d=p.refs,f=d.getSnapshot,m=p.source;p=p.subscribe;var g=Xa;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(c(e),e=cl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-zt(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(f,n)&&lr(m,t)&&lr(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:h}).dispatch=c=Co.bind(null,Xa,e),u.queue=e,u.baseQueue=null,h=co(i,t,n),u.memoizedState=u.baseState=h),h}function po(e,t,n){return ho(oo(),e,t,n)}function fo(e){var t=ao();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:e}).dispatch=Co.bind(null,Xa,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},ao().memoizedState=e}function yo(){return oo().memoizedState}function vo(e,t,n,r){var i=ao();Xa.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=oo();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&ro(r,o.deps))return void mo(t,n,a,r)}Xa.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function ko(e,t){return vo(516,4,e,t)}function wo(e,t){return bo(516,4,e,t)}function xo(e,t){return bo(4,2,e,t)}function So(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!=n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function Ao(){}function _o(e,t){var n=oo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ro(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Do(e,t){var n=oo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ro(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Po(e,t){var n=zi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ga.transition;Ga.transition=1;try{e(!1),t()}finally{Ga.transition=n}}))}function Co(e,t,n){var r=ul(),i=cl(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)to=eo=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,lr(l,s))return}catch(e){}hl(e,i,r)}}var Ro={readContext:ia,useCallback:no,useContext:no,useEffect:no,useImperativeHandle:no,useLayoutEffect:no,useMemo:no,useReducer:no,useRef:no,useState:no,useDebugValue:no,useDeferredValue:no,useTransition:no,useMutableSource:no,useOpaqueIdentifier:no,unstable_isNewReconciler:!1},Oo={readContext:ia,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:ia,useEffect:ko,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4,2,e,t)},useMemo:function(e,t){var n=ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Co.bind(null,Xa,e),[r.memoizedState,e]},useRef:go,useState:fo,useDebugValue:Ao,useDeferredValue:function(e){var t=fo(e),n=t[0],r=t[1];return ko((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=fo(!1),t=e[0];return go(e=Po.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ao();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Ha){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Wr++).toString(36))),Error(o(355))})),n=fo(t)[1];return!(2&Xa.mode)&&(Xa.flags|=516,mo(5,(function(){n("r:"+(Wr++).toString(36))}),void 0,null)),t}return fo(t="r:"+(Wr++).toString(36)),t},unstable_isNewReconciler:!1},To={readContext:ia,useCallback:_o,useContext:ia,useEffect:wo,useImperativeHandle:Eo,useLayoutEffect:xo,useMemo:Do,useReducer:lo,useRef:yo,useState:function(){return lo(so)},useDebugValue:Ao,useDeferredValue:function(e){var t=lo(so),n=t[0],r=t[1];return wo((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=lo(so)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(so)[0]},unstable_isNewReconciler:!1},Fo={readContext:ia,useCallback:_o,useContext:ia,useEffect:wo,useImperativeHandle:Eo,useLayoutEffect:xo,useMemo:Do,useReducer:uo,useRef:yo,useState:function(){return uo(so)},useDebugValue:Ao,useDeferredValue:function(e){var t=uo(so),n=t[0],r=t[1];return wo((function(){var t=Ga.transition;Ga.transition=1;try{r(e)}finally{Ga.transition=t}}),[e]),n},useTransition:function(){var e=uo(so)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return uo(so)[0]},unstable_isNewReconciler:!1},Bo=w.ReactCurrentOwner,No=!1;function Io(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Ea(t,e.child,n,r)}function Mo(e,t,n,r,i){n=n.render;var a=t.ref;return ra(t,i),r=io(e,t,n,r,a,i),null===e||No?(t.flags|=1,Io(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||zl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ho(e,t,o,r,i,a))}return o=e.child,i&a||(i=o.memoizedProps,!(n=null!==(n=n.compare)?n:cr)(i,r)||e.ref!==t.ref)?(t.flags|=1,(e=Ul(o,r)).ref=t.ref,e.return=t,t.child=e):ns(e,t,a)}function Ho(e,t,n,r,i,a){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(No=!1,!(a&i))return t.lanes=e.lanes,ns(e,t,a);16384&e.flags&&(No=!0)}return zo(e,t,n,r,a)}function Lo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(0,e),null;t.memoizedState={baseLanes:0},bl(0,null!==a?a.baseLanes:n)}else t.memoizedState={baseLanes:0},bl(0,n);else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bl(0,r);return Io(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zo(e,t,n,r,i){var a=mi(n)?di:hi.current;return a=fi(t,a),ra(t,i),n=io(e,t,n,r,a,i),null===e||No?(t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Uo(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ra(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?ia(u):fi(t,u=mi(n)?di:hi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&va(t,o,r,u),aa=!1;var p=t.memoizedState;o.state=p,ha(t,r,o,i),l=t.memoizedState,s!==r||p!==l||pi.current||aa?("function"==typeof c&&(fa(t,n,c,r),l=t.memoizedState),(s=aa||ga(t,n,s,r,p,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,sa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Gi(t.type,s),o.props=u,h=t.pendingProps,p=o.context,l="object"==typeof(l=n.contextType)&&null!==l?ia(l):fi(t,l=mi(n)?di:hi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==h||p!==l)&&va(t,o,r,l),aa=!1,p=t.memoizedState,o.state=p,ha(t,r,o,i);var f=t.memoizedState;s!==h||p!==f||pi.current||aa?("function"==typeof d&&(fa(t,n,d,r),f=t.memoizedState),(u=aa||ga(t,n,u,r,p,f,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){qo(e,t);var o=!!(64&t.flags);if(!r&&!o)return i&&ki(t,n,!1),ns(e,t,a);r=t.stateNode,Bo.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Io(e,t,s,a),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Oa(e,t.containerInfo)}var Yo,$o,Wo,Go,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Na.current,o=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ui(Na,1&a),null===e?(void 0!==i.fallback&&za(t),e=i.children,a=i.fallback,o?(e=Qo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"==typeof i.unstable_expectedLoadTime?(e=Qo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 2&a||t.child===o?n=Ul(o,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=Ul(e,r):(r=Kl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Ul(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Qo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},2&i||null===a?a=Yl(t,i,0,null):(a.childLanes=0,a.pendingProps=t),n=Kl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),na(e.return,t)}function es(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Io(e,t,r.children,n),2&(r=Na.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Na,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ul(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ul(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Ha)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Ta(),li(pi),li(hi),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),$o(t),null;case 5:Ba(t);var a=Ra(Ca.current);if(n=t.type,null!==e&&null!=t.stateNode)Wo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Da.current),Va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Xr]=s,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Pr(Er[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":le(r,s),Pr("invalid",r)}for(var u in Se(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"==typeof a?r.textContent!==a&&(e=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&Pr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===he.html&&(e=pe(n)),e===he.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Yo(e,t,!1,!1),t.stateNode=e,u=Ee(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),a=r;break;case"iframe":case"object":case"embed":Pr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Pr(Er[a],e);a=r;break;case"source":Pr("error",e),a=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),a=r;break;case"details":Pr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Pr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":le(e,r),a=se(e,r),Pr("invalid",e);break;default:a=r}Se(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Pr("scroll",e):null!=h&&k(e,s,h,u))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Go(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Ca.current),Ra(Da.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Na),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Na.current?0===Ns&&(Ns=3):(0!==Ns&&3!==Ns||(Ns=4),null===Rs||!(134217727&js)&&!(134217727&Hs)||ml(Rs,Ts))),(r||n)&&(t.flags|=4),null);case 4:return Ta(),$o(t),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ta(t),null;case 19:if(li(Na),null===(r=t.memoizedState))return null;if(s=!!(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ns||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(u=Ia(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Na,1&Na.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Us&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ia(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Ha)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Us&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Na.current,ui(Na,s?1&t|2:1&t),n):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ta(),li(pi),li(hi),$a(),64&(t=e.flags))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ba(e),null;case 13:return li(Na),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Na),null;case 4:return Ta(),null;case 10:return ta(e),null;case 23:case 24:return kl(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(){},Wo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Da.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(h in Se(n,r),n=null,a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var u=a[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=a?a[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Pr("scroll",e),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===N?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Go=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Ws=r),ss(0,t)},n}function cs(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"==typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ml(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,4&(i=i.tag)&&1&i&&(Bl(n,e),Fl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(o(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(xi&&"function"==typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(4&r)Bl(t,n);else{r=t;try{i()}catch(e){Ml(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ps(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ml(t,e)}break;case 5:ps(t);break;case 4:xs(e,t)}}function ys(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ks(e,n,t):ws(e,n,t)}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(gs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?we(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ye(n,l):k(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=qi(),ms(t.child,!0)),void Es(t);case 19:return void Es(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var _s=Math.ceil,Ds=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Cs=0,Rs=null,Os=null,Ts=0,Fs=0,Bs=si(0),Ns=0,Is=null,Ms=0,js=0,Hs=0,Ls=0,qs=null,zs=0,Us=1/0;function Vs(){Us=qi()+500}var Ks,Ys=null,$s=!1,Ws=null,Gs=null,Js=!1,Xs=null,Qs=90,Zs=[],el=[],tl=null,nl=0,rl=null,il=-1,al=0,ol=0,sl=null,ll=!1;function ul(){return 48&Cs?qi():-1!==il?il:il=qi()}function cl(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===zi()?1:2;if(0===al&&(al=Ms),0!==Wi.transition){0!==ol&&(ol=null!==qs?qs.pendingLanes:0),e=al;var t=4186112&~ol;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=jt(4&Cs&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al)}function hl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(o(185));if(null===(e=pl(e,t)))return null;qt(e,t,n),e===Rs&&(Hs|=t,4===Ns&&ml(e,Ts));var r=zi();1===t?8&Cs&&!(48&Cs)?gl(e):(dl(e,n),0===Cs&&(Vs(),Yi())):(!(4&Cs)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),dl(e,n)),qs=e}function pl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function dl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-zt(s),u=1<<l,c=a[l];if(-1===c){if(!(u&r)||u&i){c=t,Nt(u);var h=Bt;a[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=It(e,e===Rs?Ts:0),t=Bt,0===r)null!==n&&(n!==Ni&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&Ai(n)}15===t?(n=gl.bind(null,e),null===Mi?(Mi=[n],ji=Ei(Ri,$i)):Mi.push(n),n=Ni):14===t?n=Ki(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,fl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function fl(e){if(il=-1,ol=al=0,48&Cs)throw Error(o(327));var t=e.callbackNode;if(Tl()&&e.callbackNode!==t)return null;var n=It(e,e===Rs?Ts:0);if(0===n)return null;var r=n,i=Cs;Cs|=16;var a=Sl();for(Rs===e&&Ts===r||(Vs(),wl(e,r));;)try{_l();break}catch(t){xl(e,t)}if(ea(),Ds.current=a,Cs=i,null!==Os?r=0:(Rs=null,Ts=0,r=Ns),Ms&Hs)wl(e,0);else if(0!==r){if(2===r&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Mt(e))&&(r=El(e,n))),1===r)throw t=Is,wl(e,0),ml(e,n),dl(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Cl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=zs+500-qi())){if(0!==It(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ur(Cl.bind(null,e),r);break}Cl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_s(n/1960))-n)){e.timeoutHandle=Ur(Cl.bind(null,e),n);break}Cl(e);break;default:throw Error(o(329))}}return dl(e,qi()),e.callbackNode===t?fl.bind(null,e):null}function ml(e,t){for(t&=~Ls,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(48&Cs)throw Error(o(327));if(Tl(),e===Rs&&e.expiredLanes&Ts){var t=Ts,n=El(e,t);Ms&Hs&&(n=El(e,t=It(e,t)))}else n=El(e,t=It(e,0));if(0!==e.tag&&2===n&&(Cs|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Mt(e))&&(n=El(e,t))),1===n)throw n=Is,wl(e,0),ml(e,t),dl(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e),dl(e,qi()),null}function yl(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Vs(),Yi())}}function vl(e,t){var n=Cs;Cs&=-2,Cs|=8;try{return e(t)}finally{0===(Cs=n)&&(Vs(),Yi())}}function bl(e,t){ui(Bs,Fs),Fs|=t,Ms|=t}function kl(){Fs=Bs.current,li(Bs)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Ta(),li(pi),li(hi),$a();break;case 5:Ba(r);break;case 4:Ta();break;case 13:case 19:li(Na);break;case 10:ta(r);break;case 23:case 24:kl()}n=n.return}Rs=e,Os=Ul(e.current,null),Ts=Fs=Ms=t,Ns=0,Is=null,Ls=Hs=js=0}function xl(e,t){for(;;){var n=Os;try{if(ea(),Wa.current=Ro,eo){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}eo=!1}if(Ja=0,Za=Qa=Xa=null,to=!1,Ps.current=null,null===n||null===n.return){Ns=1,Is=t,Os=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Ts,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(!(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=!!(1&Na.current),p=o;do{var d;if(d=13===p.tag){var f=p.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var m=p.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=p.updateQueue;if(null===g){var y=new Set;y.add(u),p.updateQueue=y}else g.add(u);if(!(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=la(-1,1);v.tag=2,ua(s,v)}s.lanes|=1;break e}l=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new ls,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var k=jl.bind(null,a,u,s);u.then(k,k)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error(($(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ns&&(Ns=2),l=os(l,s),p=o;do{switch(p.tag){case 3:a=l,p.flags|=4096,t&=-t,p.lanes|=t,ca(p,us(0,a,t));break e;case 1:a=l;var w=p.type,x=p.stateNode;if(!(64&p.flags||"function"!=typeof w.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Gs&&Gs.has(x)))){p.flags|=4096,t&=-t,p.lanes|=t,ca(p,cs(p,a,t));break e}}p=p.return}while(null!==p)}Pl(n)}catch(e){t=e,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function Sl(){var e=Ds.current;return Ds.current=Ro,null===e?Ro:e}function El(e,t){var n=Cs;Cs|=16;var r=Sl();for(Rs===e&&Ts===t||wl(e,t);;)try{Al();break}catch(t){xl(e,t)}if(ea(),Cs=n,Ds.current=r,null!==Os)throw Error(o(261));return Rs=null,Ts=0,Ns}function Al(){for(;null!==Os;)Dl(Os)}function _l(){for(;null!==Os&&!_i();)Dl(Os)}function Dl(e){var t=Ks(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?Pl(e):Os=t,Ps.current=null}function Pl(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=as(t)))return n.flags&=2047,void(Os=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=is(n,t,Fs)))return void(Os=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Fs||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ns&&(Ns=5)}function Cl(e){var t=zi();return Vi(99,Rl.bind(null,e,t)),null}function Rl(e,t){do{Tl()}while(null!==Xs);if(48&Cs)throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-zt(a),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==tl&&!(24&r)&&tl.has(e)&&tl.delete(e),e===Rs&&(Os=Rs=null,Ts=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Cs,Cs|=32,Ps.current=null,Hr=$t,mr(s=fr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,p=-1,d=-1,f=0,m=0,g=s,y=null;t:for(;;){for(var v;g!==l||0!==a&&3!==g.nodeType||(p=h+a),g!==u||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===s)break t;if(y===l&&++f===a&&(p=h),y===u&&++m===c&&(d=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===p||-1===d?null:{start:p,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Lr={focusedElem:s,selectionRange:l},$t=!1,sl=null,ll=!1,Ys=r;do{try{Ol()}catch(e){if(null===Ys)throw Error(o(330));Ml(Ys,e),Ys=Ys.nextEffect}}while(null!==Ys);sl=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&ye(Ys.stateNode,""),128&b){var k=Ys.alternate;if(null!==k){var w=k.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Ys),Ys.flags&=-3;break;case 6:bs(Ys),Ys.flags&=-3,Ss(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ss(Ys.alternate,Ys);break;case 4:Ss(Ys.alternate,Ys);break;case 8:xs(s,l=Ys);var x=l.alternate;ys(l),null!==x&&ys(x)}Ys=Ys.nextEffect}}catch(e){if(null===Ys)throw Error(o(330));Ml(Ys,e),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Lr,k=fr(),b=w.focusedElem,s=w.selectionRange,k!==b&&b&&b.ownerDocument&&dr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(k=s.start,void 0===(w=s.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,x=Math.min(s.start,l),s=void 0===s.end?x:Math.min(s.end,l),!w.extend&&x>s&&(l=s,s=x,x=l),l=pr(b,x),a=pr(b,s),l&&a&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>s?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Hr,Lr=Hr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var S=Ys.flags;if(36&S&&fs(b,Ys.alternate,Ys),128&S){k=void 0;var E=Ys.ref;if(null!==E){var A=Ys.stateNode;Ys.tag,k=A,"function"==typeof E?E(k):E.current=k}}Ys=Ys.nextEffect}}catch(e){if(null===Ys)throw Error(o(330));Ml(Ys,e),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ii(),Cs=i}else e.current=n;if(Js)Js=!1,Xs=e,Qs=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((S=Ys).sibling=null,S.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,xi&&"function"==typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(wi,n,void 0,!(64&~n.current.flags))}catch(e){}if(dl(e,qi()),$s)throw $s=!1,e=Ws,Ws=null,e;return 8&Cs||Yi(),null}function Ol(){for(;null!==Ys;){var e=Ys.alternate;ll||null===sl||(8&Ys.flags?Qe(Ys,sl)&&(ll=!0):13===Ys.tag&&As(e,Ys)&&Qe(Ys,sl)&&(ll=!0));var t=Ys.flags;256&t&&ds(e,Ys),!(512&t)||Js||(Js=!0,Ki(97,(function(){return Tl(),null}))),Ys=Ys.nextEffect}}function Tl(){if(90!==Qs){var e=97<Qs?97:Qs;return Qs=90,Vi(e,Nl)}return!1}function Fl(e,t){Zs.push(t,e),Js||(Js=!0,Ki(97,(function(){return Tl(),null})))}function Bl(e,t){el.push(t,e),Js||(Js=!0,Ki(97,(function(){return Tl(),null})))}function Nl(){if(null===Xs)return!1;var e=Xs;if(Xs=null,48&Cs)throw Error(o(331));var t=Cs;Cs|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(o(330));Ml(a,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===a)throw Error(o(330));Ml(a,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Cs=t,Yi(),!0}function Il(e,t,n){ua(e,t=us(0,t=os(n,t),1)),t=ul(),null!==(e=pl(e,1))&&(qt(e,1,t),dl(e,t))}function Ml(e,t){if(3===e.tag)Il(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Il(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=cs(n,e=os(t,e),1);if(ua(n,i),i=ul(),null!==(n=pl(n,1)))qt(n,1,i),dl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function jl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ts&n)===n&&(4===Ns||3===Ns&&(62914560&Ts)===Ts&&500>qi()-zs?wl(e,0):Ls|=n),dl(e,t)}function Hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===al&&(al=Ms),0===(t=Ht(62914560&~al))&&(t=4194304)):t=99===zi()?1:2:t=1),n=ul(),null!==(e=pl(e,t))&&(qt(e,t,n),dl(e,n))}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new Ll(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ul(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)zl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case E:return Kl(n.children,i,a,t);case I:s=8,i|=16;break;case A:s=8,i|=1;break;case _:return(e=ql(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case R:return(e=ql(13,n,t,i)).type=R,e.elementType=R,e.lanes=a,e;case O:return(e=ql(19,n,t,i)).elementType=O,e.lanes=a,e;case M:return Yl(n,i,a,t);case j:return(e=ql(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case D:s=10;break e;case P:s=9;break e;case C:s=11;break e;case T:s=14;break e;case F:s=16,r=null;break e;case B:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ql(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Kl(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Yl(e,t,n,r){return(e=ql(23,e,r,t)).elementType=M,e.lanes=n,e}function $l(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Wl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Lt(0),this.expirationTimes=Lt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,r){var i=t.current,a=ul(),s=cl(i);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=vi(n,u,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ua(i,t),hl(i,s,a),s}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zl(e,t){Ql(e,t),(e=e.alternate)&&Ql(e,t)}function eu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oa(t),e[Qr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xl(o);s.call(e)}}Jl(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new eu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Xl(o);l.call(e)}}vl((function(){Jl(t,o,e,i)}))}return Xl(o)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)No=!0;else{if(!(n&r)){switch(No=!1,t.tag){case 3:Ko(t),Ka();break;case 5:Fa(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Xo(e,t,n):(ui(Na,1&Na.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(Na,1&Na.current);break;case 19:if(r=!!(n&t.childLanes),64&e.flags){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Na,Na.current),r)break;return null;case 23:case 24:return t.lanes=0,Lo(e,t,n)}return ns(e,t,n)}No=!!(16384&e.flags)}else No=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,hi.current),ra(t,n),i=io(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oa(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fa(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,Io(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(i),e=Gi(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=Uo(null,t,i,e,n);break e;case 11:t=Mo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Gi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,sa(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=ns(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Yr(t.stateNode.containerInfo.firstChild),Ma=t,a=Ha=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=Aa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Io(e,t,r,n),Ka();t=t.child}return t;case 5:return Fa(t),null===e&&za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==a&&zr(r,a)&&(t.flags|=16),qo(e,t),Io(e,t,s,n),t.child;case 6:return null===e&&za(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(ui(Ji,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0==(a=lr(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!pi.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&c.observedBits&a){1===l.tag&&((c=la(-1,n&-n)).tag=2,ua(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),na(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ra(t,n),r=r(i=ia(i,a.unstable_observedBits)),t.flags|=1,Io(e,t,r,n),t.child;case 14:return a=Gi(i=t.type,t.pendingProps),jo(e,t,i,a=Gi(i.type,a),r,n);case 15:return Ho(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ra(t,n),ya(t,r,i),ba(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Lo(e,t,n)}throw Error(o(156,t.tag))},eu.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},eu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Qr]=null}))},Ze=function(e){13===e.tag&&(hl(e,4,ul()),Zl(e,4))},et=function(e){13===e.tag&&(hl(e,67108864,ul()),Zl(e,67108864))},tt=function(e){if(13===e.tag){var t=ul(),n=cl(e);hl(e,n,t),Zl(e,n)}},nt=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ri(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Te=yl,Fe=function(e,t,n,r,i){var a=Cs;Cs|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Cs=a)&&(Vs(),Yi())}},Be=function(){!(49&Cs)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,dl(e,qi())}))}Yi()}(),Tl())},Ne=function(e,t){var n=Cs;Cs|=2;try{return e(t)}finally{0===(Cs=n)&&(Vs(),Yi())}};var ru={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=function(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{wi=au.inject(iu),xi=au}catch(me){}}t.render=function(e,t,n){if(!tu(t))throw Error(o(200));return nu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!tu(e))throw Error(o(40));return!!e._reactRootContainer&&(vl((function(){nu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=yl},8568:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4392)},1808:(e,t,n)=>{"use strict";var r=n(3865),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,r(b,g.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:k.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var A=/\/+/g;function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return o=o(l=e),e=""===r?"."+_(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),D(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+_(s=e[u],u);l+=D(s,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=D(s=s.value,t,n,c=r+_(s,u++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function O(){var e=R.current;if(null===e)throw Error(d(321));return e}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];a.children=u}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},8281:(e,t,n)=>{"use strict";e.exports=n(1808)},5160:(e,t)=>{"use strict";var n,r,i,a;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},r=function(e,n){y=p((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>A(o,n))void 0!==l&&0>A(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>A(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],D=[],P=1,C=null,R=3,O=!1,T=!1,F=!1;function B(e){for(var t=S(D);null!==t;){if(null===t.callback)E(D);else{if(!(t.startTime<=e))break;E(D),t.sortIndex=t.expirationTime,x(_,t)}t=S(D)}}function N(e){if(F=!1,B(e),!T)if(null!==S(_))T=!0,n(I);else{var t=S(D);null!==t&&r(N,t.startTime-e)}}function I(e,n){T=!1,F&&(F=!1,i()),O=!0;var a=R;try{for(B(n),C=S(_);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"==typeof o){C.callback=null,R=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?C.callback=s:C===S(_)&&E(_),B(n)}else E(_);C=S(_)}if(null!==C)var l=!0;else{var u=S(D);null!==u&&r(N,u.startTime-n),l=!1}return l}finally{C=null,R=a,O=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){T||O||(T=!0,n(I))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return S(_)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:P++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(e.sortIndex=o,x(D,e),null===S(_)&&e===S(D)&&(F?i():F=!0,r(N,o-s))):(e.sortIndex=l,x(_,e),T||O||(T=!0,n(I))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},9551:(e,t,n)=>{"use strict";e.exports=n(5160)},6205:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,"@keyframes BQ17ZrvUvJv2EmJ3xR4q {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-40px);\n    opacity: 0;\n  }\n}\n.kIJ6MxYKO3zbd_X1kUvz {\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  border: solid 1px #fff;\n  top: 45%;\n  left: 20%;\n  right: 20%;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  pointer-events: none;\n  animation-duration: 1.5s;\n  animation-iteration-count: 1;\n  animation-name: BQ17ZrvUvJv2EmJ3xR4q;\n}\n.LD93Xy2x2YUm6VOT5wRj {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.gjny_zLz_aeH26Ga7GUS {\n  border-radius: 4px;\n  margin: 0 40px;\n  padding: 12px 20px 0;\n  background-color: #fff;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  min-width: 200px;\n}\n.OphXouP8zk6xgCSE603z {\n  text-align: center;\n  font-weight: 600;\n  font-size: 16px;\n  margin-bottom: 8px;\n}\n.he06bAr41RZxeiz_S4Ab {\n  font-size: 14px;\n  margin-bottom: 4px;\n  text-align: center;\n  white-space: pre-line;\n}\n.YjnFWqThaMPBxSydSG1m {\n  margin-top: 8px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  border-top: solid 1px #ccc;\n  margin-left: -20px;\n  margin-right: -20px;\n}\n.YjnFWqThaMPBxSydSG1m > button + button {\n  margin-left: 8px;\n}\n.aJ251UwDdgth0PLrpJog {\n  flex: 1;\n  color: #218bff;\n  line-height: 48px;\n  height: 48px;\n  text-align: center;\n}\n",""]),o.locals={toast:"kIJ6MxYKO3zbd_X1kUvz",fadeout:"BQ17ZrvUvJv2EmJ3xR4q",mask:"LD93Xy2x2YUm6VOT5wRj",modal:"gjny_zLz_aeH26Ga7GUS",title:"OphXouP8zk6xgCSE603z",message:"he06bAr41RZxeiz_S4Ab",buttonList:"YjnFWqThaMPBxSydSG1m",button:"aJ251UwDdgth0PLrpJog"};const s=o},8451:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".I9SLBnA0mre92xxMM54e {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n}\n",""]),o.locals={root:"I9SLBnA0mre92xxMM54e"};const s=o},5041:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".HcdjZ8BSHyDkKnHMhPiv {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.xPtMPc5p8Rf7RyOnk3BL {\n  padding: 4px 12px;\n  font-size: 14px;\n  border-radius: 24px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: white;\n  pointer-events: all;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n.xPtMPc5p8Rf7RyOnk3BL.LFfGKQlWXeXCNwjQVhtq {\n  opacity: 1;\n}\n",""]),o.locals={root:"HcdjZ8BSHyDkKnHMhPiv",container:"xPtMPc5p8Rf7RyOnk3BL",visible:"LFfGKQlWXeXCNwjQVhtq"};const s=o},9982:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".KczqvVkYkfEtfukRRkMO {\n  flex-direction: row;\n  height: 5px;\n}\n.YCYifLjfImTPCYLav4q4 {\n  flex: 1;\n  justify-content: 'center';\n  padding: 0 1px;\n}\n.oEPOsv7EHQlcZOeaJ40r {\n  flex: 1;\n}\n",""]),o.locals={container:"KczqvVkYkfEtfukRRkMO",content:"YCYifLjfImTPCYLav4q4",point:"oEPOsv7EHQlcZOeaJ40r"};const s=o},1062:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".dY2ogKWrE7BLEd7UQca6 {\n  height: 2px;\n  border-radius: 1px;\n  margin: 2px 0;\n  flex-direction: row;\n}\n.J50pX9okEF_o5wwJjynE {\n  height: 2px;\n  border-radius: 1px;\n}\n",""]),o.locals={container:"dY2ogKWrE7BLEd7UQca6",round:"J50pX9okEF_o5wwJjynE"};const s=o},2856:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".F8xFKd2hNJvII5GjnTtn {\n  background: rgba(255, 255, 255, 0.2);\n  color: #fff;\n  border: solid 1px #fff;\n  padding: 2px 4px;\n  cursor: pointer;\n  margin: 4px 0;\n  outline: none;\n  border-radius: 4px;\n  -webkit-tap-highlight-color: transparent;\n  flex-shrink: 0;\n}\n.F8xFKd2hNJvII5GjnTtn:active,\n.F8xFKd2hNJvII5GjnTtn:focus {\n  background: rgba(255, 255, 255, 0.4);\n}\n.F8xFKd2hNJvII5GjnTtn[disabled] {\n  opacity: 0.5;\n}\n.F8xFKd2hNJvII5GjnTtn[disabled]:active,\n.F8xFKd2hNJvII5GjnTtn[disabled]:focus {\n  background: rgba(255, 255, 255, 0.2);\n}\n.F8xFKd2hNJvII5GjnTtn.IlguGvvtNpDTzPOPVkn8 {\n  padding: 4px 8px;\n  margin: 6px 0;\n}\n.lORCJ6lVACUYhdkg5FEx {\n  border: solid 1px #aaaaff;\n  background: rgba(170, 170, 255, 0.2);\n}\n.GH97eGTbRwlHEuLOuWSQ {\n  border: solid 1px #ffaaaa;\n  background: rgba(255, 170, 170, 0.2);\n}\n.GH97eGTbRwlHEuLOuWSQ:active,\n.GH97eGTbRwlHEuLOuWSQ:focus {\n  background: rgba(255, 170, 170, 0.4);\n}\n.XzcKDKEC29X4nYvUZ4M3 {\n  background: transparent;\n  border-style: dashed;\n}\n",""]),o.locals={button:"F8xFKd2hNJvII5GjnTtn",large:"IlguGvvtNpDTzPOPVkn8",primary:"lORCJ6lVACUYhdkg5FEx",error:"GH97eGTbRwlHEuLOuWSQ",ghost:"XzcKDKEC29X4nYvUZ4M3"};const s=o},5399:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".GUrN_PBSetaMNJHSjM0h {\n  position: relative;\n  display: block;\n}\n.GUrN_PBSetaMNJHSjM0h > .GUrN_PBSetaMNJHSjM0h {\n  display: inline;\n}\n.ntqV2eUALSHU0QUCgxfF {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  /* number of lines to show */\n  line-clamp: 1;\n}\n.uDkPMxmBF1S317oI5sS0 {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  /* number of lines to show */\n  line-clamp: 2;\n}\n.BE_hiYF3oZllDWsczHXw {\n  display: flex;\n  position: relative;\n}\n.J9v_FsVYuCam9sxs_Luu {\n  position: relative;\n  display: flex;\n  opacity: 1;\n  transition: opacity 0.3s;\n  cursor: pointer;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n  -webkit-user-select: none;\n  -webkit-touch-callout: none;\n}\n.J9v_FsVYuCam9sxs_Luu.QlXokyqN4lRuJm2AJ95j:active {\n  opacity: 1;\n}\n.J9v_FsVYuCam9sxs_Luu:active {\n  opacity: 0.7;\n}\n.FqdF61nBU7urKUqPV8rW {\n  overflow-y: scroll;\n  flex: 1;\n}\n.chlbG5_ihBUNgqYuFsDh {\n  display: flex;\n  flex-direction: column;\n}\n.OZUnEBYmfTIxNeAksrQL {\n  overflow-x: scroll;\n  flex: 1;\n}\n.by81FUdqNnJlih2xUzDz {\n  display: flex;\n  flex-direction: row;\n}\n.MC5vPLIHiX0_9thesQNR {\n  -webkit-overflow-scrolling: touch;\n}\n",""]),o.locals={text:"GUrN_PBSetaMNJHSjM0h",numberOfLine1:"ntqV2eUALSHU0QUCgxfF",numberOfLine2:"uDkPMxmBF1S317oI5sS0",view:"BE_hiYF3oZllDWsczHXw",touchable:"J9v_FsVYuCam9sxs_Luu",disabled:"QlXokyqN4lRuJm2AJ95j",scrollView:"FqdF61nBU7urKUqPV8rW",scrollViewContent:"chlbG5_ihBUNgqYuFsDh",scrollViewH:"OZUnEBYmfTIxNeAksrQL",scrollViewContentH:"by81FUdqNnJlih2xUzDz",bounce:"MC5vPLIHiX0_9thesQNR"};const s=o},5316:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".BR9aSrU2wvojn_UspwXQ {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  border: solid 1px #ddd;\n  border-radius: 2px;\n  padding: 0;\n}\n.vKbl_sDw_IrE_lpHRbfG {\n  flex: 1 1 0;\n  margin: 2px 4px;\n  height: 26px;\n  background-color: transparent;\n  border: none;\n  color: #000;\n  outline: none;\n}\n.vKbl_sDw_IrE_lpHRbfG::placeholder {\n  color: #999;\n}\n.j5vKXZLWnl4Y45QQgwiW {\n  flex: 1 1 0;\n  margin: 2px 4px;\n  min-height: 124px;\n  background-color: transparent;\n  border: none;\n  color: #fff;\n  outline: none;\n}\n.j5vKXZLWnl4Y45QQgwiW::placeholder {\n  color: #999;\n}\n.u_cytOjWUQTsPjDgdFq1 {\n  text-align: center;\n}\n.PhGwne7K6Jw3GhjBBuJh {\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  line-height: 30px;\n  color: #000;\n  margin: 0 !important;\n  border: solid 1px #999 !important;\n  border-radius: 5px !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.hDUaqwJswV87ZOWBkiBr {\n  width: 30px;\n  height: 30px;\n  font-size: 30px;\n  line-height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n}\n.hDUaqwJswV87ZOWBkiBr.kp8e1S10nrhxzueWuBMX {\n  color: #555;\n}\n",""]),o.locals={container:"BR9aSrU2wvojn_UspwXQ",input:"vKbl_sDw_IrE_lpHRbfG",textArea:"j5vKXZLWnl4Y45QQgwiW",inputNum:"u_cytOjWUQTsPjDgdFq1",btn:"PhGwne7K6Jw3GhjBBuJh",clear:"hDUaqwJswV87ZOWBkiBr",disabled:"kp8e1S10nrhxzueWuBMX"};const s=o},8297:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".vcYAEXhz37cMc9v0IMb5 {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  overflow: hidden;\n}\n.z3raWKG05xRLXh9vp3de {\n  display: flex;\n  flex-direction: row;\n}\n.aC2QGVrnWSC0zks2YaEK {\n  flex: 1;\n  border-bottom: solid 2px transparent;\n  height: 32px;\n  line-height: 32px;\n  padding: 2px 10px;\n  text-align: center;\n}\n.aC2QGVrnWSC0zks2YaEK.z2x5M2q73yKJQp4Ha7UE {\n  border-color: blue;\n  color: blue;\n}\n.BR3W4DCNPJwpo6o0st8r {\n  display: flex;\n  flex-direction: row;\n  transition: transform 0.3s;\n  overflow: visible;\n  flex: 1;\n  height: 0;\n}\n.KutF8ovoRzrkZm93sopp {\n  min-width: 100vw;\n  display: flex;\n  flex: 1;\n}\n",""]),o.locals={root:"vcYAEXhz37cMc9v0IMb5",tabs:"z3raWKG05xRLXh9vp3de",tab:"aC2QGVrnWSC0zks2YaEK",active:"z2x5M2q73yKJQp4Ha7UE",container:"BR3W4DCNPJwpo6o0st8r",content:"KutF8ovoRzrkZm93sopp"};const s=o},6626:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,"html,\nbody {\n  height: 100%;\n  margin: 0;\n}\n.AS56vztoR2wAn3uZJJpB {\n  height: 100%;\n  display: flex;\n}\n* {\n  flex-direction: column;\n  overflow: hidden;\n}\n*::-webkit-scrollbar {\n  display: none;\n}\n",""]),o.locals={root:"AS56vztoR2wAn3uZJJpB"};const s=o},5975:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".OnAJoPhHctIqKSwtUgyG {\n  font-weight: 600;\n  font-size: 15px;\n}\n.Oagme2GLld1hqmV3_BgB {\n  color: #fb2400;\n}\n.sw7Af6SUNSkasF9htnZV {\n  color: #0005ff;\n}\n.vrBiDdN70Mnq4UT8lVWt {\n  color: #3eec2f;\n}\n.QfOgA3RqBoI6_j8Kekey {\n  color: #7799ff;\n}\n",""]),o.locals={crit:"OnAJoPhHctIqKSwtUgyG",campPlayer:"Oagme2GLld1hqmV3_BgB",campOther:"sw7Af6SUNSkasF9htnZV",recovery:"vrBiDdN70Mnq4UT8lVWt",rebornIn:"QfOgA3RqBoI6_j8Kekey"};const s=o},3107:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".oYvitkkO_9PoObljFu3y {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n.DaaOIDznZWlUa_V94ok_ {\n  height: 44px;\n  background-color: blue;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 70px;\n}\n.SwHr84JFeTOIEua4KFDT {\n  color: white;\n  font-size: 20px;\n}\n.oUBVbdRrJcyBBOD7Co0D {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  padding: 0 15px;\n  justify-content: center;\n  align-items: center;\n}\n.rPU8rXKgQAFk4gW9k3iK {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding: 0 15px;\n  justify-content: center;\n  align-items: center;\n}\n.JRm_WkUBrS2LaUjpgznH {\n  color: white;\n  font-size: 15;\n}\n",""]),o.locals={container:"oYvitkkO_9PoObljFu3y",navBar:"DaaOIDznZWlUa_V94ok_",title:"SwHr84JFeTOIEua4KFDT",left:"oUBVbdRrJcyBBOD7Co0D",right:"rPU8rXKgQAFk4gW9k3iK",button:"JRm_WkUBrS2LaUjpgznH"};const s=o},8874:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".Yj51uh_Zg2h5cAkpsR2X {\n  flex: 1;\n  background-color: white;\n}\n.wBtYblyx3184SjlT4fYU {\n  border-bottom: solid 1px #999;\n  flex-direction: row;\n  align-items: center;\n  height: 80px;\n}\n.fxcOLzi9rwjlAni2jIpF {\n  flex: 3;\n}\n.j3ZxRh2gkyV9ctCOltFP {\n  font-size: 18px;\n  text-align: center;\n  flex: 1.5;\n}\n.okkfwBe8ajWBFt6nVZH0 {\n  font-size: 14px;\n}\n.jRSzeVzwbO7fz7yTeCtP {\n  font-size: 12px;\n}\n.mY0MZjSfQHlb5ykJs6q4 {\n  justify-content: center;\n  align-items: center;\n}\n._k37EcYPtChDDVdVuhck {\n  font-size: 14px;\n  text-decoration-line: line-through;\n  color: #999;\n}\n",""]),o.locals={container:"Yj51uh_Zg2h5cAkpsR2X",item:"wBtYblyx3184SjlT4fYU",column:"fxcOLzi9rwjlAni2jIpF",title:"j3ZxRh2gkyV9ctCOltFP",price:"okkfwBe8ajWBFt6nVZH0",desc:"jRSzeVzwbO7fz7yTeCtP",center:"mY0MZjSfQHlb5ykJs6q4",deleteLine:"_k37EcYPtChDDVdVuhck"};const s=o},9998:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".pq5Zgxh7J2vcs5ZePuL5 {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n}\n",""]),o.locals={container:"pq5Zgxh7J2vcs5ZePuL5"};const s=o},6181:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".xF0vW43UbdBIIrNZuAqd {\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  padding-bottom: calc(60px + constant(safe-area-inset-bottom));\n  padding-bottom: calc(60px + env(safe-area-inset-bottom));\n}\n.iL1ZX8ZyQSH1QqwVE7_M {\n  flex: 1;\n}\n.B6I8h02h2FsM93coMmvi {\n  position: fixed;\n  flex-direction: row;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n  border-top: solid 1px #ccc;\n  background-color: white;\n}\n.jI6ardiPJhXm7dj8bYgr {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n.iRYKWIU4NYIbzCIimMJC {\n  color: blue;\n}\n",""]),o.locals={container:"xF0vW43UbdBIIrNZuAqd",content:"iL1ZX8ZyQSH1QqwVE7_M",tabBar:"B6I8h02h2FsM93coMmvi",button:"jI6ardiPJhXm7dj8bYgr",active:"iRYKWIU4NYIbzCIimMJC"};const s=o},6360:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".OrwHmvL1xvBHVT2yoHfm {\n  flex: 1;\n}\n.xTNRImjvGRVikNPWd0wf {\n  justify-content: center;\n  align-items: center;\n}\n.LioWCPWHPrW_6rBvvXLW {\n  margin-top: 20px;\n  color: blue;\n}\n._mQtQTXA9sjEMQWU6Vmt {\n  height: 180px;\n}\n",""]),o.locals={container:"OrwHmvL1xvBHVT2yoHfm",centerContainer:"xTNRImjvGRVikNPWd0wf",skipFoward:"LioWCPWHPrW_6rBvvXLW",scrollview:"_mQtQTXA9sjEMQWU6Vmt"};const s=o},549:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".iKTWzSOG_zk4MBUx8862 {\n  width: 100vw;\n  flex: 1;\n}\n.n5uxuZl61nmyq9yNt1O9 {\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n.torksx9RFo5kxRKuPn5i {\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n}\n.IbEPHlXLuwu6l5ZLmEAQ {\n  margin: 5px;\n  padding: 5px 10px;\n  border: solid 1px #000;\n  border-radius: 5px;\n}\n.kIqeXQrSY26h8JutqaOH {\n  font-size: 14px;\n}\n.RFuwqryAfOQxsRbE7fd0 {\n  border-color: blue;\n  background-color: white;\n}\n.MG5Abrq4iifloviLSTLW {\n  color: blue;\n}\n.jBO70hCSAWA1ZGj7l4zK {\n  border-color: blue;\n  background-color: blue;\n}\n.C9DExtcgMUudla4BwBqz {\n  color: white;\n}\n.iWvgROQbLcv85ERFvH2p {\n  width: 100vw;\n  padding: 5px;\n  background-color: #ddf;\n}\n.wLWKzy800Dsd9s1jQXui {\n  color: #330;\n  font-size: 16px;\n}\n.XJgLy3hzQVQTlvFJZMJq {\n  width: 100vw;\n  padding: 2px 5px;\n  flex-direction: row;\n}\n.QmaUpxaqInthXLYqSz19 {\n  width: 25px;\n}\n.q9Xq0eEhFysZtU_b2pAq {\n  font-size: 14px;\n}\n.NITO963yJWAZ5XMcGegB {\n  font-size: 12px;\n}\n",""]),o.locals={panel:"iKTWzSOG_zk4MBUx8862",panelContent:"n5uxuZl61nmyq9yNt1O9",endlessGroup:"torksx9RFo5kxRKuPn5i",option:"IbEPHlXLuwu6l5ZLmEAQ",label:"kIqeXQrSY26h8JutqaOH",optionPending:"RFuwqryAfOQxsRbE7fd0",labelPending:"MG5Abrq4iifloviLSTLW",optionActive:"jBO70hCSAWA1ZGj7l4zK",labelActive:"C9DExtcgMUudla4BwBqz",section:"iWvgROQbLcv85ERFvH2p",sectionTitle:"wLWKzy800Dsd9s1jQXui",phase:"XJgLy3hzQVQTlvFJZMJq",phaseState:"QmaUpxaqInthXLYqSz19",phaseLabel:"q9Xq0eEhFysZtU_b2pAq",cooldownCount:"NITO963yJWAZ5XMcGegB"};const s=o},1180:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".bf1FkSG2sfgndD2DVGBf {\n  width: 100vw;\n  padding: 5px;\n  flex: 1;\n}\n.cV0WUTYmS3V_jmDmEASP {\n  font-size: 18px;\n  margin-right: 20px;\n}\n.LAzplDVtaR_y5ZQLjGZk {\n  flex-direction: row;\n}\n.LclIXb3NJ5dRiHdrpwsB {\n  height: 12px;\n}\n.v7zHAE2VDhih1cvNvMz8 {\n  flex: 1;\n  flex-direction: column;\n  padding: 5px;\n  line-height: 22px;\n}\n.W7Cq22XMxe0FDg72Spvd {\n  color: 'blue';\n}\n",""]),o.locals={panel:"bf1FkSG2sfgndD2DVGBf",name:"cV0WUTYmS3V_jmDmEASP",row:"LAzplDVtaR_y5ZQLjGZk",seperator:"LclIXb3NJ5dRiHdrpwsB",column:"v7zHAE2VDhih1cvNvMz8",blue:"W7Cq22XMxe0FDg72Spvd"};const s=o},7373:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".pPcjGhL1jPxJY5AyTIeN {\n  flex: 1;\n  overflow: hidden;\n}\n.s40KJGrItX5gdLFsOOyK {\n  width: 100vw;\n  height: 180px;\n  flex: 0;\n  flex-basis: 30vh;\n}\n.zuapUy8k5ZPwDyB9xPMF {\n  flex: 1;\n}\n.uhkO5Pz1BHSV00YnMZhQ {\n  flex: 1;\n  align-self: stretch;\n}\n.ETNpGVE5wKvt2y6PrJ6A {\n  align-items: flex-start;\n  padding: 5px;\n}\n.S8V3YNBsWVBAPiKG24l9 {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.eaRwuUmuTFbz67IKqDe0 {\n  width: 20vw;\n  height: 76px;\n  padding: 5px;\n}\n.PaKxywdIshHEbVNB_4LQ {\n  background-color: #ddd;\n}\n.ijwBwF4_01OW_FGWaug1 {\n  background-color: #79f;\n}\n.FrhCnSApZs4zoFD65EdQ {\n  background-color: #acf;\n}\n.wkJwAwy19LCfu3rlt9ZG {\n  background-color: #ff0;\n}\n.T01UJpJinfDOqXuah2Om {\n  background-color: #f97;\n}\n.jyjRJnSCJQULYHh2jJAs {\n  background-color: #0ff;\n}\n._8L2zWpAFrq82FQ7FDrAf {\n  margin: 3px 0;\n}\n.QNppfy2htfv4K6AhWHwU {\n  font-size: 12px;\n}\n.e0jy8aG_A7DwdDPJSvJD {\n  font-size: 12px;\n}\n.yNhuNbeyuLitAEPghGa7 {\n  font-size: 12px;\n  text-align: center;\n}\n",""]),o.locals={container:"pPcjGhL1jPxJY5AyTIeN",panel:"s40KJGrItX5gdLFsOOyK",spacer:"zuapUy8k5ZPwDyB9xPMF",messageList:"uhkO5Pz1BHSV00YnMZhQ",content:"ETNpGVE5wKvt2y6PrJ6A",panelContent:"S8V3YNBsWVBAPiKG24l9",unit:"eaRwuUmuTFbz67IKqDe0",unitGhost:"PaKxywdIshHEbVNB_4LQ",unitPlayer:"ijwBwF4_01OW_FGWaug1",unitAlien:"FrhCnSApZs4zoFD65EdQ",unitNeutral:"wkJwAwy19LCfu3rlt9ZG",unitEnemy:"T01UJpJinfDOqXuah2Om",unitShrine:"jyjRJnSCJQULYHh2jJAs",bar:"_8L2zWpAFrq82FQ7FDrAf",target:"QNppfy2htfv4K6AhWHwU",name:"e0jy8aG_A7DwdDPJSvJD",casting:"yNhuNbeyuLitAEPghGa7"};const s=o},1723:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".vLJ8P7NAvLlAcdoz4P4Y {\n  flex: 1;\n  background-color: white;\n}\n.zUpLur_sfK62aJRqwibS {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.VAXilp1Zp3bxOuEhA9TU {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.kJv58U6fUlxCLKspbUrQ {\n  width: 150px;\n  font-size: 24px;\n}\n.GYVHw72dAG3cH11g5sDX {\n  flex: 1;\n}\n",""]),o.locals={container:"vLJ8P7NAvLlAcdoz4P4Y",careerItem:"zUpLur_sfK62aJRqwibS",main:"VAXilp1Zp3bxOuEhA9TU",name:"kJv58U6fUlxCLKspbUrQ",spacer:"GYVHw72dAG3cH11g5sDX"};const s=o},4077:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".wQi6mYG4lXcQR2aTqe8F {\n  flex: 1;\n  background-color: white;\n}\n.v91KEwpRovn8tFujtmz5 {\n  height: 100px;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n.xQzh3vqRQW0MIiyKqfIj {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.OtF4amq_iIi5ZiX_4c30 {\n  font-size: 32px;\n}\n.jt6l2_EhEhQ_QBWX7bAI {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.NeeCm2JMCVVR3Wd3fVDl {\n  background-color: #aaa;\n}\n.Sa3aCTSv8o17KUM8rO4_ {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.Xuvt0vWqEsFM4Vc7yyAg {\n  width: 290px;\n  font-size: 24px;\n}\n._e2f_l3V_K9Ft_9fj4wu {\n  flex: 1;\n}\n",""]),o.locals={container:"wQi6mYG4lXcQR2aTqe8F",selectedList:"v91KEwpRovn8tFujtmz5",selectedEnhance:"xQzh3vqRQW0MIiyKqfIj",order:"OtF4amq_iIi5ZiX_4c30",enhanceItem:"jt6l2_EhEhQ_QBWX7bAI",enhanceItemDisabled:"NeeCm2JMCVVR3Wd3fVDl",enhanceItemMain:"Sa3aCTSv8o17KUM8rO4_",enhanceName:"Xuvt0vWqEsFM4Vc7yyAg",spacer:"_e2f_l3V_K9Ft_9fj4wu"};const s=o},8945:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".SVm3rQPLuK2RwUXto5qY {\n  flex: 1;\n}\n.frUpNJ5iDM7RWKGlxlLg {\n  height: 100px;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n}\n.TzvQKJtI8LC3hGqhhEwt {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.kvGr0shV5ty4m0iXbYQt {\n  font-size: 32px;\n}\n.UYrtmruOvXX7iIn2dxZk {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n}\n.whT6E2gx9jFanHV9lvFI {\n  background-color: #aaa;\n}\n.YmwTjwvSfrulJopyTX39 {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.BrUc3SnraONQCnTmcDB5 {\n  width: 180px;\n  font-size: 24px;\n}\n.vkJVWNMaa6LvUFeETOYY {\n  margin-right: 20px;\n  white-space: pre-line;\n}\n.S6WFs2ZFNwJqOsWza6yO {\n  flex-direction: row;\n  margin-bottom: 5px;\n}\n.Mwjj5mW8d8B6u52hU3lA {\n  flex: 1;\n}\n",""]),o.locals={container:"SVm3rQPLuK2RwUXto5qY",selectedList:"frUpNJ5iDM7RWKGlxlLg",selectedSkill:"TzvQKJtI8LC3hGqhhEwt",order:"kvGr0shV5ty4m0iXbYQt",skillItem:"UYrtmruOvXX7iIn2dxZk",skillItemDisabled:"whT6E2gx9jFanHV9lvFI",skillItemMain:"YmwTjwvSfrulJopyTX39",skillName:"BrUc3SnraONQCnTmcDB5",textMargin:"vkJVWNMaa6LvUFeETOYY",row:"S6WFs2ZFNwJqOsWza6yO",spacer:"Mwjj5mW8d8B6u52hU3lA"};const s=o},762:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".MZIe90qfJKDwaOOknLTm {\n  flex: 1;\n  background-color: white;\n}\n.MAGaCmpwfW5L3y2FFfIw {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.dVmvOFrzC7kPB5UYA7Rj {\n  flex: 1;\n}\n.sV4FLeXPjIz1Z3Js6aWR {\n  flex: 2;\n}\n",""]),o.locals={container:"MZIe90qfJKDwaOOknLTm",content:"MAGaCmpwfW5L3y2FFfIw",flex1:"dVmvOFrzC7kPB5UYA7Rj",flex2:"sV4FLeXPjIz1Z3Js6aWR"};const s=o},8434:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".hVjlAO21xUsU8i1Vy0k7 {\n  flex: 1;\n}\n.dddvPnAVjEn1Lpv0FWLS {\n  flex: 1;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.CYSSVCs4WD7qCNE9fdYU {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.x6VhZhlq6RETKsey8lB8 {\n  width: 50vw;\n  height: 45px;\n}\n.tn_As1cJ__50VnqTpWaH {\n  width: 100vw;\n  height: 45px;\n}\n.fC_NHj3sGMYxx9cVJxSR {\n  margin: 5px;\n  border-width: solid 0.5px #999;\n  border-radius: 5px;\n  background-color: #aacaff;\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n}\n._L9gSDmpqvb6SWiKWClS {\n  width: 16.6vw;\n  height: 16.6vw;\n}\n._DBRCGty2nON8PgyOzqX {\n  flex: 1;\n  margin: 5px;\n  border: solid 1px #999;\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n}\n.akvqIP1pA_UAFMSIxlQ9 {\n  margin: 3px;\n  border: solid 1px blue;\n}\n.j01V48P3B313HXNt5tBp {\n  position: absolute;\n  right: 8px;\n  bottom: 8px;\n  color: blue;\n  background-color: transparent;\n}\n.C4RrusRy7_fPNmLAx00T {\n  height: 255px;\n  padding: 5px;\n}\n.CaVV5wY4nk0HLL7KVxbA {\n  font-size: 20px;\n}\n.d9VBJ0uTLEr4MIdfbgow {\n  font-size: 16px;\n}\n.spw3VuuNKstfyBFzKoNU {\n  font-size: 14px;\n}\n.uedaadHakGQ9aA3_lB92 {\n  font-size: 14px;\n}\n.AINtbOtux6MB1KjJcsCW {\n  flex-direction: row;\n  align-items: flex-end;\n}\n.HwI01OGqatQADahDs35g {\n  flex-direction: row;\n  align-items: flex-start;\n}\n._csphQsNarIMipbhmF_N {\n  flex-direction: row;\n  align-items: flex-start;\n  right: 0px;\n  top: 0px;\n}\n.JZ1nlDcktcxRcY1H8i4N {\n  flex-direction: row;\n  align-items: flex-start;\n  top: 0px;\n  right: 0px;\n}\n.Sn5KQKkNEbBWyso6YjWr {\n  flex-direction: row;\n  align-items: flex-start;\n  width: 49vw;\n  height: 145px;\n}\n.Z3K7417Iy2s8jgvvpDGw {\n  flex-direction: row;\n  align-items: flex-start;\n  height: 198px;\n  white-space: pre-line;\n}\n.h3H7QcRXYun6phC04igH {\n  align-items: flex-end;\n}\n.pesEu9KpuQbN34Iwzudi {\n  flex-direction: reverse;\n  align-items: flex-end;\n}\n.CRMoFdPeYMdWbuLefpSu {\n  flex-direction: row;\n  align-items: center;\n}\n.dvEQoiWK1blmDgL75cIr {\n  flex: 1;\n  white-space: pre-line;\n}\n.hXCLrGOewttoVOKYl9NX {\n  flex: 1;\n  width: 50px;\n  white-space: pre-line;\n  flex-direction: row;\n}\n.ePsxE9HPsGxfNuFPxwRg {\n  color: blue;\n  white-space: pre-line;\n}\n.aujsVhiXnC20As5i7asU {\n  color: green;\n}\n.xkK8peVkSKYBVBuW9diR {\n  margin-left: 5px;\n  border: solid 0.5px #999;\n  border-radius: 4px;\n  padding: 4px 10px;\n  align-items: center;\n  justify-content: center;\n}\n.H0ugBqk5YfTf5_Dpb2W0 {\n  background-color: #ccc;\n}\n.ygbWwvROyvHy0O62grL1 {\n  background-color: #fff;\n}\n.OkGDp6Mcnqb_LLUZWFel {\n  background-color: #aaf;\n}\n.fwzxPxQhHo9BRqUQlZJH {\n  background-color: #ffa;\n}\n.IPD7k735ofEafcABan2w {\n  background-color: #fda;\n}\n.uxNP4bYRVzAy73N1JndG {\n  background-color: #afd;\n}\n.MIW039Hz1GiZ88t3Agt9 {\n  background-color: #faf;\n}\n.Y2emSmpEuzEfJmUi78Xc {\n  background-color: #faa;\n}\n.OvaGnrbXfrfQtw_d97Fh {\n  color: #fff;\n}\n.q3hKgcDT3nA6HJE1h2W4 {\n  color: #aaf;\n}\n.YBsNkQ2ApFBxQBuXvtKc {\n  color: #ffa;\n}\n.LErMimVqFYYo3axqy0oR {\n  color: #fda;\n}\n.fkP5Xp2Lx5elP5dv_GFg {\n  color: #afd;\n}\n.jQmhgdIVItWbAWttHBRl {\n  color: #faf;\n}\n.tr1WdPF9OSCE8IeJbTdZ {\n  color: #faa;\n}\n.CWV4gYr_kApFNo79h17l {\n  margin-left: 20px;\n}\n.dvyqfdXFLgTlCiwdD6Hs {\n  margin-left: 0px;\n}\n.huq1ikw4e4bgmwC3pAu0 {\n  margin-left: 0px;\n  color: blue;\n}\n",""]),o.locals={container:"hVjlAO21xUsU8i1Vy0k7",container1:"dddvPnAVjEn1Lpv0FWLS",content:"CYSSVCs4WD7qCNE9fdYU",bigBtn:"x6VhZhlq6RETKsey8lB8",bigBtn2:"tn_As1cJ__50VnqTpWaH",bigBtnContent:"fC_NHj3sGMYxx9cVJxSR",slot:"_L9gSDmpqvb6SWiKWClS",slotContent:"_DBRCGty2nON8PgyOzqX",slotActive:"akvqIP1pA_UAFMSIxlQ9",count:"j01V48P3B313HXNt5tBp",detail:"C4RrusRy7_fPNmLAx00T",detailName:"CaVV5wY4nk0HLL7KVxbA",originName:"d9VBJ0uTLEr4MIdfbgow",detailCount:"spw3VuuNKstfyBFzKoNU",detailPrice:"uedaadHakGQ9aA3_lB92",row:"AINtbOtux6MB1KjJcsCW",row2:"HwI01OGqatQADahDs35g",row3:"_csphQsNarIMipbhmF_N",row4:"JZ1nlDcktcxRcY1H8i4N",row5:"Sn5KQKkNEbBWyso6YjWr",row6:"Z3K7417Iy2s8jgvvpDGw",row7:"h3H7QcRXYun6phC04igH",row8:"pesEu9KpuQbN34Iwzudi",rowCenter:"CRMoFdPeYMdWbuLefpSu",spacer:"dvEQoiWK1blmDgL75cIr",spacer2:"hXCLrGOewttoVOKYl9NX",affix:"ePsxE9HPsGxfNuFPxwRg",legend:"aujsVhiXnC20As5i7asU",button:"xkK8peVkSKYBVBuW9diR",buttonDisabled:"H0ugBqk5YfTf5_Dpb2W0",btnNormal:"ygbWwvROyvHy0O62grL1",btnGood:"OkGDp6Mcnqb_LLUZWFel",btnExcellent:"fwzxPxQhHo9BRqUQlZJH",btnEpic:"IPD7k735ofEafcABan2w",btnLegend:"uxNP4bYRVzAy73N1JndG",btnAcient:"MIW039Hz1GiZ88t3Agt9",btnArtifact:"Y2emSmpEuzEfJmUi78Xc",fontNormal:"OvaGnrbXfrfQtw_d97Fh",fontGood:"q3hKgcDT3nA6HJE1h2W4",fontExcellent:"YBsNkQ2ApFBxQBuXvtKc",fontEpic:"LErMimVqFYYo3axqy0oR",fontLegend:"fkP5Xp2Lx5elP5dv_GFg",fontAcient:"jQmhgdIVItWbAWttHBRl",fontArtifact:"tr1WdPF9OSCE8IeJbTdZ",marginLeft:"CWV4gYr_kApFNo79h17l",marginLeft2:"dvyqfdXFLgTlCiwdD6Hs",marginLeft3:"huq1ikw4e4bgmwC3pAu0"};const s=o},3912:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".o9nAYhsDaBvetns1QgY_ {\n  flex: 1;\n  background-color: white;\n}\n.bW4CFuOdPlI4SfsdpyOx {\n  flex: 1;\n}\n.tfJ9azz0hx9z6aDzIrOL {\n  flex: 2;\n}\n.vwU2jUtljuWlDUtxPup2 {\n  padding: 5px 10px;\n  border-top: solid 1px #999;\n  border-bottom: solid 1px #999;\n  margin: 5px 0;\n}\n.U9REpO1gAhg0Iy2accc0 {\n  font-size: 16px;\n}\n.Xb2HpXS2vBVnRzuFnd67 {\n  margin-bottom: 5px;\n  color: black;\n  height: 20px;\n  width: 40px;\n  padding-top: 2px;\n  text-align: center;\n}\n.D08iU7Hrb0fFf1QhZCZV {\n  padding: 5px 15px;\n  flex-direction: row;\n}\n.YMLHK2gNODs_CJk_iE0A {\n  width: 180px;\n}\n",""]),o.locals={container:"o9nAYhsDaBvetns1QgY_",flex1:"bW4CFuOdPlI4SfsdpyOx",flex2:"tfJ9azz0hx9z6aDzIrOL",header:"vwU2jUtljuWlDUtxPup2",headerFont:"U9REpO1gAhg0Iy2accc0",title:"Xb2HpXS2vBVnRzuFnd67",row:"D08iU7Hrb0fFf1QhZCZV",sliderTitle:"YMLHK2gNODs_CJk_iE0A"};const s=o},3087:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".PEaWLXBXoVRRR7AynIGz {\n  flex-direction: row;\n  flex: 1;\n}\n.CXGF39cvCLF89fJkeAOR {\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  border: solid 1px #999;\n  border-radius: 3px;\n  height: 20px;\n  background-color: white;\n}\n.CXGF39cvCLF89fJkeAOR.PL4BIVe2gVdDDLOQlmRz {\n  background-color: blue;\n}\n.lag6OYJpB0nDamenYdri {\n  color: blue;\n}\n.lag6OYJpB0nDamenYdri.PL4BIVe2gVdDDLOQlmRz {\n  color: white;\n}\n",""]),o.locals={contain:"PEaWLXBXoVRRR7AynIGz",item:"CXGF39cvCLF89fJkeAOR",active:"PL4BIVe2gVdDDLOQlmRz",label:"lag6OYJpB0nDamenYdri"};const s=o},2598:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".eNMPKiIqmuSG7ovfczBd {\n  flex: 1;\n  background-color: white;\n  padding: 10px;\n}\n.Q4_fFIuvIsW8mUfOYjJN {\n  border: solid 1px #999;\n  padding: 10px 15px;\n  border-radius: 5px;\n  border-color: #666;\n  background-color: yellow;\n}\n.s0EoM7nfpHVafA2sBX6A {\n  font-size: 16px;\n  color: #666;\n}\n.QcauvsJU5VE6fIVi5kNA {\n  border: solid 1px #999;\n  padding: 10px 15px;\n  border-radius: 5px;\n  border-color: #666;\n  margin-bottom: 5px;\n}\n.hu53gOzaBoNTmHxhEzfc {\n  flex-direction: row;\n}\n._BOAeHGnlhHOVsqKjMS2 {\n  align-self: flex-start;\n  background-color: red;\n  padding: 10px 15px;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n  border-radius: 5px;\n}\n.xBPKSzUUDgvSyjQd2lYg {\n  color: white;\n  font-size: 16px;\n}\n.K78odnDfwqYn3EPAP90o {\n  flex: 1;\n}\n",""]),o.locals={container:"eNMPKiIqmuSG7ovfczBd",footer:"Q4_fFIuvIsW8mUfOYjJN",footerLabel:"s0EoM7nfpHVafA2sBX6A",item:"QcauvsJU5VE6fIVi5kNA",row:"hu53gOzaBoNTmHxhEzfc",button:"_BOAeHGnlhHOVsqKjMS2",buttonLabel:"xBPKSzUUDgvSyjQd2lYg",flex:"K78odnDfwqYn3EPAP90o"};const s=o},6155:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".ZY8eMHDDTZT5SspA4tkt {\n  flex: 1;\n  flex-direction: column;\n  background-color: white;\n  padding: 5px;\n}\n.biu51yBsS2RNSNiBMlpt {\n  font-size: 16px;\n  font-weight: bold;\n  padding: 5px;\n  align-self: stretch;\n}\n.IgTGGH6AgGD2gdAVlVt0 {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.lVSYafS9MCPkYnZHC5kZ {\n  margin: 5;\n  padding: 5px 10px;\n  border-width: 1px;\n  border-radius: 5px;\n}\n.uNzwJ3uEXHGn1KqpKi2g {\n  font-size: 14px;\n}\n.pqKM5QplAnQOBAJmO97w {\n  border-color: blue;\n  background-color: blue;\n}\n.kXxikw5cUzlIUZ28Vw_d {\n  color: white;\n}\n.bloC6HD3eJjCvmw8Erq0 {\n  margin: 15px;\n  font-size: 14px;\n  line-height: 18px;\n  white-space: pre-line;\n}\n.jzyLZZz9TmgglqyoCoIw {\n  flex-direction: column;\n}\n",""]),o.locals={container:"ZY8eMHDDTZT5SspA4tkt",title:"biu51yBsS2RNSNiBMlpt",options:"IgTGGH6AgGD2gdAVlVt0",option:"lVSYafS9MCPkYnZHC5kZ",label:"uNzwJ3uEXHGn1KqpKi2g",optionActive:"pqKM5QplAnQOBAJmO97w",labelActive:"kXxikw5cUzlIUZ28Vw_d",body:"bloC6HD3eJjCvmw8Erq0",group:"jzyLZZz9TmgglqyoCoIw"};const s=o},391:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".bTCeEsiTgTGCaC8gRbsY {\n  flex: 1;\n}\n.WheUgxEqHmRcpS8fh0Fk {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.bmQKBO6yH4TaUbN6lgdw {\n  flex-direction: row;\n  align-items: center;\n  padding: 5px;\n}\n",""]),o.locals={container:"bTCeEsiTgTGCaC8gRbsY",content:"WheUgxEqHmRcpS8fh0Fk",row:"bmQKBO6yH4TaUbN6lgdw"};const s=o},6246:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".mNhLRClzgr9DUBFDtNDt {\n  flex: 1;\n}\n.FwcIcZTBAavd5xyBdWFZ {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.AkSZEZCIfEmpBGYtcSPz {\n  flex-direction: row;\n  align-items: flex-end;\n}\n._MS_28I1Coj_g1PDLxe6 {\n  height: 150px;\n  flex-direction: row;\n}\n.Zxnyw8nuYY7HLOZP8QNb {\n  flex: 1;\n  margin: 10px;\n  border: solid 1px #999;\n  border-radius: 2px;\n  padding: 5px;\n}\n.ky7Dh9kOPOv8veSkBGWk {\n  flex: 1.7;\n}\n.iBhJNFN77AGYzQTaQAD_ {\n  font-size: 12px;\n  color: blue;\n  height: 30px;\n  line-height: 30px;\n}\n.dx8qWm2EuGzQHH9ds0KD {\n  color: green;\n}\n.WwyXdflavXska_MmKAnZ {\n  margin: 3px;\n}\n.YIaXVxyXR2XKcAw2OMJr {\n  margin: 10px 0;\n  padding: 5px 0;\n}\n.J7fe3aDLUfMqkzoA_HpL {\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n  text-align: center;\n}\n",""]),o.locals={container:"mNhLRClzgr9DUBFDtNDt",content:"FwcIcZTBAavd5xyBdWFZ",row:"AkSZEZCIfEmpBGYtcSPz",detailContainer:"_MS_28I1Coj_g1PDLxe6",detail:"Zxnyw8nuYY7HLOZP8QNb",detail2:"ky7Dh9kOPOv8veSkBGWk",affix:"iBhJNFN77AGYzQTaQAD_",legend:"dx8qWm2EuGzQHH9ds0KD",costItem:"WwyXdflavXska_MmKAnZ",locks:"YIaXVxyXR2XKcAw2OMJr",lock:"J7fe3aDLUfMqkzoA_HpL"};const s=o},684:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".BTdDSNXBu4avxCtU2Bsh {\n  flex: 1;\n}\n.G2baOI82zQgwZy2gR4Mq {\n  flex-direction: row;\n}\n.gxz1LpK3ndaJPCWemqo9 {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n  flex-direction: row;\n}\n.YajelsapRKqW0AGlT4OW {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.VSGfSDlr6eEGjsLdYjn_ {\n  width: 150px;\n  font-size: 24px;\n}\n.Cl7FMIuO9ThFg8WpECCs {\n  flex: 0;\n}\n.M_EZr4CCEhd9VaaBRjJR {\n  flex-direction: row;\n  flex-wrap: wrap;\n  border-top: solid 1px #999;\n}\n.aZGT1nZjmK1i6OA1Mcs5 {\n  flex-direction: row;\n  padding: 8px;\n  border-bottom: solid 1px #999;\n}\n.mMtR03XTKf1qwToRL3gl {\n  height: 45px;\n  justify-content: center;\n  padding: 10px;\n}\n",""]),o.locals={flex:"BTdDSNXBu4avxCtU2Bsh",row:"G2baOI82zQgwZy2gR4Mq",medicine:"gxz1LpK3ndaJPCWemqo9",medicineMain:"YajelsapRKqW0AGlT4OW",medicineName:"VSGfSDlr6eEGjsLdYjn_",noFlex:"Cl7FMIuO9ThFg8WpECCs",itemGroup:"M_EZr4CCEhd9VaaBRjJR",info:"aZGT1nZjmK1i6OA1Mcs5",noItemHint:"mMtR03XTKf1qwToRL3gl"};const s=o},3261:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".tuLcxQaToL81PXaAJlsA {\n  flex: 1;\n}\n.OQhsj5IQO8EzHR32zA4W {\n  flex-direction: row;\n  height: 140px;\n  align-items: stretch;\n  border-bottom: solid 1px #ccc;\n}\n.MtL122eBAwbe5HMutWzt {\n  justify-content: 'center';\n  align-items: 'center';\n  width: 79px;\n  border-right: solid 1px #ccc;\n}\n.SN45_AV_cEZkK3syJNn5 {\n  font-size: 16px;\n}\n.MvHrNKtNLvQkT3cq1j9Z {\n  flex: 1;\n  padding: 5px 0;\n  align-items: center;\n}\n.k3Zs87SLhuMJ1YsdfcAB {\n  background-color: #ccc;\n}\n.StWTavCRheKc_Jeu0_mQ {\n  flex-direction: row;\n}\n.uIGgGC5y91GoRc1TGNna {\n  font-size: 12px;\n  flex: 1;\n}\n.vTDgwB680RQ4sd_SuJD8 {\n  font-size: 12;\n}\n.eU7rIze_55u0n7UIl01f {\n  flex: 1;\n}\n.UvRNSOucUYFSWMECJhAW {\n  padding: 0 5px;\n  border-radius: 5px;\n  border: solid 1px #ccc;\n}\n.RTNQVkYpa2Et5cbbdalA {\n  flex-direction: row;\n}\n.MNgrxchnYQ9BAtF88fG0 {\n  width: 50px;\n  align-items: center;\n  justify-content: center;\n  background-color: #aaf;\n  margin: 0 1px;\n}\n",""]),o.locals={container:"tuLcxQaToL81PXaAJlsA",recipe:"OQhsj5IQO8EzHR32zA4W",name:"MtL122eBAwbe5HMutWzt",nameLabel:"SN45_AV_cEZkK3syJNn5",btn:"MvHrNKtNLvQkT3cq1j9Z",btnDisabled:"k3Zs87SLhuMJ1YsdfcAB",material:"StWTavCRheKc_Jeu0_mQ",materialName:"uIGgGC5y91GoRc1TGNna",materialAmount:"vTDgwB680RQ4sd_SuJD8",spacer:"eU7rIze_55u0n7UIl01f",button:"UvRNSOucUYFSWMECJhAW",row:"RTNQVkYpa2Et5cbbdalA",inventoryButton:"MNgrxchnYQ9BAtF88fG0"};const s=o},8865:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".LPrVhvXMUycmbcLkYAQs {\n  flex: 1;\n}\n.nuDYWDxcYUJn84RMNvat {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.lUOpB4D3AffhnfhFyWai {\n  flex-direction: row;\n  align-items: flex-end;\n  padding: 5px;\n}\n.jbLW38LdlJN2zAJ1n9gv {\n  height: 150px;\n  flex-direction: row;\n}\n.hLLTmFt5q2vltVxLKyI0 {\n  flex: 1;\n  margin: 10px;\n  border: solid 1px #999;\n  border-radius: 2px;\n  padding: 5px;\n}\n.kw6bhcL6pDVuoah8YlNO {\n  flex-direction: row;\n  flex: 1;\n}\n.x58aDivZ8fk1mjnNH504 {\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  border-width: 1px;\n  margin: 5px;\n  background-color: white;\n}\n.M8GO87cwh8DpnZVwB1b8 {\n  background-color: #aaa;\n}\n.gDoVy1cWLk0fdNTUFqqw {\n  background-color: #666;\n}\n.KnaawP9Bb5JGmp7PWf3z {\n  color: blue;\n  height: 30px;\n  line-height: 30px;\n}\n.Onw1GJtzXEo5wfEBTYK_ {\n  color: green;\n}\n.KfSBQlzxEdRXnLDqklPN {\n  margin: 3;\n}\n.HSrrZV0svcaw2vZ4cnCA {\n  margin: 10px 0;\n  padding: 5px 0;\n}\n.Jj9mDQBLvVqMKABT65oy {\n  height: 30px;\n  line-height: 30px;\n  width: 30px;\n  text-align: center;\n}\n",""]),o.locals={container:"LPrVhvXMUycmbcLkYAQs",content:"nuDYWDxcYUJn84RMNvat",row:"lUOpB4D3AffhnfhFyWai",detailContainer:"jbLW38LdlJN2zAJ1n9gv",detail:"hLLTmFt5q2vltVxLKyI0",detailRow:"kw6bhcL6pDVuoah8YlNO",detailAffix:"x58aDivZ8fk1mjnNH504",detailAffixDisabled:"M8GO87cwh8DpnZVwB1b8",detailAffixEmpty:"gDoVy1cWLk0fdNTUFqqw",affix:"KnaawP9Bb5JGmp7PWf3z",legentAffix:"Onw1GJtzXEo5wfEBTYK_",costItem:"KfSBQlzxEdRXnLDqklPN",locks:"HSrrZV0svcaw2vZ4cnCA",lock:"Jj9mDQBLvVqMKABT65oy"};const s=o},5714:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".TfVnV6WvxWHyeRqGQ17D {\n  flex: 1;\n}\n._gLbV62CHJBAaUfwWYYj {\n  flex-direction: row;\n}\n.Yh8kN1n87Bd7NBKbjG1r {\n  border-bottom: solid 1px #999;\n  padding: 0 5px;\n  flex-direction: row;\n}\n.Vpvhn4U90xtt3S_hnAB0 {\n  height: 48px;\n  align-items: center;\n  flex-direction: row;\n}\n.f8QQmFruiCtstQVz8Aek {\n  width: 150px;\n  font-size: 24px;\n}\n.Buym9dkDlgrU4jrl6jZN {\n  flex: 0;\n}\n.Qz7Vkitp5r71RwoCG67e {\n  flex-direction: row;\n  flex-wrap: wrap;\n  border-top: solid 1px #999;\n}\n.KH8pFty0b3ou5hbHbMAD {\n  flex-direction: row;\n  padding: 8px;\n  border-bottom: solid 1px #999;\n}\n.n8UB8_9VcbaDiB7lNbsp {\n  height: 45px;\n  justify-content: center;\n  padding: 10px;\n}\n",""]),o.locals={flex:"TfVnV6WvxWHyeRqGQ17D",row:"_gLbV62CHJBAaUfwWYYj",cooking:"Yh8kN1n87Bd7NBKbjG1r",cookingMain:"Vpvhn4U90xtt3S_hnAB0",cookingName:"f8QQmFruiCtstQVz8Aek",noFlex:"Buym9dkDlgrU4jrl6jZN",itemGroup:"Qz7Vkitp5r71RwoCG67e",info:"KH8pFty0b3ou5hbHbMAD",noItemHint:"n8UB8_9VcbaDiB7lNbsp"};const s=o},8060:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".C1_xyluJPVXnaS4XYKw9 {\n  flex: 1;\n  background-color: white;\n  overflow: auto;\n}\n.gFGKwCiTX6neraeBc_fD {\n  width: 100vw;\n  color: black;\n  white-space: pre-line;\n}\n",""]),o.locals={container:"C1_xyluJPVXnaS4XYKw9",content:"gFGKwCiTX6neraeBc_fD"};const s=o},8777:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".DqE_kO7MIZqlTi2e8daX {\n  flex: 1;\n}\n.kMOVShHOc_Qx_4fRp_gg {\n  position: absolute;\n  bottom: 10px;\n  left: 5px;\n  right: 5px;\n  height: 120px;\n  background-color: white;\n  border-radius: 5px;\n  padding: 5px;\n  overflow: hidden;\n}\n.nXr_Fao6Y1ctbAYVaej2 {\n  font-size: 20px;\n}\n.GNutTbVPH4socpyXXpmh {\n  font-size: 20px;\n  line-height: 25px;\n  overflow: visible;\n}\n.ZfPDbr8r9CHWCStJuzk4 {\n  margin-top: 80px;\n  align-self: center;\n  padding: 10px;\n  background-color: white;\n  border-radius: 10px;\n  transition: opacity 0.5s;\n  opacity: 1;\n}\n.ZfPDbr8r9CHWCStJuzk4.NtL7IpOB7aUQCFBmPgq3 {\n  opacity: 0;\n}\n.NMgOgwyF2XuCS2i5xYwM {\n  font-size: 36px;\n}\n.lxmgZ0cEREbU_zXNwkLi {\n  position: absolute;\n  right: 20px;\n  top: 35px;\n}\n.M8HZ4LxrHvrbuf3N8qwz {\n  color: white;\n}\n",""]),o.locals={container:"DqE_kO7MIZqlTi2e8daX",content:"kMOVShHOc_Qx_4fRp_gg",name:"nXr_Fao6Y1ctbAYVaej2",text:"GNutTbVPH4socpyXXpmh",scene:"ZfPDbr8r9CHWCStJuzk4",hidden:"NtL7IpOB7aUQCFBmPgq3",sceneLabel:"NMgOgwyF2XuCS2i5xYwM",back:"lxmgZ0cEREbU_zXNwkLi",backLabel:"M8HZ4LxrHvrbuf3N8qwz"};const s=o},1916:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".tZV6GxyyjqqppoJdSBO8 {\n  flex: 1;\n  background-color: white;\n}\n.B8SxwAkjo1zLTnGkt2RR {\n  border-bottom: solid 1px #999;\n  height: 60px;\n  padding: 0 10px;\n  justify-content: center;\n}\n.qFR3bl8kvSeucmq1GeV7 {\n  font-size: 20px;\n}\n.Snt69V0c8x5jWWzu6y4d {\n  flex-direction: row;\n}\n",""]),o.locals={container:"tZV6GxyyjqqppoJdSBO8",item:"B8SxwAkjo1zLTnGkt2RR",itemLabel:"qFR3bl8kvSeucmq1GeV7",line:"Snt69V0c8x5jWWzu6y4d"};const s=o},5678:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7942),i=n.n(r),a=n(3527),o=n.n(a)()(i());o.push([e.id,".v2RcSiEb6wh0BoE2J7kd {\n  flex: 1;\n  background-color: white;\n}\n.JKOBnp9KlJRenDPh78m3 {\n  border-bottom: solid 1px #999;\n  height: 40px;\n  padding: 0 10px;\n  justify-content: center;\n}\n.dLvA5OVktBMXVYFJ_RlU {\n  font-size: 20px;\n}\n",""]),o.locals={container:"v2RcSiEb6wh0BoE2J7kd",item:"JKOBnp9KlJRenDPh78m3",itemLabel:"dLvA5OVktBMXVYFJ_RlU"};const s=o},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=a[u]||0,h="".concat(u," ").concat(c);a[u]=c+1;var p=n(h),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var f=i(d,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var l=r(e,i),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,exports:{}};return n[e](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,i.d(a,o),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nc=void 0,(()=>{"use strict";var e=i(8568),t=i(8281),n=i.t(t,2);function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var a={};function o(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:a}var s=Object.assign,l=Object.getOwnPropertyDescriptor,u=Object.defineProperty,c=Object.prototype,h=[];Object.freeze(h);var p={};Object.freeze(p);var d="undefined"!=typeof Proxy,f=Object.toString();function m(){d||r("Proxy not available")}function g(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function v(e){return"function"==typeof e}function b(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function k(e){return null!==e&&"object"==typeof e}function w(e){if(!k(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===f}function x(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function S(e,t,n){u(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function E(e,t,n){u(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function A(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return k(e)&&!0===e[n]}}function _(e){return e instanceof Map}function D(e){return e instanceof Set}var P=void 0!==Object.getOwnPropertySymbols,C="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:P?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function R(e){return null===e?null:"object"==typeof e?""+e:e}function O(e,t){return c.hasOwnProperty.call(e,t)}var T=Object.getOwnPropertyDescriptors||function(e){var t={};return C(e).forEach((function(n){t[n]=l(e,n)})),t};function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,M(e,t)}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q=Symbol("mobx-stored-annotations");function z(e){return Object.assign((function(t,n){U(t,n,e)}),e)}function U(e,t,n){O(e,q)||S(e,q,N({},e[q])),function(e){return e.annotationType_===X}(n)||(e[q][t]=n)}var V=Symbol("mobx administration"),K=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=We.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return vt(this)},t.reportChanged=function(){gt(),bt(this),yt()},t.toString=function(){return this.name_},e}(),Y=A("Atom",K);function $(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r=new K(e);return t!==y&&Vt(qt,r,t,undefined),n!==y&&Ut(r,n),r}var W={identity:function(e,t){return e===t},structural:function(e,t){return pr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return pr(e,t,1)}};function G(e,t,n){return an(e)?e:Array.isArray(e)?Re.array(e,{name:n}):w(e)?Re.object(e,void 0,{name:n}):_(e)?Re.map(e,{name:n}):D(e)?Re.set(e,{name:n}):"function"!=typeof e||It(e)||tn(e)?e:x(e)?Zt(e):Bt(n,e)}function J(e){return e}var X="override",Q=z({annotationType_:X,make_:function(e,t){return 0},extend_:function(e,t,n,i){r("'"+this.annotationType_+"' can only be used with 'makeObservable'")}});function Z(e,t){return{annotationType_:e,options_:t,make_:ee,extend_:te}}function ee(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(It(n.value))return 1;var a=ne(e,this,t,n,!1);return u(r,t,a),2}function te(e,t,n,r){var i=ne(e,this,t,n);return e.defineProperty_(t,i,r)}function ne(e,t,n,r,i){var a,o,s,l,u,c,h,p;void 0===i&&(i=dt.safeDescriptors),p=r,t.annotationType_,p.value;var d,f=r.value;return null!=(a=t.options_)&&a.bound&&(f=f.bind(null!=(d=e.proxy_)?d:e.target_)),{value:Le(null!=(o=null==(s=t.options_)?void 0:s.name)?o:n.toString(),f,null!=(l=null==(u=t.options_)?void 0:u.autoAction)&&l,null!=(c=t.options_)&&c.bound?null!=(h=e.proxy_)?h:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function re(e,t){return{annotationType_:e,options_:t,make_:ie,extend_:ae}}function ie(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!O(e.target_,t)||!tn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(tn(n.value))return 1;var a=oe(e,this,0,n,!1,!1);return u(r,t,a),2}function ae(e,t,n,r){var i,a=oe(e,this,0,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function oe(e,t,n,r,i,a){var o;void 0===a&&(a=dt.safeDescriptors),o=r,t.annotationType_,o.value;var s,l=r.value;return tn(l)||(l=Zt(l)),i&&((l=l.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0),{value:l,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function se(e,t){return{annotationType_:e,options_:t,make_:le,extend_:ue}}function le(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ue(e,t,n,r){return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,N({},this.options_,{get:n.get,set:n.set}),r);var i}function ce(e,t){return{annotationType_:e,options_:t,make_:he,extend_:pe}}function he(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pe(e,t,n,r){var i,a;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:G,r)}var de="true",fe=me();function me(e){return{annotationType_:de,options_:e,make_:ge,extend_:ye}}function ge(e,t,n,r){var i,a,o,s;if(n.get)return Be.make_(e,t,n,r);if(n.set){var l=Le(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!dt.safeDescriptors||e.isPlainObject_,set:l})?0:2:(u(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return x(n.value)?(null!=(s=this.options_)&&s.autoBind?Zt.bound:Zt).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?Bt.bound:Bt).make_(e,t,n,r);var c,h=!1===(null==(i=this.options_)?void 0:i.deep)?Re.ref:Re;return"function"==typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_)),h.make_(e,t,n,r)}function ye(e,t,n,r){var i,a,o;return n.get?Be.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!dt.safeDescriptors||e.isPlainObject_,set:Le(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_)),(!1===(null==(a=this.options_)?void 0:a.deep)?Re.ref:Re).extend_(e,t,n,r))}var ve={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function be(e){return e||ve}Object.freeze(ve);var ke=ce("observable"),we=ce("observable.ref",{enhancer:J}),xe=ce("observable.shallow",{enhancer:function(e,t,n){return null==e||Jn(e)||Fn(e)||Ln(e)||Un(e)?e:Array.isArray(e)?Re.array(e,{name:n,deep:!1}):w(e)?Re.object(e,void 0,{name:n,deep:!1}):_(e)?Re.map(e,{name:n,deep:!1}):D(e)?Re.set(e,{name:n,deep:!1}):void 0}}),Se=ce("observable.struct",{enhancer:function(e,t){return pr(e,t)?t:e}}),Ee=z(ke);function Ae(e){return!0===e.deep?G:!1===e.deep?J:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:G;var t,n,r}function _e(e,t,n){if(!b(t))return an(e)?e:w(e)?Re.object(e,t,n):Array.isArray(e)?Re.array(e,t):_(e)?Re.map(e,t):D(e)?Re.set(e,t):"object"==typeof e&&null!==e?e:Re.box(e,t);U(e,t,ke)}Object.assign(_e,Ee);var De,Pe,Ce={box:function(e,t){var n=be(t);return new Ye(e,Ae(n),n.name,!0,n.equals)},array:function(e,t){var n=be(t);return(!1===dt.useProxies||!1===n.proxy?sr:En)(e,Ae(n),n.name)},map:function(e,t){var n=be(t);return new Hn(e,Ae(n),n.name)},set:function(e,t){var n=be(t);return new zn(e,Ae(n),n.name)},object:function(e,t,n){return $t(!1===dt.useProxies||!1===(null==n?void 0:n.proxy)?$n({},n):function(e,t){var n,r;return m(),null!=(r=(n=(e=$n(e,t))[V]).proxy_)?r:n.proxy_=new Proxy(e,pn)}({},n),e,t)},ref:z(we),shallow:z(xe),deep:Ee,struct:z(Se)},Re=s(_e,Ce),Oe="computed",Te=se(Oe),Fe=se("computed.struct",{equals:W.structural}),Be=function(e,t){if(b(t))return U(e,t,Te);if(w(e))return z(se(Oe,e));var n=w(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Je(n)};Object.assign(Be,Te),Be.struct=z(Fe);var Ne,Ie=0,Me=1,je=null!=(De=null==(Pe=l((function(){}),"name"))?void 0:Pe.configurable)&&De,He={value:"action",configurable:!0,writable:!1,enumerable:!1};function Le(e,t,n,r){function i(){return qe(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,je&&(He.value=e,Object.defineProperty(i,"name",He)),i}function qe(e,t,n,i,a){var o=function(e,t,n,r){var i=dt.trackingDerivation,a=!t||!i;gt();var o=dt.allowStateChanges;a&&(at(),o=Ue(!0));var s={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:o,prevAllowStateReads_:st(!0),notifySpy_:!1,startTime_:0,actionId_:Me++,parentActionId_:Ie};return Ie=s.actionId_,s}(0,t);try{return n.apply(i,a)}catch(e){throw o.error_=e,e}finally{!function(e){Ie!==e.actionId_&&r(30),Ie=e.parentActionId_,void 0!==e.error_&&(dt.suppressReactionErrors=!0),Ve(e.prevAllowStateChanges_),lt(e.prevAllowStateReads_),yt(),e.runAsAction_&&ot(e.prevDerivation_),dt.suppressReactionErrors=!1}(o)}}function ze(e,t){var n=Ue(e);try{return t()}finally{Ve(n)}}function Ue(e){var t=dt.allowStateChanges;return dt.allowStateChanges=e,t}function Ve(e){dt.allowStateChanges=e}Ne=Symbol.toPrimitive;var Ke,Ye=function(e){function t(t,n,r,i,a){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=W.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=a,o.value_=n(t,void 0,r),o}I(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==dt.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(dn(this)){var t=mn(this,{object:this,type:wn,newValue:e});if(!t)return dt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?dt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),gn(this)&&vn(this,{type:wn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return fn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:wn,newValue:this.value_,oldValue:void 0}),yn(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return R(this.get())},n[Ne]=function(){return this.valueOf()},t}(K),$e=A("ObservableValue",Ye);Ke=Symbol.toPrimitive;var We,Ge,Je=function(){function e(e){this.dependenciesState_=We.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=We.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Qe(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ge.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||r(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Le("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?W.structural:W.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){var e;(e=this).lowestObserverState_===We.UP_TO_DATE_&&(e.lowestObserverState_=We.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===We.UP_TO_DATE_&&(e.dependenciesState_=We.POSSIBLY_STALE_,e.onBecomeStale_())})))},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&r(32,this.name_,this.derivation),0!==dt.inBatch||0!==this.observers_.size||this.keepAlive_){if(vt(this),et(this)){var e=dt.trackingContext;this.keepAlive_&&!e&&(dt.trackingContext=this),this.trackAndCompute()&&((t=this).lowestObserverState_!==We.STALE_&&(t.lowestObserverState_=We.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===We.POSSIBLY_STALE_?e.dependenciesState_=We.STALE_:e.dependenciesState_===We.UP_TO_DATE_&&(t.lowestObserverState_=We.UP_TO_DATE_)})))),dt.trackingContext=e}}else et(this)&&(this.warnAboutUntrackedRead_(),gt(),this.value_=this.computeValue_(!1),yt());var t,n=this.value_;if(Ze(n))throw n.cause;return n},t.set=function(e){if(this.setter_){this.isRunningSetter_&&r(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else r(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===We.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Ze(e)||Ze(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=Ue(!1);if(e)t=nt(this,this.derivation,this.scope_);else if(!0===dt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Qe(e)}return Ve(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(rt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return Mt((function(){var a=n.get();if(!r||t){var o=at();e({observableKind:"computed",debugObjectName:n.name_,type:wn,object:n,newValue:a,oldValue:i}),ot(o)}r=!1,i=a}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return R(this.get())},t[Ke]=function(){return this.valueOf()},e}(),Xe=A("ComputedValue",Je);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(We||(We={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ge||(Ge={}));var Qe=function(e){this.cause=void 0,this.cause=e};function Ze(e){return e instanceof Qe}function et(e){switch(e.dependenciesState_){case We.UP_TO_DATE_:return!1;case We.NOT_TRACKING_:case We.STALE_:return!0;case We.POSSIBLY_STALE_:for(var t=st(!0),n=at(),r=e.observing_,i=r.length,a=0;a<i;a++){var o=r[a];if(Xe(o)){if(dt.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return ot(n),lt(t),!0}if(e.dependenciesState_===We.STALE_)return ot(n),lt(t),!0}}return ut(e),ot(n),lt(t),!1}}function tt(){return null!==dt.trackingDerivation}function nt(e,t,n){var r=st(!0);ut(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++dt.runId;var i,a=dt.trackingDerivation;if(dt.trackingDerivation=e,dt.inBatch++,!0===dt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Qe(e)}return dt.inBatch--,dt.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=We.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var s=n[o];0===s.diffValue_&&(s.diffValue_=1,i!==o&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,a=t.length;a--;){var l=t[a];0===l.diffValue_&&ft(l,e),l.diffValue_=0}for(;i--;){var u=n[i];1===u.diffValue_&&(u.diffValue_=0,h=e,(c=u).observers_.add(h),c.lowestObserverState_>h.dependenciesState_&&(c.lowestObserverState_=h.dependenciesState_))}var c,h;r!==We.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),lt(r),i}function rt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)ft(t[n],e);e.dependenciesState_=We.NOT_TRACKING_}function it(e){var t=at();try{return e()}finally{ot(t)}}function at(){var e=dt.trackingDerivation;return dt.trackingDerivation=null,e}function ot(e){dt.trackingDerivation=e}function st(e){var t=dt.allowStateReads;return dt.allowStateReads=e,t}function lt(e){dt.allowStateReads=e}function ut(e){if(e.dependenciesState_!==We.UP_TO_DATE_){e.dependenciesState_=We.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=We.UP_TO_DATE_}}var ct=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ht=!0,pt=!1,dt=function(){var e=o();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ht=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ct).version&&(ht=!1),ht?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ct):(setTimeout((function(){pt||r(35)}),1),new ct)}();function ft(e,t){e.observers_.delete(t),0===e.observers_.size&&mt(e)}function mt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,dt.pendingUnobservations.push(e))}function gt(){dt.inBatch++}function yt(){if(0==--dt.inBatch){St();for(var e=dt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Je&&n.suspend_())}dt.pendingUnobservations=[]}}function vt(e){var t=dt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&dt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&dt.inBatch>0&&mt(e),!1)}function bt(e){e.lowestObserverState_!==We.STALE_&&(e.lowestObserverState_=We.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===We.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=We.STALE_})))}var kt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=We.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ge.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,dt.pendingReactions.push(this),St())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){gt(),this.isScheduled_=!1;var e=dt.trackingContext;if(dt.trackingContext=this,et(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}dt.trackingContext=e,yt()}},t.track=function(e){if(!this.isDisposed_){gt(),this.isRunning_=!0;var t=dt.trackingContext;dt.trackingContext=this;var n=nt(this,e,void 0);dt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&rt(this),Ze(n)&&this.reportExceptionInDerivation_(n.cause),yt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(dt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";dt.suppressReactionErrors||console.error(n,e),dt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(gt(),rt(this),yt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[V]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){r("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"boolean"==typeof n[n.length-1]&&(e=n.pop());var a=function(e){switch(e.length){case 0:return dt.trackingDerivation;case 1:return lr(e[0]);case 2:return lr(e[0],e[1])}}(n);if(!a)return r("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");a.isTracing_===Ge.NONE&&console.log("[mobx.trace] '"+a.name_+"' tracing enabled"),a.isTracing_=e?Ge.BREAK:Ge.LOG}(this,e)},e}(),wt=100,xt=function(e){return e()};function St(){dt.inBatch>0||dt.isRunningReactions||xt(Et)}function Et(){dt.isRunningReactions=!0;for(var e=dt.pendingReactions,t=0;e.length>0;){++t===wt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}dt.isRunningReactions=!1}var At=A("Reaction",kt),_t="action",Dt="autoAction",Pt=Z(_t),Ct=Z("action.bound",{bound:!0}),Rt=Z(Dt,{autoAction:!0}),Ot=Z("autoAction.bound",{autoAction:!0,bound:!0});function Tt(e){return function(t,n){return v(t)?Le(t.name||"<unnamed action>",t,e):v(n)?Le(t,n,e):b(n)?U(t,n,e?Rt:Pt):b(t)?z(Z(e?Dt:_t,{name:t,autoAction:e})):void 0}}var Ft=Tt(!1);Object.assign(Ft,Pt);var Bt=Tt(!0);function Nt(e){return qe(e.name,!1,e,this,void 0)}function It(e){return v(e)&&!0===e.isMobxAction}function Mt(e,t){var n,r;void 0===t&&(t=p);var i,a=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var o=Ht(t),s=!1;i=new kt(a,(function(){s||(s=!0,o((function(){s=!1,i.isDisposed_||i.track(l)})))}),t.onError,t.requiresObservable)}else i=new kt(a,(function(){this.track(l)}),t.onError,t.requiresObservable);function l(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Bt,Rt),Ft.bound=z(Ct),Bt.bound=z(Ot);var jt=function(e){return e()};function Ht(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:jt}function Lt(e,t,n){var r;void 0===n&&(n=p);var i,a,o,s,l=null!=(r=n.name)?r:"Reaction",u=Ft(l,n.onError?(i=n.onError,a=t,function(){try{return a.apply(this,arguments)}catch(e){i.call(this,e)}}):t),c=!n.scheduler&&!n.delay,h=Ht(n),d=!0,f=!1,m=n.compareStructural?W.structural:n.equals||W.default,g=new kt(l,(function(){d||c?y():f||(f=!0,h(y))}),n.onError,n.requiresObservable);function y(){if(f=!1,!g.isDisposed_){var t=!1;g.track((function(){var n=ze(!1,(function(){return e(g)}));t=d||!m(o,n),s=o,o=n})),(d&&n.fireImmediately||!d&&t)&&u(o,s,g),d=!1}}return g.schedule_(),g.getDisposer_()}var qt="onBO",zt="onBUO";function Ut(e,t,n){return Vt(zt,e,t,n)}function Vt(e,t,n,r){var i="function"==typeof r?lr(t,n):lr(t),a=v(r)?r:n,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var Kt="always";function Yt(e){!0===e.isolateGlobalState&&function(){if((dt.pendingReactions.length||dt.inBatch||dt.isRunningReactions)&&r(36),pt=!0,ht){var e=o();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),dt=new ct}}();var t,n,i=e.useProxies,a=e.enforceActions;if(void 0!==i&&(dt.useProxies=i===Kt||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(dt.verifyProxies=!0),void 0!==a){var s=a===Kt?Kt:"observed"===a;dt.enforceActions=s,dt.allowStateChanges=!0!==s&&s!==Kt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(dt[t]=!!e[t])})),dt.allowStateReads=!dt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=xt,xt=function(e){return t((function(){return n(e)}))})}function $t(e,t,n,r){var i=T(t),a=$n(e,r)[V];gt();try{C(i).forEach((function(e){a.extend_(e,i[e],!n||!(e in n)||n[e])}))}finally{yt()}return e}function Wt(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(Wt)),n}var Gt=0;function Jt(){this.message="FLOW_CANCELLED"}Jt.prototype=Object.create(Error.prototype);var Xt=re("flow"),Qt=re("flow.bound",{bound:!0}),Zt=Object.assign((function(e,t){if(b(t))return U(e,t,Xt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++Gt,a=Ft(r+" - runid: "+i+" - init",n).apply(this,t),o=void 0,s=new Promise((function(t,n){var s=0;function l(e){var t;o=void 0;try{t=Ft(r+" - runid: "+i+" - yield "+s++,a.next).call(a,e)}catch(e){return n(e)}c(t)}function u(e){var t;o=void 0;try{t=Ft(r+" - runid: "+i+" - yield "+s++,a.throw).call(a,e)}catch(e){return n(e)}c(t)}function c(e){if(!v(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(l,u);e.then(c,n)}e=n,l(void 0)}));return s.cancel=Ft(r+" - runid: "+i+" - cancel",(function(){try{o&&en(o);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(y,y),en(n),e(new Jt)}catch(t){e(t)}})),s};return i.isMobXFlow=!0,i}),Xt);function en(e){v(e.cancel)&&e.cancel()}function tn(e){return!0===(null==e?void 0:e.isMobXFlow)}function nn(e,t){if(void 0===t)return Xe(e);if(!1===Jn(e))return!1;if(!e[V].values_.has(t))return!1;var n=lr(e,t);return Xe(n)}function rn(e,t){return nn(e,t)}function an(e){return function(e,t){return!!e&&(void 0!==t?!!Jn(e)&&e[V].values_.has(t):Jn(e)||!!e[V]||Y(e)||At(e)||Xe(e))}(e)}function on(e,t,n,r){return v(n)?function(e,t,n,r){return ur(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return ur(e).observe_(t,n)}(e,t,n)}function sn(e,t,n){return e.set(t,n),n}function ln(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!an(e))return e;if($e(e)||Xe(e))return ln(e.get(),t);if(t.has(e))return t.get(e);if(Fn(e)){var n=sn(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=ln(e,t)})),n}if(Un(e)){var i=sn(t,e,new Set);return e.forEach((function(e){i.add(ln(e,t))})),i}if(Ln(e)){var a=sn(t,e,new Map);return e.forEach((function(e,n){a.set(n,ln(e,t))})),a}var o=sn(t,e,{});return function(e){if(Jn(e))return e[V].ownKeys_();r(38)}(e).forEach((function(n){c.propertyIsEnumerable.call(e,n)&&(o[n]=ln(e[n],t))})),o}function un(e,t){return ln(e,new Map)}function cn(e,t){void 0===t&&(t=void 0),gt();try{return e.apply(t)}finally{yt()}}function hn(e){return e[V]}Zt.bound=z(Qt);var pn={has:function(e,t){return hn(e).has_(t)},get:function(e,t){return hn(e).get_(t)},set:function(e,t,n){var r;return!!b(t)&&(null==(r=hn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!b(t)&&(null==(n=hn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=hn(e).defineProperty_(t,n))||r},ownKeys:function(e){return hn(e).ownKeys_()},preventExtensions:function(e){r(13)}};function dn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function fn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function mn(e,t){var n=at();try{for(var i=[].concat(e.interceptors_||[]),a=0,o=i.length;a<o&&((t=i[a](t))&&!t.type&&r(14),t);a++);return t}finally{ot(n)}}function gn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function yn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function vn(e,t){var n=at(),r=e.changeListeners_;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);ot(n)}}function bn(e,t,n){var r=$n(e,n)[V];gt();try{null!=t||(t=function(e){return O(e,q)||S(e,q,N({},e[q])),e[q]}(e)),C(t).forEach((function(e){return r.make_(e,t[e])}))}finally{yt()}return e}var kn="splice",wn="update",xn={get:function(e,t){var n=e[V];return t===V?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?O(An,t)?An[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[V];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){r(15)}},Sn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new K(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return fn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),yn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&r("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&or(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=h),dn(this)){var a=mn(this,{object:this.proxy_,type:kn,index:e,removedCount:t,added:n});if(!a)return h;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var s=0;s<a.length;s++)this.values_[e+n.length+s]=a[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),a=i||r?{observableKind:"array",object:this.proxy_,type:wn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&vn(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=gn(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:kn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&vn(this,a)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&r(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(dn(this)){var a=mn(this,{type:wn,object:this.proxy_,index:e,newValue:t});if(!a)return;t=a.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var o=new Array(e+1-n.length),s=0;s<o.length-1;s++)o[s]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function En(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),m();var i=new Sn(n,t,r,!1);E(i.values_,V,i);var a=new Proxy(i.values_,xn);if(i.proxy_=a,e&&e.length){var o=Ue(!0);i.spliceWithArray_(0,0,e),Ve(o)}return a}var An={clear:function(){return this.splice(0)},replace:function(e){var t=this[V];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[V];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[V].spliceWithArray_(e,t,n)},push:function(){for(var e=this[V],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[V].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[V],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return dt.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){dt.trackingDerivation&&r(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[V],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function _n(e,t){"function"==typeof Array.prototype[e]&&(An[e]=t(e))}function Dn(e){return function(){var t=this[V];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Pn(e){return function(t,n){var r=this,i=this[V];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Cn(e){return function(){var t=this,n=this[V];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}_n("concat",Dn),_n("flat",Dn),_n("includes",Dn),_n("indexOf",Dn),_n("join",Dn),_n("lastIndexOf",Dn),_n("slice",Dn),_n("toString",Dn),_n("toLocaleString",Dn),_n("every",Pn),_n("filter",Pn),_n("find",Pn),_n("findIndex",Pn),_n("flatMap",Pn),_n("forEach",Pn),_n("map",Pn),_n("some",Pn),_n("reduce",Cn),_n("reduceRight",Cn);var Rn,On,Tn=A("ObservableArrayAdministration",Sn);function Fn(e){return k(e)&&Tn(e[V])}var Bn={},Nn="add",In="delete";Rn=Symbol.iterator,On=Symbol.toStringTag;var Mn,jn,Hn=function(){function e(e,t,n){var i=this;void 0===t&&(t=G),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[V]=Bn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,v(Map)||r(18),this.keysAtom_=$("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,ze(!0,(function(){i.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!dt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Ye(this.has_(e),J,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Ut(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(dn(this)){var r=mn(this,{type:n?wn:Nn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if(this.keysAtom_,dn(this)&&!mn(this,{type:In,object:this,name:e}))return!1;if(this.has_(e)){var n=gn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:In,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return cn((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==dt.UNCHANGED){var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:wn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&vn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,cn((function(){var r,i=new Ye(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=gn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Nn,object:this,name:e,newValue:t}:null;r&&vn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return mr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return mr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Rn]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=L(this);!(n=r()).done;){var i=n.value,a=i[0],o=i[1];e.call(t,o,a,this)}},t.merge=function(e){var t=this;return Ln(e)&&(e=new Map(e)),cn((function(){w(e)?function(e){var t=Object.keys(e);if(!P)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return c.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):_(e)?(e.constructor!==Map&&r(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&r(20,e)})),this},t.clear=function(){var e=this;cn((function(){it((function(){for(var t,n=L(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return cn((function(){for(var n,i=function(e){if(_(e)||Ln(e))return e;if(Array.isArray(e))return new Map(e);if(w(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return r(21,e)}(e),a=new Map,o=!1,s=L(t.data_.keys());!(n=s()).done;){var l=n.value;if(!i.has(l))if(t.delete(l))o=!0;else{var u=t.data_.get(l);a.set(l,u)}}for(var c,h=L(i.entries());!(c=h()).done;){var p=c.value,d=p[0],f=p[1],m=t.data_.has(d);if(t.set(d,f),t.data_.has(d)){var g=t.data_.get(d);a.set(d,g),m||(o=!0)}}if(!o)if(t.data_.size!==a.size)t.keysAtom_.reportChanged();else for(var y=t.data_.keys(),v=a.keys(),b=y.next(),k=v.next();!b.done;){if(b.value!==k.value){t.keysAtom_.reportChanged();break}b=y.next(),k=v.next()}t.data_=a})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return fn(this,e)},B(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:On,get:function(){return"Map"}}]),e}(),Ln=A("ObservableMap",Hn),qn={};Mn=Symbol.iterator,jn=Symbol.toStringTag;var zn=function(){function e(e,t,n){void 0===t&&(t=G),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[V]=qn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,v(Set)||r(22),this.atom_=$(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;cn((function(){it((function(){for(var t,n=L(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=L(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if(this.atom_,dn(this)&&!mn(this,{type:Nn,object:this,newValue:e}))return this;if(!this.has(e)){cn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=gn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Nn,object:this,newValue:e}:null;n&&vn(this,r)}return this},t.delete=function(e){var t=this;if(dn(this)&&!mn(this,{type:In,object:this,oldValue:e}))return!1;if(this.has(e)){var n=gn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:In,object:this,oldValue:e}:null;return cn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return mr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return mr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return Un(e)&&(e=new Set(e)),cn((function(){Array.isArray(e)||D(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&r("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return fn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Mn]=function(){return this.values()},B(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:jn,get:function(){return"Set"}}]),e}(),Un=A("ObservableSet",zn),Vn=Object.create(null),Kn="remove",Yn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=fe),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new K("ObservableObject.keys"),this.isPlainObject_=w(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Je)return n.set(t),!0;if(dn(this)){var r=mn(this,{type:wn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==dt.UNCHANGED){var i=gn(this),a=i?{type:wn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&vn(this,a)}return!0},t.get_=function(e){return dt.trackingDerivation&&!O(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),O(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!dt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ye(e in this.target_,J,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[q])&&n[e])return;r(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==c;){var a=l(i,e);if(a){var o=t.make_(this,e,a,i);if(0===o)return;if(1===o)break}i=Object.getPrototypeOf(i)}Xn(this,0,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&Xn(this,0,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{gt();var r=this.delete_(e);if(!r)return r;if(dn(this)){var i=mn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=N({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else u(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{yt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{gt();var i=this.delete_(e);if(!i)return i;if(dn(this)){var a=mn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:t});if(!a)return null;t=a.newValue}var o=Gn(e),s={configurable:!dt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else u(this.target_,e,s);var l=new Ye(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{yt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{gt();var r=this.delete_(e);if(!r)return r;if(dn(this)&&!mn(this,{object:this.proxy_||this.target_,name:e,type:Nn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Gn(e),a={configurable:!dt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else u(this.target_,e,a);this.values_.set(e,new Je(t)),this.notifyPropertyAddition_(e,void 0)}finally{yt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!O(this.target_,e))return!0;if(dn(this)&&!mn(this,{object:this.proxy_||this.target_,name:e,type:Kn}))return null;try{var n,r;gt();var i,a=gn(this),o=this.values_.get(e),s=void 0;if(!o&&a&&(s=null==(i=l(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof Ye&&(s=o.value_),bt(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),a){var u={type:Kn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};a&&vn(this,u)}}finally{yt()}return!0},t.observe_=function(e,t){return yn(this,e)},t.intercept_=function(e){return fn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=gn(this);if(i){var a=i?{type:Nn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&vn(this,a)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),C(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function $n(e,t){var n;if(O(e,V))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Yn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:me(e):void 0}(t));return S(e,V,i),e}var Wn=A("ObservableObjectAdministration",Yn);function Gn(e){return Vn[e]||(Vn[e]={get:function(){return this[V].getObservablePropValue_(e)},set:function(t){return this[V].setObservablePropValue_(e,t)}})}function Jn(e){return!!k(e)&&Wn(e[V])}function Xn(e,t,n){var r;null==(r=e.target_[q])||delete r[n]}var Qn,Zn,er=ir(0),tr=0,nr=function(){};Qn=nr,Zn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Qn.prototype,Zn):void 0!==Qn.prototype.__proto__?Qn.prototype.__proto__=Zn:Qn.prototype=Zn;var rr=function(e,t,n){function r(t,n,r,i){var a;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this;var o=new Sn(r,n,i,!0);if(o.proxy_=j(a),E(j(a),V,o),t&&t.length){var s=Ue(!0);a.spliceWithArray(0,0,t),Ve(s)}return Object.defineProperty(j(a),"0",er),a}I(r,e);var i=r.prototype;return i.concat=function(){this[V].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Fn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return mr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},B(r,[{key:"length",get:function(){return this[V].getArrayLength_()},set:function(e){this[V].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(nr,Symbol.toStringTag,Symbol.iterator);function ir(e){return{enumerable:!1,configurable:!0,get:function(){return this[V].get_(e)},set:function(t){this[V].set_(e,t)}}}function ar(e){u(rr.prototype,""+e,ir(e))}function or(e){if(e>tr){for(var t=tr;t<e+100;t++)ar(t);tr=e}}function sr(e,t,n){return new rr(e,t,n)}function lr(e,t){if("object"==typeof e&&null!==e){if(Fn(e))return void 0!==t&&r(23),e[V].atom_;if(Un(e))return e[V];if(Ln(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||r(25,t,cr(e)),n}if(Jn(e)){if(!t)return r(26);var i=e[V].values_.get(t);return i||r(27,t,cr(e)),i}if(Y(e)||Xe(e)||At(e))return e}else if(v(e)&&At(e[V]))return e[V];r(28)}function ur(e,t){return e||r(29),void 0!==t?ur(lr(e,t)):Y(e)||Xe(e)||At(e)||Ln(e)||Un(e)?e:e[V]?e[V]:void r(24,e)}function cr(e,t){var n;if(void 0!==t)n=lr(e,t);else{if(It(e))return e.name;n=Jn(e)||Ln(e)||Un(e)?ur(e):lr(e)}return n.name_}Object.entries(An).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&S(rr.prototype,t,n)})),or(1e3);var hr=c.toString;function pr(e,t,n){return void 0===n&&(n=-1),dr(e,t,n)}function dr(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=hr.call(e);if(o!==hr.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=fr(e),t=fr(t);var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(v(l)&&l instanceof l&&v(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return i[c]===t;if(r.push(e),i.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!dr(e[c],t[c],n-1,r,i))return!1}else{var h,p=Object.keys(e);if(c=p.length,Object.keys(t).length!==c)return!1;for(;c--;)if(!O(t,h=p[c])||!dr(e[h],t[h],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function fr(e){return Fn(e)?e.slice():_(e)||Ln(e)||D(e)||Un(e)?Array.from(e.entries()):e}function mr(e){return e[Symbol.iterator]=gr,e}function gr(){return this}if(["Symbol","Map","Set"].forEach((function(e){void 0===o()[e]&&r("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:cr},$mobx:V}),!t.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!bn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function yr(e){e()}function vr(e){return function(e,t){return Wt(lr(e,t))}(e)}var br="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function kr(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+wr}}var wr=1e4,xr=br?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,i,a){var o=n++;return r.register(a,o,e),e.current=kr(i),e.current.finalizationRegistryCleanupToken=o,t.set(o,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(br):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,i){var a;return e.current=kr(r),a=e,t.add(a),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),a=i.next();!a.done;a=i.next()){var o=a.value,s=o.current;s&&(s.reaction.dispose(),o.current=null)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),Sr=xr.addReactionToTrack,Er=xr.recordReactionAsCommitted,Ar=(xr.resetCleanupScheduleForTests,xr.forceCleanupTimerToRunNowForTests,!1);function _r(){return Ar}var Dr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function Pr(e){return"observer".concat(e)}var Cr=function(){};function Rr(){return new Cr}var Or="function"==typeof Symbol&&Symbol.for,Tr=Or?Symbol.for("react.forward_ref"):"function"==typeof t.forwardRef&&(0,t.forwardRef)((function(e){return null})).$$typeof,Fr=Or?Symbol.for("react.memo"):"function"==typeof t.memo&&(0,t.memo)((function(e){return null})).$$typeof;function Br(e,n){var r;if(Fr&&e.$$typeof===Fr)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(_r())return e;var i=null!==(r=null==n?void 0:n.forwardRef)&&void 0!==r&&r,a=e,o=e.displayName||e.name;if(Tr&&e.$$typeof===Tr&&(i=!0,"function"!=typeof(a=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,l,u=function(e,n){return function(e,n){if(void 0===n&&(n="observed"),_r())return e();var r=Dr(t.useState(Rr),1)[0],i=Dr(t.useState(),2)[1],a=function(){return i([])},o=t.useRef(null);if(!o.current)var s=new kt(Pr(n),(function(){l.mounted?a():l.changedBeforeMount=!0})),l=Sr(o,s,r);var u,c,h=o.current.reaction;if(t.useDebugValue(h,vr),t.useEffect((function(){return Er(o),o.current?(o.current.mounted=!0,o.current.changedBeforeMount&&(o.current.changedBeforeMount=!1,a())):(o.current={reaction:new kt(Pr(n),(function(){a()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}}),[]),h.track((function(){try{u=e()}catch(e){c=e}})),c)throw c;return u}((function(){return a(e,n)}),o)};return""!==o&&(u.displayName=o),e.contextTypes&&(u.contextTypes=e.contextTypes),i&&(u=(0,t.forwardRef)(u)),s=e,l=u=(0,t.memo)(u),Object.keys(s).forEach((function(e){Nr[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))})),u}var Nr={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};!function(e){e||(e=yr),Yt({reactionScheduler:e})}(e.unstable_batchedUpdates);var Ir=0,Mr={};function jr(e){return Mr[e]||(Mr[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+Ir+")";return Ir++,t}(e)),Mr[e]}function Hr(e,t){if(Lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!Lr(e[n[i]],t[n[i]]))return!1;return!0}function Lr(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function qr(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var zr=jr("patchMixins"),Ur=jr("patchedDefinition");function Vr(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t.locks++;try{var o;return null!=e&&(o=e.apply(this,i)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function Kr(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Vr.call.apply(Vr,[this,e,t].concat(r))}}function Yr(e,t,n){var r=function(e,t){var n=e[zr]=e[zr]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Ur]){var a=e[t],o=$r(e,t,i?i.enumerable:void 0,r,a);Object.defineProperty(e,t,o)}}function $r(e,t,n,r,i){var a,o=Kr(i,r);return(a={})[Ur]=!0,a.get=function(){return o},a.set=function(i){if(this===e)o=Kr(i,r);else{var a=$r(this,t,n,r,i);Object.defineProperty(this,t,a)}},a.configurable=!0,a.enumerable=n,a}var Wr,Gr,Jr=V||"$mobx",Xr=jr("isMobXReactObserver"),Qr=jr("isUnmounted"),Zr=jr("skipRender"),ei=jr("isForcingUpdate");function ti(e){var n=e.prototype;if(e[Xr]){var r=ni(n);console.warn("The provided component class ("+r+")\n                has already been declared as an observer component.")}else e[Xr]=!0;if(n.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==t.PureComponent)if(n.shouldComponentUpdate){if(n.shouldComponentUpdate!==ii)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else n.shouldComponentUpdate=ii;ai(n,"props"),ai(n,"state"),e.contextType&&ai(n,"context");var i=n.render;if("function"!=typeof i){var a=ni(n);throw new Error("[mobx-react] class component ("+a+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return n.render=function(){return this.render=_r()?i:ri.call(this,i),this.render()},Yr(n,"componentDidMount",(function(){this[Qr]=!1,this.render[Jr]||t.Component.prototype.forceUpdate.call(this)})),Yr(n,"componentWillUnmount",(function(){if(!_r()){var e=this.render[Jr];if(e)e.dispose(),this.render[Jr]=null;else{var t=ni(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[Qr]=!0}})),e}function ni(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function ri(e){var n=this;qr(this,Zr,!1),qr(this,ei,!1);var r=ni(this),i=e.bind(this),a=!1;return function e(){var o;a=!1;var s=null!=(o=e[Jr])?o:e[Jr]=function(){var e=new kt(r+".render()",(function(){if(!a&&(a=!0,!0!==n[Qr])){var r=!0;try{qr(n,ei,!0),n[Zr]||t.Component.prototype.forceUpdate.call(n),r=!1}finally{qr(n,ei,!1),r&&(e.dispose(),n.render[Jr]=null)}}}));return e.reactComponent=n,e}(),l=void 0,u=void 0;if(s.track((function(){try{u=ze(!1,i)}catch(e){l=e}})),l)throw l;return u}}function ii(e,t){return _r()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Hr(this.props,e)}function ai(e,t){var n=jr("reactProp_"+t+"_valueHolder"),r=jr("reactProp_"+t+"_atomHolder");function i(){return this[r]||qr(this,r,$("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return st&&lt&&(e=st(!0)),i.call(this).reportObserved(),st&&lt&&lt(e),this[n]},set:function(e){this[ei]||Hr(this[n],e)?qr(this,n,e):(qr(this,n,e),qr(this,Zr,!0),i.call(this).reportChanged(),qr(this,Zr,!1))}})}function oi(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(t.Component,e)||Object.prototype.isPrototypeOf.call(t.PureComponent,e)?ti(e):Br(e)}if(!t.Component)throw new Error("mobx-react requires React to be available");if(!Re)throw new Error("mobx-react requires mobx to be available");function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(this,arguments)}function li(e,t){if(!1===e||null==e)throw new Error(t)}function ui(e,t,n,r){return void 0===n&&(n=null),si({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?hi(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ci(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function hi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pi(e){let t="undefined"!=typeof window&&void 0!==window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"==typeof e?e:ci(e);return li(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function di(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map(((e,r)=>{let i=[...t,r],a="string"==typeof e.id?e.id:i.join("-");return li(!0!==e.index||!e.children,"Cannot specify children on an index route"),li(!n.has(a),'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),n.add(a),function(e){return!0===e.index}(e)?si({},e,{id:a}):si({},e,{id:a,children:e.children?di(e.children,i,n):void 0})}))}function fi(e,t,n){void 0===n&&(n="/");let r=Pi(("string"==typeof t?hi(t):t).pathname||"/",n);if(null==r)return null;let i=mi(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let e=0;null==a&&e<i.length;++e)a=Ai(i[e],Di(r));return a}function mi(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(li(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=Ti([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(li(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),mi(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Ei(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of gi(e.path))i(e,t,n);else i(e,t)})),t}function gi(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=gi(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Wr||(Wr={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Gr||(Gr={}));const yi=/^:\w+$/,vi=3,bi=2,ki=1,wi=10,xi=-2,Si=e=>"*"===e;function Ei(e,t){let n=e.split("/"),r=n.length;return n.some(Si)&&(r+=xi),t&&(r+=bi),n.filter((e=>!Si(e))).reduce(((e,t)=>e+(yi.test(t)?vi:""===t?ki:wi)),r)}function Ai(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let e=0;e<n.length;++e){let o=n[e],s=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=_i({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},l);if(!u)return null;Object.assign(r,u.params);let c=o.route;a.push({params:r,pathname:Ti([i,u.pathname]),pathnameBase:Fi(Ti([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=Ti([i,u.pathnameBase]))}return a}function _i(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),Ci("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Ci(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function Di(e){try{return decodeURI(e)}catch(t){return Ci(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Pi(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ci(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function Ri(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Oi(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),Fi=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bi=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ni=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Ii extends Error{}class Mi{constructor(e){let t;this.pendingKeys=new Set,this.subscriber=void 0,li(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,n)=>t=n)),this.controller=new AbortController;let n=()=>t(new Ii("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,null,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof Ii)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const i=this.subscriber;return n?(Object.defineProperty(e,"_error",{get:()=>n}),i&&i(!1),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),i&&i(!1),r)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach(((e,t)=>this.pendingKeys.delete(t)));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeys.size}get unwrappedData(){return li(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:ji(r)})}),{})}}function ji(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}class Hi{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Li(e){return e instanceof Hi}const qi=["post","put","patch","delete"],zi=new Set(qi),Ui=["get",...qi],Vi=new Set(Ui),Ki=new Set([301,302,303,307,308]),Yi=new Set([307,308]),$i={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Wi={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Gi=!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement);function Ji(e,t,n){void 0===n&&(n=!1);let r,i="string"==typeof e?e:ci(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&(a=t.formMethod,!Vi.has(a)))return{path:i,error:sa(405,{method:t.formMethod})};var a;if(t.formData&&(r={formMethod:t.formMethod||"get",formAction:ua(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},da(r.formMethod)))return{path:i,submission:r};let o=hi(i);try{let e=na(t.formData);n&&o.search&&ga(o.search)&&e.append("index",""),o.search="?"+e}catch(e){return{path:i,error:sa(400)}}return{path:ci(o),submission:r}}function Xi(e,t,n,r,i,a,o,s,l,u){let c=l?Object.values(l)[0]:s?Object.values(s)[0]:void 0,h=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(t,l?Object.keys(l)[0]:void 0).filter(((t,o)=>null!=t.route.loader&&(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(e.loaderData,e.matches[o],t)||a.some((e=>e===t.route.id))||Zi(e.location,e.matches[o],n,r,t,i,c)))),p=[];return u&&u.forEach(((e,t)=>{let[r,a,s]=e;(o.includes(t)||i&&Zi(r,a,n,r,a,i,c))&&p.push([t,r,a,s])})),[h,p]}function Qi(e,t){let n=e.route.path;return e.pathname!==t.pathname||n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Zi(e,t,n,r,i,a,o){let s=pi(e),l=t.params,u=pi(r),c=i.params,h=Qi(t,i)||s.toString()===u.toString()||s.search!==u.search||a;if(i.route.shouldRevalidate){let e=i.route.shouldRevalidate(si({currentUrl:s,currentParams:l,nextUrl:u,nextParams:c},n,{actionResult:o,defaultShouldRevalidate:h}));if("boolean"==typeof e)return e}return h}async function ea(e,t,n,r,i,a,o,s){let l,u,c;void 0===i&&(i="/"),void 0===a&&(a=!1),void 0===o&&(o=!1);let h=new Promise(((e,t)=>c=t)),p=()=>c();t.signal.addEventListener("abort",p);try{let r=n.route[e];li(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),u=await Promise.race([r({request:t,params:n.params,context:s}),h]),li(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=Gr.error,u=e}finally{t.signal.removeEventListener("abort",p)}if(function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}(u)){let e,s=u.status;if(Ki.has(s)){let e=u.headers.get("Location");if(li(e,"Redirects returned/thrown from loaders/actions must have a Location header"),!/^[a-z+]+:\/\//i.test(e)&&!e.startsWith("//")){let a=function(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=hi(e):(i=si({},e),li(!i.pathname||!i.pathname.includes("?"),Ri("?","pathname","search",i)),li(!i.pathname||!i.pathname.includes("#"),Ri("#","pathname","hash",i)),li(!i.search||!i.search.includes("#"),Ri("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?hi(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Bi(r),hash:Ni(i)}}(i,a),u=s&&"/"!==s&&s.endsWith("/"),c=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}(e,Oi(r.slice(0,r.indexOf(n)+1)).map((e=>e.pathnameBase)),new URL(t.url).pathname);if(li(ci(a),"Unable to resolve redirect location: "+e),i){let e=a.pathname;a.pathname="/"===e?i:Ti([i,e])}e=ci(a)}if(a)throw u.headers.set("Location",e),u;return{type:Gr.redirect,status:s,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate")}}if(o)throw{type:l||Gr.data,response:u};let c=u.headers.get("Content-Type");return e=c&&/\bapplication\/json\b/.test(c)?await u.json():await u.text(),l===Gr.error?{type:l,error:new Hi(s,u.statusText,e),headers:u.headers}:{type:Gr.data,data:e,statusCode:u.status,headers:u.headers}}return l===Gr.error?{type:l,error:u}:u instanceof Mi?{type:Gr.deferred,deferredData:u}:{type:Gr.data,data:u}}function ta(e,t,n){let r=pi(ua(e)).toString(),i={signal:t};if(n&&da(n.formMethod)){let{formMethod:e,formEncType:t,formData:r}=n;i.method=e.toUpperCase(),i.body="application/x-www-form-urlencoded"===t?na(r):r}return new Request(r,i)}function na(e){let t=new URLSearchParams;for(let[n,r]of e.entries())li("string"==typeof r,'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(n,r);return t}function ra(e,t,n,r,i,a,o,s){let{loaderData:l,errors:u}=function(e,t,n,r,i){let a,o={},s=null,l=!1,u={};return n.forEach(((n,c)=>{let h=t[c].route.id;if(li(!pa(n),"Cannot handle redirect results in processLoaderData"),ha(n)){let t=aa(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),o[h]=void 0,l||(l=!0,a=Li(n.error)?n.error.status:500),n.headers&&(u[h]=n.headers)}else ca(n)?(i&&i.set(h,n.deferredData),o[h]=n.deferredData.data):(o[h]=n.data,null==n.statusCode||200===n.statusCode||l||(a=n.statusCode),n.headers&&(u[h]=n.headers))})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}(t,n,r,i,s);for(let t=0;t<a.length;t++){let[n,,r]=a[t];li(void 0!==o&&void 0!==o[t],"Did not find corresponding fetcher result");let i=o[t];if(ha(i)){let t=aa(e.matches,r.route.id);u&&u[t.route.id]||(u=si({},u,{[t.route.id]:i.error})),e.fetchers.delete(n)}else{if(pa(i))throw new Error("Unhandled fetcher revalidation redirect");if(ca(i))throw new Error("Unhandled fetcher deferred data");{let t={state:"idle",data:i.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(n,t)}}}return{loaderData:l,errors:u}}function ia(e,t,n,r){let i=si({},t);for(let a of n){let n=a.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function aa(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function oa(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function sa(e,t){let{pathname:n,routeId:r,method:i}=void 0===t?{}:t,a="Unknown Server Error",o="Unknown @remix-run/router error";return 400===e?(a="Bad Request",o=i&&n&&r?"You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"Cannot submit binary form data using GET"):403===e?(a="Forbidden",o='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",o='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?o="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new Hi(e||500,a,new Error(o),!0)}function la(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(pa(n))return n}}function ua(e){return ci(si({},"string"==typeof e?hi(e):e,{hash:""}))}function ca(e){return e.type===Gr.deferred}function ha(e){return e.type===Gr.error}function pa(e){return(e&&e.type)===Gr.redirect}function da(e){return zi.has(e)}async function fa(e,t,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o],u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!Qi(u,l)&&void 0!==(a&&a[l.route.id]);ca(s)&&(i||c)&&await ma(s,r,i).then((e=>{e&&(n[o]=e||n[o])}))}}async function ma(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Gr.data,data:e.deferredData.unwrappedData}}catch(e){return{type:Gr.error,error:e}}return{type:Gr.data,data:e.deferredData.data}}}function ga(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function ya(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function va(e,t){let n="string"==typeof t?hi(t).search:t.search;if(e[e.length-1].route.index&&ga(n||""))return e[e.length-1];let r=Oi(e);return r[r.length-1]}function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}const ka="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:wa,useEffect:xa,useLayoutEffect:Sa,useDebugValue:Ea}=n;function Aa(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!ka(n,e)}catch(e){return!0}}const _a="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t,n){return t()}:function(e,t,n){const r=t(),[{inst:i},a]=wa({inst:{value:r,getSnapshot:t}});return Sa((()=>{i.value=r,i.getSnapshot=t,Aa(i)&&a({inst:i})}),[e,r,t]),xa((()=>(Aa(i)&&a({inst:i}),e((()=>{Aa(i)&&a({inst:i})})))),[e]),Ea(r),r},Da=_a,Pa=t.createContext(null),Ca=t.createContext(null),Ra=t.createContext(null),Oa=t.createContext(null),Ta=t.createContext(null),Fa=t.createContext({outlet:null,matches:[]}),Ba=t.createContext(null);function Na(){return null!=t.useContext(Ta)}function Ia(){let e=function(){var e;let n=t.useContext(Ba),r=function(e){let n=t.useContext(Ra);return n||li(!1),n}(La.UseRouteError),i=function(e){let n=function(e){let n=t.useContext(Fa);return n||li(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||li(!1),r.route.id}(La.UseRouteError);return n||(null==(e=r.errors)?void 0:e[i])}(),n=Li(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"💿 Hey developer 👋"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"errorElement")," props on ",t.createElement("code",{style:o},"<Route>")))}class Ma extends t.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(Fa.Provider,{value:this.props.routeContext},t.createElement(Ba.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ja(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(Pa);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(Fa.Provider,{value:n},i)}var Ha,La,qa;function za(e){let{fallbackElement:n,router:r}=e,i=Da(r.subscribe,(()=>r.state),(()=>r.state)),a=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),o=r.basename||"/";return t.createElement(Ca.Provider,{value:{router:r,navigator:a,static:!1,basename:o}},t.createElement(Ra.Provider,{value:i},t.createElement(Va,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:a},r.state.initialized?t.createElement(Ka,null):n)))}function Ua(e){li(!1)}function Va(e){let{basename:n="/",children:r=null,location:i,navigationType:a=Wr.Pop,navigator:o,static:s=!1}=e;Na()&&li(!1);let l=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:l,navigator:o,static:s})),[l,o,s]);"string"==typeof i&&(i=hi(i));let{pathname:c="/",search:h="",hash:p="",state:d=null,key:f="default"}=i,m=t.useMemo((()=>{let e=Pi(c,l);return null==e?null:{pathname:e,search:h,hash:p,state:d,key:f}}),[l,c,h,p,d,f]);return null==m?null:t.createElement(Oa.Provider,{value:u},t.createElement(Ta.Provider,{children:r,value:{location:m,navigationType:a}}))}function Ka(e){let{children:n,location:r}=e,i=t.useContext(Ca);return function(e,n){Na()||li(!1);let{navigator:r}=t.useContext(Oa),i=t.useContext(Ra),{matches:a}=t.useContext(Fa),o=a[a.length-1],s=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,c=(Na()||li(!1),t.useContext(Ta).location);if(n){var h;let e="string"==typeof n?hi(n):n;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||li(!1),u=e}else u=c;let p=u.pathname||"/",d=fi(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),f=function(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}let i=e,a=null==r?void 0:r.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||li(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,o,s)=>{let l=o.route.id?null==a?void 0:a[o.route.id]:null,u=r?o.route.errorElement||t.createElement(Ia,null):null,c=n.concat(i.slice(0,s+1)),h=()=>t.createElement(ja,{match:o,routeContext:{outlet:e,matches:c}},l?u:void 0!==o.route.element?o.route.element:e);return r&&(o.route.errorElement||0===s)?t.createElement(Ma,{location:r.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()}),null)}(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Ti([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Ti([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i||void 0);return n&&f?t.createElement(Ta.Provider,{value:{location:ba({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wr.Pop}},f):f}(i&&!n?i.router.routes:Ya(n),r)}function Ya(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;if(e.type===t.Fragment)return void r.push.apply(r,Ya(e.props.children,n));e.type!==Ua&&li(!1),e.props.index&&e.props.children&&li(!1);let a=[...n,i],o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ya(e.props.children,a)),r.push(o)})),r}!function(e){e.UseRevalidator="useRevalidator"}(Ha||(Ha={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(La||(La={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(qa||(qa={})),new Promise((()=>{})),t.Component;var $a=i(3358),Wa=i.n($a),Ga=i(5072),Ja=i.n(Ga),Xa=i(7825),Qa=i.n(Xa),Za=i(7659),eo=i.n(Za),to=i(5056),no=i.n(to),ro=i(540),io=i.n(ro),ao=i(1113),oo=i.n(ao),so=i(5399),lo={};lo.styleTagTransform=oo(),lo.setAttributes=no(),lo.insert=eo().bind(null,"head"),lo.domAPI=Qa(),lo.insertStyleElement=io(),Ja()(so.A,lo);const uo=so.A&&so.A.locals?so.A.locals:void 0;var co=i(2856),ho={};ho.styleTagTransform=oo(),ho.setAttributes=no(),ho.insert=eo().bind(null,"head"),ho.domAPI=Qa(),ho.insertStyleElement=io(),Ja()(co.A,ho);const po=co.A&&co.A.locals?co.A.locals:void 0;function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}function mo(e){let{type:n,size:r,className:i,children:a,to:o,...s}=e;return t.createElement("button",fo({className:Wa()(po.button,i,n&&po[n],r&&po[r])},s),a)}var go=i(5316),yo={};yo.styleTagTransform=oo(),yo.setAttributes=no(),yo.insert=eo().bind(null,"head"),yo.domAPI=Qa(),yo.insertStyleElement=io(),Ja()(go.A,yo);const vo=go.A&&go.A.locals?go.A.locals:void 0;function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}function ko(e){let{onValueChange:n,onChange:r,...i}=e;const a=(0,t.useCallback)((e=>{r&&r(e),e.isDefaultPrevented&&n&&n(e.currentTarget.value)}),[r,n]);return t.createElement("div",{className:vo.container},t.createElement("input",bo({className:vo.input},i,{onChange:a})))}function wo(e){let{onValueChange:n,onChange:r,min:i,max:a,value:o,className:s,...l}=e;const[u,c]=(0,t.useState)((()=>String(o||0)));(0,t.useEffect)((()=>{c(String(o))}),[o]);const h=(0,t.useCallback)((e=>{r&&r(e),e.isDefaultPrevented&&c(e.currentTarget.value)}),[r,n]),p=(0,t.useCallback)((()=>{let e=Math.floor(Number(u));i&&(e=Math.max(i,e)),a&&(e=Math.min(a,e)),n&&n(e),c(String(e))}),[u,o]),d=(0,t.useCallback)((()=>{o<a&&n&&n(o+1)}),[o,a]),f=(0,t.useCallback)((()=>{o>i&&n&&n(o-1)}),[o,i]);return t.createElement("div",{className:vo.container},t.createElement(mo,{disabled:o<=i,className:vo.btn,onClick:f},"-"),t.createElement("input",bo({className:Wa()(vo.input,vo.inputNum,s)},l,{value:u,onChange:h,onBlur:p,inputMode:"numeric"})),t.createElement(mo,{disabled:o>=a,className:vo.btn,onClick:d},"+"))}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(this,arguments)}function So(e){let{className:n,numberOfLines:r,style:i,onPress:a,...o}=e;return t.createElement("span",xo({className:Wa()(uo.text,n,r&&uo["numberOfLine"+r]),onClick:a},o))}const Eo=(0,t.forwardRef)((function(e,n){let{className:r,...i}=e;return t.createElement("div",xo({ref:n,className:Wa()(uo.view,r)},i))}));function Ao(e){let{activeOpacity:n,className:r,onPress:i,onLongPress:a,disabled:o,...s}=e,l=(0,t.useMemo)((()=>({})));const u=(0,t.useCallback)((()=>{o||i()}),[o,i]),c=(0,t.useCallback)((()=>{l.timer=setTimeout((()=>{a()}),800)}),[a]),h=(0,t.useCallback)((()=>{l.timer&&(clearTimeout(l.timer),l.timer=null)}),[a]);return t.createElement("div",xo({className:Wa()(uo.touchable,o&&uo.disabled,r),onClick:u},s,{onMouseDown:c,onTouchStart:c,onMouseUp:h,onTouchEnd:h,role:"button"}))}const _o=t.forwardRef((function(e,n){let{className:r,children:i,contentContainerClassName:a,horizontal:o,bounces:s=!0,...l}=e;return t.createElement("div",xo({className:Wa()(o?uo.scrollViewH:uo.scrollView,s&&uo.bounces,r)},l,{ref:n}),t.createElement("div",{className:Wa()(o?uo.scrollViewContentH:uo.scrollViewContent,a)},i))})),Do=t.memo((function(e){let{render:t,data:n}=e;return t(n)}));function Po(e){let{enableEmptySections:n,dataSource:r,renderFooter:i,renderRow:a,...o}=e;return t.createElement(_o,o,r&&r.map((e=>t.createElement(Do,{render:a,data:e,key:e.key||e[0]}))),i&&t.createElement(Do,{render:i}))}function Co(e){let{value:n,onValueChange:r}=e;const i=t.useCallback((e=>{r(e.currentTarget.checked)}));return t.createElement("input",{type:"checkbox",checked:n,onChange:i})}Po.DataSource=class{constructor(){}cloneWithRows(e){return[...e]}};var Ro=i(5516),Oo=function(){};function To(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var Fo=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(Fo(Object.getPrototypeOf(e))||[])},Bo=function(e){return function(e){var t=Fo(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},No="pending",Io="fulfilled",Mo="rejected";function jo(e){switch(this.state){case No:return e.pending&&e.pending(this.value);case Mo:return e.rejected&&e.rejected(this.value);case Io:return e.fulfilled?e.fulfilled(this.value):this.value}}function Ho(e,t){if(To(arguments.length<=2,"fromPromise expects up to two arguments"),To("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Ft("observableFromPromise-resolve",(function(e){n.value=e,n.state=Io})),Ft("observableFromPromise-reject",(function(e){n.value=e,n.state=Mo}))),n.isPromiseBasedObservable=!0,n.case=jo;var r=t&&t.state===Io?t.value:void 0;return $t(n,{value:r,state:No},{},{deep:!1}),n}function Lo(e,t,n){void 0===t&&(t=Oo),void 0===n&&(n=void 0);var r=!1,i=!1,a=n,o=function(){r&&(r=!1,t())},s=$("ResourceBasedObservable",(function(){To(!r&&!i),r=!0,e((function(e){ze(!0,(function(){a=e,s.reportChanged()}))}))}),o);return{current:function(){return To(!i,"subscribingObservable has already been disposed"),s.reportObserved()||r||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),a},dispose:function(){i=!0,o()},isAlive:function(){return r}}}!function(e){e.reject=Ft("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=Mo,n.value=t,n})),e.resolve=Ft("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=Io,n.value=t,n}))}(Ho||(Ho={}));var qo=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};!function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),bn(this),Nt((function(){n.current=t,n.subscription=e.subscribe(n)}))}Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),qo([Re.ref],e.prototype,"current",void 0),qo([Ft.bound],e.prototype,"next",null),qo([Ft.bound],e.prototype,"complete",null),qo([Ft.bound],e.prototype,"error",null)}();var zo=function(){return zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zo.apply(this,arguments)},Uo=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},Vo=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function Ko(e,t){var n=lr(e,t);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return on(n,(function(){}))}!function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:Re.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:Re.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),bn(this),To(Jn(e),"createViewModel expects an observable object");var n=Bo(this);Bo(e).forEach((function(r){var i;if(!n.includes(r)&&r!==V&&"__mobxDidRunLazyInitializers"!==r){if(To(-1===Vo.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),rn(e,r)){var a=ur(e,r),o=a.derivation.bind(t),s=null===(i=a.setter_)||void 0===i?void 0:i.bind(t);t.localComputedValues.set(r,Be(o,{set:s}))}var l=Object.getOwnPropertyDescriptor(e,r),u=l?{enumerable:l.enumerable}:{};Object.defineProperty(t,r,zo(zo({},u),{configurable:!0,get:function(){return rn(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Ft((function(n){rn(e,r)?t.localComputedValues.get(r).set(n):n!==t.model[r]?t.localValues.set(r,n):t.localValues.delete(r)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;(function(e){return Jn(e)?e[V].keys_():Ln(e)||Un(e)?Array.from(e.keys()):Fn(e)?e.map((function(e,t){return t})):void r(5)})(this.localValues).forEach((function(t){var n=e.localValues.get(t),r=e.model[t];Fn(r)?r.replace(n):Ln(r)?(r.clear(),r.merge(n)):nn(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),Uo([Be],e.prototype,"isDirty",null),Uo([Be],e.prototype,"changedValues",null),Uo([Ft.bound],e.prototype,"submit",null),Uo([Ft.bound],e.prototype,"reset",null),Uo([Ft.bound],e.prototype,"resetProperty",null)}();var Yo={};function $o(e){return tt()||console.warn("'expr' should only be used inside other reactive functions."),Be(e).get()}var Wo,Go,Jo,Xo,Qo=(Wo=function(e,t){return Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Wo(e,t)},function(e,t){function n(){this.constructor=e}Wo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Zo=(function(e){function t(t,n,r){var i=void 0===r?{}:r,a=i.name,o=void 0===a?"ogm"+(1e3*Math.random()|0):a,s=i.keyToName,l=void 0===s?function(e){return""+e}:s,u=e.call(this)||this;Object.defineProperty(u,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(u,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),u._keyToName=l,u._groupBy=n,u._ogmInfoKey=Symbol("ogmInfo"+o),u._base=t;for(var c=0;c<t.length;c++)u._addItem(t[c]);return u._disposeBaseObserver=on(u._base,(function(e){if("splice"===e.type)cn((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];u._removeItem(r)}for(var i=0,a=e.added;i<a.length;i++){var o=a[i];u._addItem(o)}}));else{if("update"!==e.type)throw new Error("illegal state");cn((function(){u._removeItem(e.oldValue),u._addItem(e.newValue)}))}})),u}Qo(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Re([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),r=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:r.length,reaction:Lt((function(){return t._groupBy(e)}),(function(n,r){var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var a=t._getGroupArr(n),o=a.length;a.push(e),i.groupByValue=n,i.groupArrIndex=o}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),r.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}(Hn),function(){function e(e,t){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0}}),Object.defineProperty(e.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),e}());Object.defineProperty(function(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new Zo(this.store,e)}});class es{constructor(e){(function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(this,"items",[]),this.compare=e}add(e){return this.bubbleUp(this.items.length,e)}minimum(){return this.items[0]}removeMin(){1!==this.items.length?this.bubbleDown(0,this.items.pop()):this.items.pop()}bubbleUp(e,t){let n;for(;e>0&&(n=e-1>>1,this.compare(t,this.items[n]));)this.items[e]=this.items[n],e=n;return this.items[e]=t,e}bubbleDown(e,t){for(;;){let n=1+(e<<1);if(n>=this.items.length)break;if(n+1<this.items.length&&this.compare(this.items[n+1],this.items[n])&&(n+=1),!this.compare(this.items[n],t))break;this.items[e]=this.items[n],e=n}return this.items[e]=t,e}}function ts(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ns(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const rs={setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:e=>window.clearTimeout(e),getTime:()=>Date.now(),tryUpdate:()=>{},get now(){return void 0===(e="frame")&&(e=1e3),tt()?(Yo[e]||(Yo[e]="number"==typeof e?function(e){var t;return Lo((function(n){n(Date.now()),t=setInterval((function(){return n(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}(e):t=Lo((function(e){e(Date.now()),function n(){window.requestAnimationFrame((function(){e(Date.now()),t.isAlive()&&n()}))}()}),(function(){}),Date.now())),Yo[e].current()):Date.now();var e,t}};let is=0,as=(Jo=ns((Go=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rs;ts(this,"rate",Jo,this),ts(this,"paused",Xo,this),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"lastEnd",Date.now()),bn(this),this.tree=new es(((e,t)=>e.at<t.at)),this.parent=e,this.parentCurrent=e.getTime(),this.isUpdating=!1,this.timer=null,this.current=0,this.onTimer=()=>{this.timer=null,this.update(),this.resetTimer()}}get now(){return this.paused?this.current:(this.parent.now-this.parentCurrent)*this.rate+this.current}dispose(){this.clearTimer()}getTime(){return this.current}tryUpdate(){this.isUpdating||this.paused||(this.parent.tryUpdate(),this.update())}setTimeout(e,t){if(isNaN(t))throw new Error("Invalid delay.");this.tryUpdate();const n={id:++is,at:this.current+t,func:e};return 0===this.tree.add(n)&&(this.isUpdating||this.paused||(this.clearTimer(),this.resetTimer())),n}clearTimeout(e){e.removed=!0}pause(){this.paused||(this.isUpdating||(this.clearTimer(),this.tryUpdate()),this.paused=!0)}resume(){this.paused&&(this.paused=!1,this.parentCurrent=this.parent.getTime(),this.isUpdating||(this.tryUpdate(),this.resetTimer()))}setRate(e){this.rate!==e&&(this.isUpdating||(this.clearTimer(),this.update()),this.rate=e,this.isUpdating||this.resetTimer())}clearTimer(){this.timer&&(this.parent.clearTimeout(this.timer),this.timer=null)}resetTimer(){if(this.paused)return;const e=this.tree.minimum();e&&(this.timer=this.parent.setTimeout(this.onTimer,(e.at-this.current)/this.rate+.01))}update(){this.isUpdating=!0;const e=this.parent.getTime(),t=this.current+(e-this.parentCurrent)*this.rate;for(;;){const e=this.tree.minimum();if(!e||e.at>t)break;this.current=e.at,this.tree.removeMin(),e.removed||(e.removed=!0,e.func())}this.current=t,this.parentCurrent=e,this.isUpdating=!1}stepPaused(e){this.isUpdating=!0;const t=this.lastEnd,n=this.current+e;let r=0;for(;;){const e=this.tree.minimum();if(!e||e.at>n)return this.current=n,this.parentCurrent=this.parent.getTime(),this.savedCurrent=n,this.isUpdating=!1,0;if(this.current=e.at,this.tree.removeMin(),e.removed||(e.removed=!0,e.func()),r+=1,r%100==0&&Date.now()-t>=48){this.lastEnd=Date.now();break}}return this.isUpdating=!1,n-this.current}}).prototype,"rate",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xo=ns(Go.prototype,"paused",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ns(Go.prototype,"pause",[Ft],Object.getOwnPropertyDescriptor(Go.prototype,"pause"),Go.prototype),ns(Go.prototype,"resume",[Ft],Object.getOwnPropertyDescriptor(Go.prototype,"resume"),Go.prototype),ns(Go.prototype,"setRate",[Ft],Object.getOwnPropertyDescriptor(Go.prototype,"setRate"),Go.prototype),Go);var os=i(7615),ss=i(5041),ls={};ls.styleTagTransform=oo(),ls.setAttributes=no(),ls.insert=eo().bind(null,"head"),ls.domAPI=Qa(),ls.insertStyleElement=io(),Ja()(ss.A,ls);const us=ss.A&&ss.A.locals?ss.A.locals:void 0;function cs(e){const t=document.createElement("div");t.className=us.root;const n=document.createElement("div");n.className=us.container,n.appendChild(document.createTextNode(e)),t.appendChild(n),document.body.appendChild(t),setTimeout((()=>{n.className=us.container+" "+us.visible}));let r=!1;function i(){r||(r=!0,n.className=us.container,setTimeout((()=>{document.body.removeChild(t)}),300))}n.addEventListener("click",i),setTimeout(i,1700)}var hs,ps,ds,fs,ms,gs,ys;function vs(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bs(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ks(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let ws=(hs=class{constructor(e,t,n){bs(this,"onTimer",(()=>{if(this.timer=null,this.config.max&&this.count>=this.config.max||this.config.total&&this.total>=this.config.total)return;let e=0;if(this.config.quality){const t=this.config.quality.reduce(((e,t)=>e+t),0);let n=Math.random()*t;e=this.config.quality.findIndex((e=>n<e||(n-=e,!1)))}const{type:t,types:n}=this.config;vu.addEnemy(t||function(e){const t=Object.keys(e),n=t.reduce(((t,n)=>e[n]+t),0);let r=Math.random()*n;for(let n=0;n<t.length;n++){if(r<e[t[n]])return t[n];r-=e[t[n]]}return t[0]}(n),this,e),this.count+=1,this.total+=1,this.setTimer()})),vs(this,"over",ps,this),bs(this,"count",0),bs(this,"total",0),bs(this,"config",null),bs(this,"timeline",null),bs(this,"timer",null),bs(this,"disposed",!1),bn(this),this.timeline=e,this.config=t,n?(this.over=n.over,this.total=n.total,this.setTimer(n.timer)):this.setTimer(!0)}testTimer(){this.config.max&&this.count>=this.config.max&&this.timer&&(this.timeline.clearTimeout(this.timer),this.timer=null)}setTimer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this.config.max&&this.count>=this.config.max||this.config.total&&this.total>=this.config.total))if("number"!=typeof e){if(!this.timer&&!this.disposed){const t=e?this.config.warmup||0:this.config.delay&&this.config.delay+1e3*Math.random()-500;if(!e&&!t)return;this.timer=this.timeline.setTimeout(this.onTimer,t)}}else this.timer=this.timeline.setTimeout(this.onTimer,e)}dispose(){this.disposed=!0,this.timer&&(this.timeline.clearTimeout(this.timer),this.timer=null)}onEnemyKilled(){this.count-=1,this.total>=this.config.total&&this.count<=0?this.over=!0:this.setTimer()}dumpState(){return{over:this.over,total:this.total,timer:this.timer&&this.timer.at-this.timeline.getTime()}}},ps=ks(hs.prototype,"over",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hs),xs=(ys=ks((gs=class{constructor(e,t,n){bs(this,"timeline",void 0),bs(this,"borns",null),vs(this,"map",ys,this),this.timeline=e,this.map=t;const{monsters:r}=this.mapData;this.borns=r&&r.map(((t,r)=>t&&new ws(e,t,n&&n.borns&&n.borns[r])))}dispose(){this.borns&&(this.borns.forEach((e=>e.dispose())),this.borns=null)}get mapData(){return os.maps[this.map]}dumpState(){return{borns:this.borns&&this.borns.map((e=>e&&e.dumpState()))}}onPlayerDeath(){}}).prototype,"map",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ks(gs.prototype,"mapData",[Be],Object.getOwnPropertyDescriptor(gs.prototype,"mapData"),gs.prototype),gs),Ss=(fs=ks((ds=class extends xs{constructor(e,t,n){super(e,t,n),vs(this,"phaseBorn",fs,this),vs(this,"currentPhase",ms,this),bn(this),this.switchToPhase(n?n.currentPhase:0,n&&n.phaseBorn),this.autoDispose=Mt((()=>{const{phaseBorn:e,disposed:t}=this;!t&&e&&e.every((e=>!e||!e.config.total||e.over))&&this.switchToPhase(this.currentPhase+1)}))}get phaseData(){return this.mapData.phases[this.currentPhase]}switchToPhase(e,t){this.currentPhase=e,this.phaseBorn&&(this.phaseBorn.forEach((e=>e.dispose())),this.phaseBorn=null);const{phaseData:n}=this;if(n)this.phaseBorn=n.monsters&&n.monsters.map(((e,n)=>new ws(this.timeline,e,t&&t[n])));else{const{player:e}=vu,t=vu._endlessLevel?"nightmare."+vu._endlessLevel:this.mapData.group||this.map;if(e.countTicket(t)>0){const{exp:n=0,level:r,loots:i}=this.mapData;vu.gotExp(n*(vu._endlessLevel?Math.pow(1.5,vu._endlessLevel):1),Yc(r)),vu.loots(i,r,0),vu.lootEndless(),e.costTicket(t)}if(this.currentPhase=null,vu.pendingMaps.length>0){const[e,t]=vu.pendingMaps.shift();vu._map=e,vu._endlessLevel=t,vu.onMapChanged()}else vu.map=this.mapData.outside||"home"}}dispose(){this.disposed=!0,this.autoDispose&&this.autoDispose(),this.borns&&this.borns.forEach((e=>e.dispose())),this.phaseBorn&&this.phaseBorn.forEach((e=>e.dispose()))}dumpState(){const e=super.dumpState();return e.phaseBorn=this.phaseBorn&&this.phaseBorn.map((e=>e&&e.dumpState())),e.currentPhase=this.currentPhase,e}onPlayerDeath(){if(this.currentPhase=null,vu.pendingMaps.length>0){const[e,t]=vu.pendingMaps.shift();vu._map=e,vu._endlessLevel=t,vu.onMapChanged()}else vu.map=this.mapData.outside||"home"}}).prototype,"phaseBorn",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ms=ks(ds.prototype,"currentPhase",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ks(ds.prototype,"phaseData",[Be],Object.getOwnPropertyDescriptor(ds.prototype,"phaseData"),ds.prototype),ks(ds.prototype,"switchToPhase",[Ft],Object.getOwnPropertyDescriptor(ds.prototype,"switchToPhase"),ds.prototype),ds);const Es=/[\p{Lu}]/u,As=/[\p{Ll}]/u,_s=/^[\p{Lu}](?![\p{Lu}])/gu,Ds=/([\p{Alpha}\p{N}_]|$)/u,Ps=/[_.\- ]+/,Cs=new RegExp("^"+Ps.source),Rs=new RegExp(Ps.source+Ds.source,"gu"),Os=new RegExp("\\d+"+Ds.source,"gu");function Ts(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const n=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),r=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?Ps.test(e)?"":t.pascalCase?r(e):n(e):(e!==n(e)&&(e=((e,t,n,r)=>{let i=!1,a=!1,o=!1,s=!1;for(let l=0;l<e.length;l++){const u=e[l];s=!(l>2)||"-"===e[l-3],i&&Es.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),i=!1,o=a,a=!0,l++):a&&o&&As.test(u)&&(!s||r)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),o=a,a=!1,i=!0):(i=t(u)===u&&n(u)!==u,o=a,a=n(u)===u&&t(u)!==u)}return e})(e,n,r,t.preserveConsecutiveUppercase)),e=e.replace(Cs,""),e=t.preserveConsecutiveUppercase?((e,t)=>(_s.lastIndex=0,e.replace(_s,(e=>t(e)))))(e,n):n(e),t.pascalCase&&(e=r(e.charAt(0))+e.slice(1)),((e,t)=>(Rs.lastIndex=0,Os.lastIndex=0,e.replace(Rs,((e,n)=>t(n))).replace(Os,(e=>t(e)))))(e,r))}class Fs extends Ro.EventEmitter{send(e){vu.paused||this.emit("message",e)}sendGeneral(e){this.send({type:"general",message:e})}sendSystem(e,t){this.send({type:"other.system",subType:e,options:t})}sendDodge(e,t,n){this.send({type:"battle.dodge",from:e,to:t,skill:n})}sendDamage(e,t,n,r,i,a,o){r&&this.send({type:"battle.damage",damageType:e,from:t,to:n,skill:r,value:i,isCrit:a,absorbed:o})}sendHeal(e,t,n,r){this.send({type:"battle.heal",from:e,to:t,skill:n,value:r})}sendPlayerDeath(e,t){this.send({type:"player.death",who:e,rebornIn:t})}sendDeath(e,t){this.send({type:"battle.death",who:e,rebornIn:t})}sendEnterMap(e){this.send({type:"map.enter",map:e})}sendEnemyAppear(e,t){this.send({type:"enemy.appear",enemy:e,summoner:t})}sendGotExp(e,t){this.send({type:"player.gotExp",who:e,value:t})}sendLoot(e,t,n){this.send({type:"player.loot",who:e,what:t,showToast:n})}sendSkillUsage(e,t,n){this.send({type:"battle.skill",from:e,targets:t,skill:n})}sendBuff(e,t){this.send({type:"battle.buff",who:e,what:t})}sendBuffOff(e,t){this.send({type:"battle.buffOff",who:e,what:t})}sendBreakCasting(e,t){this.send({type:"battle.breakCasting",who:e,what:t})}}const Bs=new Fs;var Ns,Is,Ms,js,Hs,Ls,qs,zs,Us,Vs,Ks,Ys,$s,Ws,Gs,Js,Xs,Qs,Zs,el,tl,nl,rl,il,al,ol,sl,ll,ul,cl,hl,pl,dl,fl,ml,gl,yl;function vl(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kl(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const wl=.5,xl="ghost",Sl="neutral",El="player",Al="enemy",_l={ghost:{},neutral:{player:!0,alien:!0},player:{neutral:!0,enemy:"hate"},alien:{neutral:!0,enemy:"hate"},enemy:{player:"hate",alien:"hate"},shrine:{},story:{}},Dl={ghost:{},neutral:{neutral:!0,enemy:!0},player:{player:!0,alien:!0},alien:{player:!0,alien:!0},enemy:{neutral:!0,enemy:!0},shrine:{}};let Pl=0,Cl=(Is=kl((Ns=class{constructor(e,t,n,r){vl(this,"type",Is,this),bl(this,"timeline",null),bl(this,"unit",null),bl(this,"coolDownTimer",null),vl(this,"cooleddown",Ms,this),vl(this,"coolDownAt",js,this),vl(this,"effect",Hs,this),vl(this,"onCoolDown",Ls,this),bn(this),this.timeline=e,this.type=n,this.unit=t,r?r.coolDown&&this.setupCoolDown(r.coolDown):this.setupCoolDown()}getLevel(){return 0}addSkillExp(){}reduceCoolDown(e,t){if(!this.cooleddown){const t=Math.max(this.coolDownAt-this.timeline.getTime()-e,10);this.setupCoolDown(t,!0)}}setupCoolDown(e,t){const{skillData:n}=this;n||alert(this.type);const r=e||("function"==typeof n.coolDown?n.coolDown(this.getLevel(),this.unit):n.coolDown);!t&&this.coolDownAt-this.timeline.getTime()>=r||(this.coolDownTimer&&(this.timeline.clearTimeout(this.coolDownTimer),this.coolDownTimer=null),r&&r>0?(this.coolDownAt=this.timeline.getTime()+r,this.cooleddown=!1,this.coolDownTimer=this.timeline.setTimeout(this.onCoolDown,r)):this.cooleddown=!0)}get shouldUse(){if(!this.canUse)return!1;const{skillData:e}=this;return!e.shouldUse||e.shouldUse.call(this,vu,this.unit,this.getLevel())}get canUse(){if(!this.cooleddown)return!1;const{skillData:e}=this;return!(e.isAttack&&!this.unit.attackCooledDown||e.cost&&["hp","mp","rp","ep","comboPoint"].some((t=>{let n=e.cost[t];return"function"==typeof n&&(n=n(this.unit)),n&&n>this.unit[t]}))||e.canUse&&!e.canUse.call(this,vu,this.unit,this.getLevel()))}get notBreakable(){return this.skillData.notBreakable}get skillData(){return os.skills[this.type]}get name(){return this.skillData.name}dispose(){this.coolDownTimer&&(this.timeline.clearTimeout(this.coolDownTimer),this.coolDownTimer=null);for(const e of vu.units.filter((e=>e.summonSkill===this)))e.kill()}dumpState(){const e={};return this.cooleddown||(e.coolDown=this.coolDownTimer.at-this.timeline.getTime()),e}testBreak(){const{antiBreak:e}=this.skillData;return!e||Math.random()<1-e}}).prototype,"type",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ms=kl(Ns.prototype,"cooleddown",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),js=kl(Ns.prototype,"coolDownAt",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kl(Ns.prototype,"setupCoolDown",[Ft],Object.getOwnPropertyDescriptor(Ns.prototype,"setupCoolDown"),Ns.prototype),Hs=kl(Ns.prototype,"effect",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{skillData:e}=this;e.effect.call(this,vu,this.unit,this.getLevel()),e.isAttack&&this.unit.setAttackCoolDown(),e.cost&&["hp","mp","rp","ep","comboPoint"].forEach((t=>{let n=e.cost[t];"function"==typeof n&&(n=n(this.unit)),n&&("rp"===t&&(this.unit.hp+=n*(this.unit.rpRecHp||0)),this.unit[t]-=n,this.unit.runAttrHooks(n,Ts("postCost-"+t)))})),this.setupCoolDown(),this.addSkillExp()}}}),Ls=kl(Ns.prototype,"onCoolDown",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.coolDownTimer=null,this.coolDownAt=0,this.cooleddown=!0}}}),kl(Ns.prototype,"shouldUse",[Be],Object.getOwnPropertyDescriptor(Ns.prototype,"shouldUse"),Ns.prototype),kl(Ns.prototype,"canUse",[Be],Object.getOwnPropertyDescriptor(Ns.prototype,"canUse"),Ns.prototype),kl(Ns.prototype,"notBreakable",[Be],Object.getOwnPropertyDescriptor(Ns.prototype,"notBreakable"),Ns.prototype),kl(Ns.prototype,"skillData",[Be],Object.getOwnPropertyDescriptor(Ns.prototype,"skillData"),Ns.prototype),kl(Ns.prototype,"name",[Be],Object.getOwnPropertyDescriptor(Ns.prototype,"name"),Ns.prototype),Ns),Rl=(qs=class{constructor(e,t,n,r,i,a){bl(this,"expireAt",null),bl(this,"timeline",null),bl(this,"unit",null),bl(this,"timer",null),bl(this,"group",null),bl(this,"hookDisposes",[]),vl(this,"type",zs,this),vl(this,"arg",Us,this),vl(this,"stack",Vs,this),bl(this,"effect",(()=>{this.effectTimer=this.timeline.setTimeout(this.effect,this.effectInterval),Nt((()=>{this.buffData.effect.call(this,vu)}))})),bl(this,"over",(()=>{this.timer=null,this.unit.removeBuff(this)})),bn(this),this.timeline=e,this.unit=t,this.type=n,this.arg=i,this.group=a,r&&(this.totalTime=r,this.expireAt=e.getTime()+r,this.timer=e.setTimeout(this.over,r))}resetTimer(e){const{timeline:t}=this;this.timer&&t.clearTimeout(this.timer),e?(this.expireAt=t.getTime()+e,this.timer=t.setTimeout(this.over,e)):this.expireAt=null}get buffData(){return os.buffs[this.type]}get effectInterval(){const{effectInterval:e}=this.buffData;return"function"==typeof e?e.call(this):e}dispose(){this.didRemove()}runAttrHook(e,t){const{buffData:{hooks:n}}=this;return n&&n[t]?n[t].call(this,e):e}willAppear(){const{willAppear:e}=this.buffData;return!e||e.call(this)}didAppear(){const{timeline:e,unit:t,buffData:{didAppear:n,hooks:r},effectInterval:i}=this;if(i&&(this.effectTimer=e.setTimeout(this.effect,i)),r)for(const e of Object.keys(r))this.hookDisposes.push(t.addAttrHook(e,r[e].bind(this)));n&&n.call(this)}willRemove(){const{willRemove:e}=this.buffData;e&&e.call(this,vu)}didRemove(){const{didRemove:e}=this.buffData;e&&e.call(this,vu),this.timer&&this.timeline.clearTimeout(this.timer),this.effectTimer&&(this.timeline.clearTimeout(this.effectTimer),this.effectTimer=null);const{buffData:t}=this;t.onOver&&t.onOver.call(this,vu),this.hookDisposes&&(this.hookDisposes.forEach((e=>e())),this.hookDisposes=null),this.unit.reading===this&&(this.unit.reading=null)}dumpState(){if(this.buffData.notSave)return;const e={type:this.type,group:this.group,arg:this.arg};return this.expireAt&&(e.time=this.expireAt-this.timeline.getTime()),e}},zs=kl(qs.prototype,"type",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Us=kl(qs.prototype,"arg",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vs=kl(qs.prototype,"stack",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),kl(qs.prototype,"buffData",[Be],Object.getOwnPropertyDescriptor(qs.prototype,"buffData"),qs.prototype),kl(qs.prototype,"effectInterval",[Be],Object.getOwnPropertyDescriptor(qs.prototype,"effectInterval"),qs.prototype),qs),Ol=0,Tl=(Ks=class{constructor(e,t){bl(this,"key",0),bl(this,"timeline",null),bl(this,"keepAlives",[]),bl(this,"autoDisposes",[]),vl(this,"_hp",Ys,this),vl(this,"_mp",$s,this),vl(this,"_rp",Ws,this),vl(this,"_ep",Gs,this),vl(this,"comboPoint",Js,this),vl(this,"camp",Xs,this),vl(this,"target",Qs,this),vl(this,"skills",Zs,this),vl(this,"buffs",el,this),vl(this,"combos",tl,this),bl(this,"hooks",Re.map()),bl(this,"recoveryTimer",null),vl(this,"attackCooledDown",nl,this),bl(this,"attackCoolDownTimer",null),vl(this,"casting",rl,this),bl(this,"castingTimer",null),vl(this,"reading",il,this),bl(this,"canUseSkill",(()=>this.camp===xl||this.casting||this.reading||this.timeline.paused||this.runAttrHooks(!1,"stunned")?null:this.skills.find((e=>e.shouldUse)))),vl(this,"tryUseSkill",al,this),vl(this,"onAttackCoolDown",ol,this),vl(this,"recovery",sl,this),bn(this),this.timeline=new as(e),this.disposeUseSkill=Lt(this.canUseSkill,this.tryUseSkill),this.disposeSpeed=Mt((()=>{this.timeline.setRate(this.speedRate)})),this.autoDisposes.push(Mt((()=>{const{target:e}=this;e&&e.camp===xl&&this.findTarget()}))),this.key=Pl+=1}initKeepAlives(){[Ko(this,"maxHp")].forEach((e=>this.keepAlives.push(e)))}get hp(){return this._hp}set hp(e){this._hp=Math.max(0,Math.min(e,this.maxHp))}get mp(){return this._mp}set mp(e){this._mp=Math.max(0,Math.min(e,this.maxMp))}get rp(){return this._rp}set rp(e){this._rp=Math.max(0,Math.min(e,this.maxRp))}get ep(){return this._ep}set ep(e){this._ep=Math.max(0,Math.min(e,this.maxEp))}setTarget(e){this.target=e,e&&e.runAttrHooks(this,"becomeTarget")}get targetDisplayName(){return this.target?this.target.displayName:""}get rpRecHp(){let e=0;return e=this.runAttrHooks(e,"rpRecHp"),e}get castingName(){return this.casting&&this.casting.skillData.name||this.reading&&this.reading.buffData.name}get castingTime(){return this.casting?this.casting.skillData.castTime:this.reading?this.reading.totalTime:1}setCamp(e){this.camp=e,this.target=null,this.findTarget();for(const e of vu.units)e.target!==this||e.canAttack(this)||(e.target=null,e.findTarget())}get castingRest(){return this.casting?this.castingTime+this.timeline.now-this.castingTimer.at:this.reading?this.reading.expireAt-this.timeline.now:0}startRead(e,t,n,r){if(this.camp===xl)return;const i=new Rl(this.timeline,this,e,t,n);i.skill=r,i.willAppear(),Bs.sendBuff(this,e),this.buffs.push(i),i.didAppear(),this.reading=i}get speedRate(){let e=1;return e=this.runAttrHooks(e,"speedRateAdd"),Math.min(e,4)}setAttackCoolDown(){this.attackCooledDown=!1,this.attackCoolDownTimer=this.timeline.setTimeout(this.onAttackCoolDown,1e3/this.atkSpeed)}breakCasting(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{casting:n,reading:r}=this;if(n&&!n.notBreakable){if(!t&&!n.testBreak())return;Bs.sendBreakCasting(this,n),this.timeline.clearTimeout(this.castingTimer),this.castingTimer=null,this.casting=null,e&&n.setupCoolDown(e)}if(r&&r.skill&&!r.skill.notBreakable){if(!t&&!r.skill.testBreak())return;Bs.sendBreakCasting(this,r),this.reading=null,this.removeBuff(r),e&&r.skill&&r.skill.setupCoolDown(e)}}get noDodgeRate(){return this.runAttrHooks(1,"noDodgeRate")}get dodgeRate(){return 1-this.noDodgeRate}get stunResist(){return this.runAttrHooks(0,"stunResist")}testDodge(){const{noDodgeRate:e}=this;return Math.random()>e}damage(e,t,n){return this.camp!==xl&&(this.hp-=n,this.hp<=0?this.kill():t&&null===this.target&&this.canAttack(t)&&this.setTarget(t),!0)}kill(){this.camp=xl,this.target=null,this.rp=0,this.mp=0,this.ep=0,this.comboPoint=0,this.casting&&(this.timeline.clearTimeout(this.castingTimer),this.casting=null,this.castingTimer=null),this.recoveryTimer&&(this.timeline.parent.clearTimeout(this.recoveryTimer),this.recoveryTimer=null);for(const e of this.buffs.slice(0))this.removeBuff(e)}findTarget(){const e=vu.units.filter((e=>this.willAttack(e))),t=e[Math.floor(Math.random()*e.length)];this.setTarget(t||null)}willAttack(e){const t=_l[this.camp][e.camp];return this.runAttrHooks("hate"===t,"willAttack",e)}canAttack(e){return!!_l[this.camp][e.camp]}willAssist(e){return!!Dl[this.camp][e.camp]}addSkill(e,t){this.skills.unshift(new Cl(this.timeline,this,e,t))}removeSkill(e){const t=this.skills.findIndex((t=>t.type===e));this.skills.splice(t,1)[0].dispose()}startRecovery(){this.recoveryTimer||(this.recoveryTimer=this.timeline.parent.setTimeout(this.recovery,500/this.speedRate))}addAttrHook(e,t){let n=this.hooks.get(e);n||(n=Re.map(),this.hooks.set(e,n));let r=++Ol;for(Ol>=1e5&&(Ol=0);n.has(r);)r=++Ol,Ol>=1e5&&(Ol=0);return n.set(r,t),Ft((()=>{n.delete(r)}))}runAttrHooks(e,t){let n=e;const r=this.hooks.get(t);if(r){for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];for(const e of r.values())n=e(n,...a)}return n}dispose(){this.disposeUseSkill(),this.disposeSpeed(),this.keepAlives.forEach((e=>e())),this.keepAlives=[],this.skills.forEach((e=>e.dispose())),this.skills.clear();const{casting:e,reading:t}=this;e&&(this.timeline.clearTimeout(this.castingTimer),this.castingTimer=null,this.casting=null),t&&(this.reading=null,this.removeBuff(t)),this.attackCoolDownTimer&&(this.timeline.clearTimeout(this.attackCoolDownTimer),this.attackCoolDownTimer=null),this.recoveryTimer&&(this.timeline.clearTimeout(this.recoveryTimer),this.recoveryTimer=null),this.timeline.dispose();for(const e of this.autoDisposes.splice(0))e()}addBuff(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;if(this.camp===xl)return;if(r){const o=this.buffs.filter((e=>e.group===r)).sort(((e,t)=>{let n=0;if(e.buffData.compBuff&&(n=e.buffData.compBuff(e,t)),!n)return e.expireAt-t.expireAt})),s=o.slice(0,o.length-i+1),l=s.shift();if(l&&l.type===e)return l.arg=n,l.resetTimer(t),l;const u=new Rl(this.timeline.parent,this,e,t,n,r);if(!u.willAppear())return;return l&&this.removeBuff(l),s.forEach((e=>this.removeBuff(e))),u.skill=a||0,Bs.sendBuff(this,e),this.buffs.push(u),u.didAppear(),u}const o=new Rl(this.timeline.parent,this,e,t,n,r);return o.willAppear()?(o.skill=a||0,Bs.sendBuff(this,e),this.buffs.push(o),o.didAppear(),o):void 0}removeBuff(e){const t=this.buffs.indexOf(e);t<0||(Bs.sendBuffOff(this,e.type),e.willRemove(),this.buffs.splice(t,1),e.didRemove())}dumpState(){const e={};for(const t of this.skills)e[t.type]=t.dumpState();return{camp:this.camp,hp:this.hp,rp:this.rp,ep:this.ep,mp:this.mp,target:this.target&&vu.units.indexOf(this.target),skills:e,buffs:this.buffs.map((e=>e.dumpState())),casting:this.casting&&this.skills.indexOf(this.casting),castingTimer:this.casting&&this.castingTimer.at-this.timeline.getTime(),reading:this.reading&&this.buffs.indexOf(this.reading)}}stun(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stunned",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{casting:r,reading:i}=this;if(r&&r.notBreakable&&!n)return!1;if(i&&i.skill&&!i.skill.notBreakable&&!n)return!1;const{stunResist:a}=this,o=n?e:e/(1+a/100);let s=Math.floor(o);const l=o-s;return Math.random()<l&&(s+=1),s>0&&(this.breakCasting(null,!0),this.addBuff(t,1e3*s),!0)}testCrit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=this.critRate);let t=Math.floor(e);const n=e-t;return Math.random()<n&&++t,this.runAttrHooks("testCrit",t),t}getCritBonus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===t&&(t=this.critBonus-1),1+t*e}},Ys=kl(Ks.prototype,"_hp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$s=kl(Ks.prototype,"_mp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ws=kl(Ks.prototype,"_rp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gs=kl(Ks.prototype,"_ep",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Js=kl(Ks.prototype,"comboPoint",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xs=kl(Ks.prototype,"camp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xl}}),Qs=kl(Ks.prototype,"target",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(Ks.prototype,"setTarget",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"setTarget"),Ks.prototype),Zs=kl(Ks.prototype,"skills",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),el=kl(Ks.prototype,"buffs",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tl=kl(Ks.prototype,"combos",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kl(Ks.prototype,"targetDisplayName",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"targetDisplayName"),Ks.prototype),kl(Ks.prototype,"rpRecHp",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"rpRecHp"),Ks.prototype),nl=kl(Ks.prototype,"attackCooledDown",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rl=kl(Ks.prototype,"casting",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),il=kl(Ks.prototype,"reading",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(Ks.prototype,"castingName",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"castingName"),Ks.prototype),kl(Ks.prototype,"castingTime",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"castingTime"),Ks.prototype),kl(Ks.prototype,"setCamp",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"setCamp"),Ks.prototype),kl(Ks.prototype,"castingRest",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"castingRest"),Ks.prototype),kl(Ks.prototype,"startRead",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"startRead"),Ks.prototype),kl(Ks.prototype,"speedRate",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"speedRate"),Ks.prototype),kl(Ks.prototype,"setAttackCoolDown",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"setAttackCoolDown"),Ks.prototype),kl(Ks.prototype,"breakCasting",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"breakCasting"),Ks.prototype),al=kl(Ks.prototype,"tryUseSkill",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(this.runAttrHooks(e,"preskill",vu),!this.casting&&e&&e.canUse){const{castTime:t}=e.skillData;t?(this.castingTimer=this.timeline.setTimeout(Ft((()=>{e.canUse&&(this.runAttrHooks(null,"preSkillEffect"),e.effect(),this.runAttrHooks(null,"postSkillEffect")),this.castingTimer=null,this.casting=null})),t),this.casting=e):(this.runAttrHooks(null,"preSkillEffect"),e.effect(),this.runAttrHooks(null,"postSkillEffect"))}}}}),ol=kl(Ks.prototype,"onAttackCoolDown",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.attackCoolDownTimer=null,this.attackCooledDown=!0}}}),kl(Ks.prototype,"noDodgeRate",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"noDodgeRate"),Ks.prototype),kl(Ks.prototype,"dodgeRate",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"dodgeRate"),Ks.prototype),kl(Ks.prototype,"stunResist",[Be],Object.getOwnPropertyDescriptor(Ks.prototype,"stunResist"),Ks.prototype),kl(Ks.prototype,"damage",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"damage"),Ks.prototype),kl(Ks.prototype,"kill",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"kill"),Ks.prototype),kl(Ks.prototype,"findTarget",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"findTarget"),Ks.prototype),kl(Ks.prototype,"addSkill",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"addSkill"),Ks.prototype),kl(Ks.prototype,"removeSkill",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"removeSkill"),Ks.prototype),sl=kl(Ks.prototype,"recovery",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.camp!==xl?(this.hpRecovery&&(this.hp+=(this.hpRecovery||0)*wl),this.mpRecovery&&(this.mp+=(this.mpRecovery||0)*wl),this.rpRecovery&&(this.rp+=(this.rpRecovery||0)*wl),this.epRecovery&&(this.ep+=(this.epRecovery||0)*wl),this.recoveryTimer=null,this.startRecovery()):this.recoveryTimer=null}}}),kl(Ks.prototype,"addAttrHook",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"addAttrHook"),Ks.prototype),kl(Ks.prototype,"addBuff",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"addBuff"),Ks.prototype),kl(Ks.prototype,"removeBuff",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"removeBuff"),Ks.prototype),kl(Ks.prototype,"stun",[Ft],Object.getOwnPropertyDescriptor(Ks.prototype,"stun"),Ks.prototype),Ks),Fl=(ll=class extends Tl{constructor(e,t,n){var r;super(e,n),r=this,vl(this,"player",ul,this),vl(this,"reborn",cl,this),bn(this),Nt((()=>{this.player=t,["weapon","plastron","gaiter","ornament"].forEach((e=>{let t=[];this.autoDisposes.push(Mt((()=>{const n=this.player.equipments[e];for(const e of t.splice(0))e();if(!n.empty)for(const e of n.affixes){const{hooks:n}=e.affixData;for(const r of Object.keys(n))t.push(this.addAttrHook(r,n[r].bind(this,e.value)))}})))}));{let e=[];this.autoDisposes.push(Mt((()=>{for(const t of e.splice(0))t();Object.keys(this.player.careerData.passives).forEach((t=>{if($o((()=>this.player.careerData.passives[t]<=this.player.level))){const n=os.passives[t],{hooks:r}=n;if(r)for(const t of Object.keys(r))e.push(this.addAttrHook(t,r[t].bind(this,vu)))}}))})))}{let e=[];this.autoDisposes.push(Mt((()=>{for(const t of e.splice(0))t();this.player.careerInfo.selectedEnhances.forEach((t=>{const{hooks:n}=os.enhances[t];if(n)for(const t of Object.keys(n))e.push(this.addAttrHook(t,n[t].bind(this,vu)))}))})))}for(const e of Object.keys(os.medicines)){const{hooks:t}=os.medicines[e];if(t)for(const n of Object.keys(t))this.addAttrHook(n,(function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t[n].apply(r,[Bm.medicineLevel.get(e)||0,...a])}))}for(const e of Object.keys(os.cookings)){const{hooks:t}=os.cookings[e];if(t)for(const n of Object.keys(t))this.addAttrHook(n,(function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t[n].apply(r,[Bm.cookingLevel.get(e)||0,...a])}))}}));const i=this.player.careerInfo.selectedSkills,a=n&&n.skills;for(let e=i.length-1;e>=0;e--)this.addSkill(i[e],a&&a[i[e]]);if(n){if(this.camp=n.camp,n.rebornTimer)Bs.sendPlayerDeath(this,(n.rebornTimer/1e3).toFixed(1)),this.timeline.parent.setTimeout(this.reborn,n.rebornTimer);else if(this.camp===xl){const e=10;Bs.sendPlayerDeath(this,e),this.rebornTimer=this.timeline.parent.setTimeout(this.reborn,1e3*e)}if(n.buffs)for(const e of n.buffs)e&&e.time>0&&(e.buff=this.addBuff(e.type,e.time,e.arg,e.group,99999));if(this.hp=n.hp,this.mp=n.mp,this.rp=n.rp,this.ep=n.ep,"number"==typeof n.reading)this.reading=this.buffs[n.reading];else if("number"==typeof n.casting){const e=this.skills[n.casting],t=n.castingTimer;e&&(this.castingTimer=this.timeline.setTimeout((()=>{e.canUse&&e.effect(),this.castingTimer=null,this.casting=null}),t),this.casting=e)}}else this.hp=this.maxHp,this.mp=this.maxMp,this.camp=El;this.setAttackCoolDown(),this.startRecovery()}initKeepAlives(){super.initKeepAlives(),[Ko(this,"maxMp"),Ko(this,"maxRp"),Ko(this,"maxEp"),Ko(this,"atk"),Ko(this,"atkSpeed"),Ko(this,"def"),Ko(this,"hpRecovery"),Ko(this,"mpRecovery"),Ko(this,"rpRecovery"),Ko(this,"epRecovery"),Ko(this,"rpOnAttack"),Ko(this,"rpOnAttacked"),Ko(this,"critRate"),Ko(this,"critBonus"),Ko(this,"leech"),Ko(this,"meleeAbsorb"),Ko(this,"fireResist"),Ko(this,"fireAbsorb"),Ko(this,"darkResist"),Ko(this,"darkAbsorb"),Ko(this,"coldResist"),Ko(this,"coldAbsorb"),Ko(this,"lightningResist"),Ko(this,"lightningAbsorb"),Ko(this,"mf"),Ko(this,"gf")].forEach((e=>this.keepAlives.push(e)))}selectCareer(e){for(const e of this.skills.splice(0))e.dispose();this.player.selectCareer(e);const t=this.player.careerInfo.selectedSkills;for(let e=t.length-1;e>=0;e--)this.addSkill(t[e])}get name(){return this.player?this.player.name:""}get displayName(){return this.runAttrHooks(this.name,"displayName")}get str(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.str),this.player&&(e+=this.player.roleData.attrBase.str,e+=this.player.careerData.attrGrow.str*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"strAdd"),e=this.runAttrHooks(e,"str"),e}get dex(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.dex),this.player&&(e+=this.player.roleData.attrBase.dex,e+=this.player.careerData.attrGrow.dex*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"dexAdd"),e=this.runAttrHooks(e,"dex"),e}get int(){let e=0;const{weapon:t}=this.player.equipments;return t.empty||(e+=t.int),this.player&&(e+=this.player.roleData.attrBase.int,e+=this.player.careerData.attrGrow.int*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"intAdd"),e=this.runAttrHooks(e,"int"),e}get sta(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.sta),this.player&&(e+=this.player.roleData.attrBase.sta,e+=this.player.careerData.attrGrow.sta*(this.player.level+this.player.peakLevel)),e=this.runAttrHooks(e,"staAdd"),e=this.runAttrHooks(e,"sta"),e}get maxHp_self(){let e=0;const{ornament:t}=this.player.equipments;return t.empty||(e+=t.maxHp),e+=5*this.sta,e=this.runAttrHooks(e,"maxHpAdd"),e}get maxHp(){let e=this.maxHp_self;return e=this.runAttrHooks(e,"maxHpAdd"),e*=this.runAttrHooks(1,"maxHpMul"),e}get maxCombo(){let e=0;return e=this.runAttrHooks(e,"maxCombo"),e}get hpRecovery(){let e=1;return"home"===vu.map&&(e+=this.maxHp/10),e=this.runAttrHooks(e,"hpRecovery"),e}get maxMp(){let e=0;return e=this.runAttrHooks(e,"maxMpAdd"),e*=this.runAttrHooks(1,"maxMpMul"),e}get mpRecovery(){let e=0;"home"===vu.map&&(e+=this.maxMp/10);const{weapon:t}=this.player.equipments;return t.empty||(e+=t.mpRecovery||0),e=this.runAttrHooks(e,"mpRecovery"),e}get mpFromKill(){let e=0;const{weapon:t}=this.player.equipments;return t.empty||(e+=t.mpFromKill||0),e=this.runAttrHooks(e,"mpFromKill"),e}get hpFromKill(){let e=0;return e=this.runAttrHooks(e,"hpFromKill"),e}get maxRp(){let e=0;return e=this.runAttrHooks(e,"maxRp"),e=this.runAttrHooks(e,"maxRpMul"),e}get rpRecovery(){let e=0;return e=this.runAttrHooks(e,"rpRecovery"),e=this.runAttrHooks(e,"rpReceiveMul"),e}get maxEp(){let e=0;return e=this.runAttrHooks(e,"maxEp"),e=this.runAttrHooks(e,"maxEpMul"),e}get epRecovery(){let e=0;return e=this.runAttrHooks(e,"epRecovery"),e=this.runAttrHooks(e,"epRecoveryMul"),e}get rpOnAttack(){let e=0;return e=this.runAttrHooks(e,"rpOnAttack"),e=this.runAttrHooks(e,"rpReceiveMul"),e}get rpOnAttacked(){let e=0;return e=this.runAttrHooks(e,"rpOnAttacked"),e=this.runAttrHooks(e,"rpReceiveMul"),e}get exp(){return this.player.level>=this.player.maxLevel?this.player.peakExp:this.player.exp}get maxExp(){return this.player.level>=this.player.maxLevel?this.player.maxPeakExp:this.player.maxExp}get atk_self(){let e=1;const{weapon:t}=this.player.equipments;t.empty?e=1:e+=t.atk_self,t.empty||(e*=1+t.atkMul);const{ornament:n}=this.player.equipments;return n.empty||(e+=n.atk_self),e=this.runAttrHooks(e,"atk_self_Add"),e*=this.runAttrHooks(1,"atkMul"),e}get atk(){const{weapon:e}=this.player.equipments;let t=0;return t+=this.atk_self||0,e.empty||(t*=1+e.atkMul),t=this.runAttrHooks(t,"atk_Add"),t}get critRate(){let e=this.critR_level/(1500+.985*this.critR_level)*.74;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return t.empty||(e+=t.critRate),n.empty||(e+=n.critRate),r.empty||(e+=r.critRate),e=this.runAttrHooks(e,"critRateAdd"),e=this.runAttrHooks(e,"critRate"),e>1&&(e=1),e>1?1:e}get critR_level(){let e=0;const{plastron:t,gaiter:n,weapon:r,ornament:i}=this.player.equipments;return i.empty||(e+=i.critR_level),t.empty||(e+=t.critR_level),n.empty||(e+=n.critR_level),r.empty||(e+=r.critR_level),e+=1*this.dex,e=this.runAttrHooks(e,"critRLAdd"),e=this.runAttrHooks(e,"critRL"),e}get critBonus(){let e=1.5+this.critB_level/(1500+1.1*this.critB_level)*1.5+this.critB_level/15e4;return e=this.runAttrHooks(e,"critBonusAdd"),e=this.runAttrHooks(e,"critBonus"),e}get critB_level(){let e=0;const{plastron:t,gaiter:n,weapon:r,ornament:i}=this.player.equipments;return i.empty||(e+=i.critB_level),t.empty||(e+=t.critB_level),n.empty||(e+=n.critB_level),r.empty||(e+=r.critB_level),e+=1*this.dex,e=this.runAttrHooks(e,"critBLAdd"),e=this.runAttrHooks(e,"critBL"),e}get leech(){let e=0;return e=this.runAttrHooks(e,"leech"),e}get leech2(){let e=0;return e=this.runAttrHooks(e,"leech2"),e}get def_self(){let e=0;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return t.empty||(e+=t.def),n.empty||(e+=n.def),r.empty||(e+=r.def),e+=1*this.str,e+=1*this.sta,e=this.runAttrHooks(e,"defselfAdd"),e*=this.runAttrHooks(1,"defselfMul"),Math.max(e,0)}get def(){let e=this.def_self;return e=this.runAttrHooks(e,"defAdd"),e*=this.runAttrHooks(1,"defMul"),e}get defRate(){let e=1-2e3/(2e3+this.def);return e=this.runAttrHooks(e,"defRate"),Math.min(e,.75)}get miss_shanbizhi(){let e=0;const{plastron:t,gaiter:n,weapon:r,ornament:i}=this.player.equipments;return i.empty||(e+=i.miss_shanbizhi),t.empty||(e+=t.miss_shanbizhi),n.empty||(e+=n.miss_shanbizhi),r.empty||(e+=r.miss_shanbizhi),e+=1*this.dex,e=this.runAttrHooks(e,"shanbizhiAdd"),e=this.runAttrHooks(e,"miss_shanbizhi"),e}get noDodgeRate(){let e=1-(this.miss_shanbizhi||0)/(1.00005*(2e3+this.miss_shanbizhi||0))*.5;return e<.5&&(e=.5),e=this.runAttrHooks(e,"noDodgeRate"),e<0&&(e=0),e}get allResist_self(){let e=0;e+=1*this.int,e+=1*this.sta;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return t.empty||(e+=t.allResist),n.empty||(e+=n.allResist),r.empty||(e+=r.allResist),e=this.runAttrHooks(e,"allResselfAdd"),Math.max(e,0)}get allResist(){let e=this.allResist_self;return e=this.runAttrHooks(e,"allResAdd"),e*=this.runAttrHooks(1,"allResMul"),Math.max(e,0)}get allresRate(){let e=1-2e3/(2e3+this.allResist);return e=this.runAttrHooks(e,"allresRate"),e}get meleeAbsorb(){let e=0;e=this.runAttrHooks(e,"meleeAbsorb");const t=this.runAttrHooks(.75,"meleeAbsorbmax");return Math.min(e,t)}get fireAbsorb(){let e=0;e=this.runAttrHooks(e,"fireAbsorb");const t=this.runAttrHooks(.75,"fireAbsorbmax");return Math.min(e,t)}get fireResist(){let e=this.allResist;return e=this.runAttrHooks(e,"fireResist"),Math.max(e,0)}get fireResRate(){let e=1-2e3/(2e3+this.fireResist);return e=this.runAttrHooks(e,"fireResRate"),Math.min(e,.75)}get coldAbsorb(){let e=0;e=this.runAttrHooks(e,"coldAbsorb");const t=this.runAttrHooks(.75,"coldAbsorbmax");return Math.min(e,t)}get coldResist(){let e=this.allResist;return e=this.runAttrHooks(e,"coldResist"),Math.max(e,0)}get coldResRate(){let e=1-2e3/(2e3+this.coldResist);return e=this.runAttrHooks(e,"coldResRate"),Math.min(e,.75)}get lightningAbsorb(){let e=0;e=this.runAttrHooks(e,"lightningAbsorb");const t=this.runAttrHooks(.75,"lightningAbsorbmax");return Math.min(e,t)}get lightningResist(){let e=this.allResist;return e=this.runAttrHooks(e,"lightningResist"),Math.max(e,0)}get lightningResRate(){let e=1-2e3/(2e3+this.lightningResist);return e=this.runAttrHooks(e,"lightningResRate"),Math.min(e,.75)}get poisonAbsorb(){let e=0;e=this.runAttrHooks(e,"poisonAbsorb");const t=this.runAttrHooks(.75,"poisonAbsorbmax");return Math.min(e,t)}get poisonResist(){let e=0;return e+=1*this.sta,e=this.runAttrHooks(e,"poisonResist"),Math.max(e,0)}get poisonResRate(){let e=1-2e3/(2e3+this.poisonResist);return e=this.runAttrHooks(e,"poisonResRate"),Math.min(e,.75)}get lightAbsorb(){let e=0;e=this.runAttrHooks(e,"lightAbsorb");const t=this.runAttrHooks(.75,"lightAbsorbmax");return Math.min(e,t)}get lightResist(){let e=0;return e+=1*this.sta,e=this.runAttrHooks(e,"lightResist"),Math.max(e,0)}get lightResRate(){let e=1-2e3/(2e3+this.lightResist);return e=this.runAttrHooks(e,"lightResRate"),Math.min(e,.75)}get darkAbsorb(){let e=0;e=this.runAttrHooks(e,"darkAbsorb");const t=this.runAttrHooks(.75,"darkAbsorbmax");return Math.min(e,t)}get darkResist(){let e=0;return e+=1*this.sta,e=this.runAttrHooks(e,"darkResist"),Math.max(e,0)}get darkResRate(){let e=1-2e3/(2e3+this.darkResist);return e=this.runAttrHooks(e,"darkResRate"),Math.min(e,.75)}get atkSpeed(){let e;const t=this.player.equipments.weapon;return e=t.empty?this.player.roleData.atkSpeed||.01:t.atkSpeed||.01,e=this.runAttrHooks(e,"atkSpeed"),e*=this.runAttrHooks(1,"atkSpeedAdd"),e}damage(e,t,n){if(super.damage(e,t,n)&&"melee"!==e){const e=this.runAttrHooks(0,"rpFromNonPhy");this.rp+=e}}get skillExpInc(){let e=1;return e=this.runAttrHooks(e,"skillExpInc"),e=this.runAttrHooks(e,"skillExpMul"),e}addSkill(e){const t=new Cl(this.timeline,this,e);t.getLevel=()=>this.player.getSkillLevel(e),t.addSkillExp=()=>this.player.addSkillExp(e,this.skillExpInc),this.skills.unshift(t)}get canGetExp(){return this.camp===El}get level(){return this.player.level}get mf(){let e=1+.03*this.player.peakLevel;return e=this.runAttrHooks(e,"mf"),e}get gf(){let e=1+.03*this.player.peakLevel;return e=this.runAttrHooks(e,"gf"),e}get dmgAdd(){let e=1+this.dmgLevel/(1500+1.5*this.dmgLevel)+this.dmgLevel/15e4;const{plastron:t,gaiter:n,weapon:r}=this.player.equipments;return r.empty||(e+=r.dmgAdd),e=this.runAttrHooks(e,"dmgAdd"),e=this.runAttrHooks(e,"dmgMul"),e}get dmgLevel(){let e=0;return e+=1*this.str,e=this.runAttrHooks(e,"dmgLAdd"),e=this.runAttrHooks(e,"dmgLMul"),e}get firedmgAdd(){let e=1+this.firedmgLevel/(1500+1.5*this.firedmgLevel)+this.firedmgLevel/15e4;return e=this.runAttrHooks(e,"firedmgAdd"),e=this.runAttrHooks(e,"firedmgMul"),e}get firedmgLevel(){let e=0;return e+=1*this.int,e=this.runAttrHooks(e,"firedmgLAdd"),e=this.runAttrHooks(e,"firedmgLMul"),e}get colddmgAdd(){let e=1+this.colddmgLevel/(1500+1.5*this.colddmgLevel)+this.colddmgLevel/15e4;return e=this.runAttrHooks(e,"colddmgAdd"),e=this.runAttrHooks(e,"colddmgMul"),e}get colddmgLevel(){let e=0;return e+=1*this.int,e=this.runAttrHooks(e,"colddmgLAdd"),e=this.runAttrHooks(e,"colddmgLMul"),e}get lightningdmgAdd(){let e=1+this.lightningdmgLevel/(1500+1.5*this.lightningdmgLevel)+this.lightningdmgLevel/15e4;return e=this.runAttrHooks(e,"lightningdmgAdd"),e=this.runAttrHooks(e,"lightningdmgMul"),e}get lightningdmgLevel(){let e=0;return e+=1*this.int,e=this.runAttrHooks(e,"lightningdmgLAdd"),e=this.runAttrHooks(e,"lightningdmgLMul"),e}get poisondmgAdd(){let e=1+this.poisondmgLevel/(1500+1.5*this.poisondmgLevel)+this.poisondmgLevel/15e4;return e=this.runAttrHooks(e,"poisondmgAdd"),e=this.runAttrHooks(e,"poisondmgMul"),e}get poisondmgLevel(){let e=0;return e=this.runAttrHooks(e,"poisondmgLAdd"),e=this.runAttrHooks(e,"poisondmgLMul"),e}get darkdmgAdd(){let e=1+this.darkdmgLevel/(1500+1.5*this.darkdmgLevel)+this.darkdmgLevel/15e4;return e=this.runAttrHooks(e,"darkdmgAdd"),e}get darkdmgLevel(){let e=0;return e=this.runAttrHooks(e,"darkdmgLAdd"),e=this.runAttrHooks(e,"darkdmgLMul"),e}get lightdmgAdd(){let e=1+this.lightdmgLevel/(1500+1.5*this.lightdmgLevel)+this.lightdmgLevel/15e4;return e=this.runAttrHooks(e,"lightdmgAdd"),e=this.runAttrHooks(e,"lightdmgMul"),e}get lightdmgLevel(){let e=0;return e=this.runAttrHooks(e,"lightdmgLAdd"),e=this.runAttrHooks(e,"lightdmgLMul"),e}get expInc(){let e=1;return e*=this.runAttrHooks(1,"expInc"),e*=this.runAttrHooks(1,"expMul"),e}gotExp(e,t){let n=e;const{mpFromKill:r,hpFromKill:i}=this;this.hp+=i,this.mp+=r;const a=Math.min(this.level,70)-t;a>=10||(a>0&&(n*=1-a/10),n*=this.runAttrHooks(1,"expInc"),n*=this.runAttrHooks(1,"expMul"),Bs.sendGotExp(this,n),this.player.level>=this.player.maxLevel?(this.player.peakExp+=n,this.player.peakExp>=this.player.maxPeakExp&&this.levelUpPeak()):(this.player.exp+=n,this.player.exp>=this.player.maxExp&&(this.levelUp(),this.player.level>=this.player.maxLevel&&(this.player.peakExp+=this.player.exp,this.player.exp=0))))}levelUp(){this.player.exp-=this.player.maxExp,this.player.level+=1}levelUpPeak(){this.player.peakExp-=this.player.maxPeakExp,this.player.peakLevel+=1}kill(){super.kill(),vu.enemyBorn&&vu.enemyBorn.onPlayerDeath(),Bs.sendPlayerDeath(this,20),this.rebornTimer=this.timeline.parent.setTimeout(Ft(this.reborn),2e4)}canEquip(e){const{goodData:t,level:n}=e;return!(!t||"equip"!==t.type||this.level<Yc(n)||!this.player.careerData.availableClasses[t.class])}dispose(){super.dispose(),this.rebornTimer&&this.timeline.parent.clearTimeout(this.rebornTimer),this.player.dispose(),this.player.key=null}dumpState(){const e=super.dumpState();return e.type="player",this.rebornTimer&&(e.rebornTimer=this.rebornTimer.at-this.timeline.parent.getTime()),e}useExtraSkill(e){os.skills[e].effect.call(new Cl(this.timeline,this,e,{}),vu,this,this.player.getSkillLevel(e))}},ul=kl(ll.prototype,"player",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(ll.prototype,"name",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"name"),ll.prototype),kl(ll.prototype,"displayName",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"displayName"),ll.prototype),kl(ll.prototype,"str",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"str"),ll.prototype),kl(ll.prototype,"dex",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"dex"),ll.prototype),kl(ll.prototype,"int",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"int"),ll.prototype),kl(ll.prototype,"sta",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"sta"),ll.prototype),kl(ll.prototype,"maxHp_self",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"maxHp_self"),ll.prototype),kl(ll.prototype,"maxHp",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"maxHp"),ll.prototype),kl(ll.prototype,"maxCombo",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"maxCombo"),ll.prototype),kl(ll.prototype,"hpRecovery",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"hpRecovery"),ll.prototype),kl(ll.prototype,"maxMp",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"maxMp"),ll.prototype),kl(ll.prototype,"mpRecovery",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"mpRecovery"),ll.prototype),kl(ll.prototype,"mpFromKill",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"mpFromKill"),ll.prototype),kl(ll.prototype,"hpFromKill",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"hpFromKill"),ll.prototype),kl(ll.prototype,"maxRp",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"maxRp"),ll.prototype),kl(ll.prototype,"rpRecovery",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"rpRecovery"),ll.prototype),kl(ll.prototype,"maxEp",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"maxEp"),ll.prototype),kl(ll.prototype,"epRecovery",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"epRecovery"),ll.prototype),kl(ll.prototype,"rpOnAttack",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"rpOnAttack"),ll.prototype),kl(ll.prototype,"rpOnAttacked",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"rpOnAttacked"),ll.prototype),kl(ll.prototype,"exp",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"exp"),ll.prototype),kl(ll.prototype,"maxExp",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"maxExp"),ll.prototype),kl(ll.prototype,"atk_self",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"atk_self"),ll.prototype),kl(ll.prototype,"atk",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"atk"),ll.prototype),kl(ll.prototype,"critRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"critRate"),ll.prototype),kl(ll.prototype,"critR_level",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"critR_level"),ll.prototype),kl(ll.prototype,"critBonus",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"critBonus"),ll.prototype),kl(ll.prototype,"critB_level",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"critB_level"),ll.prototype),kl(ll.prototype,"leech",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"leech"),ll.prototype),kl(ll.prototype,"leech2",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"leech2"),ll.prototype),kl(ll.prototype,"def_self",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"def_self"),ll.prototype),kl(ll.prototype,"def",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"def"),ll.prototype),kl(ll.prototype,"defRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"defRate"),ll.prototype),kl(ll.prototype,"miss_shanbizhi",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"miss_shanbizhi"),ll.prototype),kl(ll.prototype,"noDodgeRate",[Q],Object.getOwnPropertyDescriptor(ll.prototype,"noDodgeRate"),ll.prototype),kl(ll.prototype,"allResist_self",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"allResist_self"),ll.prototype),kl(ll.prototype,"allResist",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"allResist"),ll.prototype),kl(ll.prototype,"allresRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"allresRate"),ll.prototype),kl(ll.prototype,"meleeAbsorb",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"meleeAbsorb"),ll.prototype),kl(ll.prototype,"fireAbsorb",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"fireAbsorb"),ll.prototype),kl(ll.prototype,"fireResist",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"fireResist"),ll.prototype),kl(ll.prototype,"fireResRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"fireResRate"),ll.prototype),kl(ll.prototype,"coldAbsorb",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"coldAbsorb"),ll.prototype),kl(ll.prototype,"coldResist",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"coldResist"),ll.prototype),kl(ll.prototype,"coldResRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"coldResRate"),ll.prototype),kl(ll.prototype,"lightningAbsorb",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightningAbsorb"),ll.prototype),kl(ll.prototype,"lightningResist",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightningResist"),ll.prototype),kl(ll.prototype,"lightningResRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightningResRate"),ll.prototype),kl(ll.prototype,"poisonAbsorb",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"poisonAbsorb"),ll.prototype),kl(ll.prototype,"poisonResist",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"poisonResist"),ll.prototype),kl(ll.prototype,"poisonResRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"poisonResRate"),ll.prototype),kl(ll.prototype,"lightAbsorb",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightAbsorb"),ll.prototype),kl(ll.prototype,"lightResist",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightResist"),ll.prototype),kl(ll.prototype,"lightResRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightResRate"),ll.prototype),kl(ll.prototype,"darkAbsorb",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"darkAbsorb"),ll.prototype),kl(ll.prototype,"darkResist",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"darkResist"),ll.prototype),kl(ll.prototype,"darkResRate",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"darkResRate"),ll.prototype),kl(ll.prototype,"atkSpeed",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"atkSpeed"),ll.prototype),kl(ll.prototype,"damage",[Q],Object.getOwnPropertyDescriptor(ll.prototype,"damage"),ll.prototype),kl(ll.prototype,"skillExpInc",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"skillExpInc"),ll.prototype),kl(ll.prototype,"addSkill",[Q],Object.getOwnPropertyDescriptor(ll.prototype,"addSkill"),ll.prototype),kl(ll.prototype,"canGetExp",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"canGetExp"),ll.prototype),kl(ll.prototype,"level",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"level"),ll.prototype),kl(ll.prototype,"mf",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"mf"),ll.prototype),kl(ll.prototype,"gf",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"gf"),ll.prototype),kl(ll.prototype,"dmgAdd",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"dmgAdd"),ll.prototype),kl(ll.prototype,"dmgLevel",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"dmgLevel"),ll.prototype),kl(ll.prototype,"firedmgAdd",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"firedmgAdd"),ll.prototype),kl(ll.prototype,"firedmgLevel",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"firedmgLevel"),ll.prototype),kl(ll.prototype,"colddmgAdd",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"colddmgAdd"),ll.prototype),kl(ll.prototype,"colddmgLevel",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"colddmgLevel"),ll.prototype),kl(ll.prototype,"lightningdmgAdd",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightningdmgAdd"),ll.prototype),kl(ll.prototype,"lightningdmgLevel",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightningdmgLevel"),ll.prototype),kl(ll.prototype,"poisondmgAdd",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"poisondmgAdd"),ll.prototype),kl(ll.prototype,"poisondmgLevel",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"poisondmgLevel"),ll.prototype),kl(ll.prototype,"darkdmgAdd",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"darkdmgAdd"),ll.prototype),kl(ll.prototype,"darkdmgLevel",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"darkdmgLevel"),ll.prototype),kl(ll.prototype,"lightdmgAdd",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightdmgAdd"),ll.prototype),kl(ll.prototype,"lightdmgLevel",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"lightdmgLevel"),ll.prototype),kl(ll.prototype,"expInc",[Be],Object.getOwnPropertyDescriptor(ll.prototype,"expInc"),ll.prototype),kl(ll.prototype,"gotExp",[Ft],Object.getOwnPropertyDescriptor(ll.prototype,"gotExp"),ll.prototype),kl(ll.prototype,"levelUp",[Ft],Object.getOwnPropertyDescriptor(ll.prototype,"levelUp"),ll.prototype),kl(ll.prototype,"levelUpPeak",[Ft],Object.getOwnPropertyDescriptor(ll.prototype,"levelUpPeak"),ll.prototype),cl=kl(ll.prototype,"reborn",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.rebornTimer=null,this.camp=El,this.hp=this.maxHp,this.mp=this.maxMp,this.startRecovery();for(const e of vu.units)null===e.target&&e.willAttack(this)&&e.setTarget(this);this.findTarget()}}}),kl(ll.prototype,"kill",[Q],Object.getOwnPropertyDescriptor(ll.prototype,"kill"),ll.prototype),ll),Bl=(hl=class extends Tl{constructor(e,t,n,r){super(e,r),vl(this,"type",pl,this),vl(this,"quality",dl,this),vl(this,"affixes",fl,this),vl(this,"summoner",ml,this),vl(this,"summonSkill",gl,this),bl(this,"borner",null),vl(this,"clean",yl,this),bn(this),this.type=t,this.quality=n;const i=r&&r.skills;if(this.enemyData.skills&&this.enemyData.skills.forEach((e=>{let{key:t,level:n}=e;this.addSkill(t,n,i&&i[t])})),r&&r.affixes&&r.affixes.length===n)this.affixes=r.affixes;else for(let e=0;e<n;e++){const{affixes:e}=this.enemyData,t=Object.keys(e),n=t.reduce(((t,n)=>t+e[n]),0);let r=Math.random()*n;this.affixes.push(t.find((t=>(r-=e[t],r<=0))))}if(this.hookRecords=[],this.enemyData.hooks)for(const e in this.enemyData.hooks)this.hookRecords.push(this.addAttrHook(e,this.enemyData.hooks[e].bind(this,vu)));for(const e of this.affixes){const{hooks:t}=os.enemyAffixes[e];for(const e in t)this.addAttrHook(e,t[e].bind(this,vu))}if(r){if(this.camp=r.camp,r.cleanTimer?this.timeline.parent.setTimeout(this.clean,r.cleanTimer):"ghost"===this.camp&&this.timeline.parent.setTimeout(this.clean,3e3),"number"==typeof r.borner?this.borner=vu.enemyBorn.borns[r.borner]:"number"==typeof r.phaseBorn&&(this.borner=vu.enemyBorn.phaseBorn[r.phaseBorn]),this.borner&&(this.borner.count++,this.borner.testTimer()),r.buffs)for(const e of r.buffs)e&&os.buffs[e.type]&&(e.buff=this.addBuff(e.type,e.time,e.arg,e.group,99999));if(this.hp=r.hp,this.mp=r.mp,this.rp=r.rp,this.ep=r.ep,"number"==typeof r.reading)this.reading=this.buffs[r.reading];else if("number"==typeof r.casting){const e=this.skills[r.casting];if(e){const t=r.castingTimer;this.castingTimer=this.timeline.setTimeout((()=>{e.canUse&&e.effect(),this.castingTimer=null,this.casting=null}),t),this.casting=e}}}else{if(this.camp=this.enemyData.camp,this.enemyData.buffs)for(const e of this.enemyData.buffs)this.addBuff(e.type,e.time,e.arg);this.hp=this.maxHp,this.mp=this.maxMp,this.ep=this.maxEp}this.setAttackCoolDown(),this.startRecovery()}transformType(e){this.type=e;for(const e of this.skills.splice(0))e.dispose();for(const e of this.hookRecords.splice(0))e();for(const e of this.buffs.slice(0))e.buffData.notRemoveWhenTransform||this.removeBuff(e);if(this.enemyData.skills.forEach((e=>{let{key:t,level:n}=e;this.addSkill(t,n)})),this.enemyData.hooks)for(const e in this.enemyData.hooks)this.hookRecords.push(this.addAttrHook(e,this.enemyData.hooks[e].bind(this,vu)));if(this.enemyData.buffs)for(const e of this.enemyData.buffs)this.addBuff(e.type,e.time,e.arg);this.camp=this.enemyData.camp,this.findTarget(),vu.units.forEach((e=>{null===e.target&&e.willAttack(this)&&e.setTarget(this)})),this.setAttackCoolDown()}get enemyData(){return os.enemies[this.type]||{}}get name(){return this.enemyData.name||""}get displayName(){const e=this.affixes.map((e=>os.enemyAffixes[e].name));return e.push(this.name),this.runAttrHooks(e.join(""),"displayName")}get maxHp(){let e=this.enemyData.maxHp;return e=this.runAttrHooks(e,"maxHp"),e*=1.5**this.quality,e=this.runAttrHooks(e,"maxHpMul"),vu._endlessLevel&&this.camp==Al&&(e*=Math.pow(1.5,vu._endlessLevel-1)),e}get maxMp(){return this.enemyData.maxMp||0}get mpRecovery(){return this.enemyData.mpRecovery||0}get maxRp(){return this.enemyData.maxRp||0}get rpRecovery(){return this.enemyData.rpRecovery||-1}get maxEp(){return this.enemyData.maxEp||0}get epRecovery(){return this.enemyData.epRecovery||-1}get rpOnAttack(){return this.enemyData.rpOnAttack||0}get rpOnAttacked(){return this.enemyData.rpOnAttacked||0}get atkSpeed(){let e=this.enemyData.atkSpeed||0;return e=this.runAttrHooks(e,"atkSpeed"),e=this.runAttrHooks(e,"atkSpeedMul"),e}get hpRecovery(){let e=this.enemyData.hpRecovery||0;return e=this.runAttrHooks(e,"hpRecovery"),vu._endlessLevel&&this.camp==Al&&(e*=Math.pow(1.5,vu._endlessLevel-1)),e}get atk(){let e=this.enemyData.atk||0;return e=this.runAttrHooks(e,"atk"),e*=this.runAttrHooks(1,"atkAdd"),e*=this.runAttrHooks(1,"atkMulAttr"),e=this.runAttrHooks(e,"atkMul"),vu._endlessLevel&&this.camp==Al&&(e*=Math.pow(1.2,vu._endlessLevel-1)),e}get critRate(){let e=this.enemyData.critRate||0;return e=this.runAttrHooks(e,"critRate"),e}get critBonus(){let e=this.enemyData.critBonus||1.5;return e=this.runAttrHooks(e,"critBonus"),e}get leech(){let e=this.enemyData.leech||0;return e=this.runAttrHooks(e,"leech"),e}get def(){let e=this.enemyData.def||0;return e=this.runAttrHooks(e,"defAdd"),e*=this.runAttrHooks(1,"defMul"),e}get meleeAbsorb(){let e=this.enemyData.meleeAbsorb||0;return e=this.runAttrHooks(e,"meleeAbsorb"),e}get fireAbsorb(){let e=this.enemyData.fireAbsorb||0;return e=this.runAttrHooks(e,"fireAbsorb"),e}get fireResist(){let e=this.enemyData.fireResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"fireResist"),e}get colddmgAdd(){let e=this.enemyData.colddmgAdd||1;return e=this.runAttrHooks(e,"colddmgAdd"),e}get coldAbsorb(){let e=this.enemyData.coldAbsorb||0;return e=this.runAttrHooks(e,"coldAbsorb"),e}get coldResist(){let e=this.enemyData.coldResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"coldResist"),e}get lightningAbsorb(){let e=this.enemyData.lightningAbsorb||0;return e=this.runAttrHooks(e,"lightningAbsorb"),e}get lightningResist(){let e=this.enemyData.lightningResist||0;return e+=this.enemyData.allResist||0,e=this.runAttrHooks(e,"lightningResist"),e}get poisondmgAdd(){let e=this.enemyData.poisondmgAdd||1;return e=this.runAttrHooks(e,"poisondmgAdd"),e}get poisonAbsorb(){let e=this.enemyData.poisonAbsorb||0;return e=this.runAttrHooks(e,"poisonAbsorb"),e}get poisonResist(){let e=this.enemyData.poisonResist||0;return e=this.runAttrHooks(e,"poisonResist"),e}get darkdmgAdd(){let e=this.enemyData.darkdmgAdd||1;return e=this.runAttrHooks(e,"darkdmgAdd"),e}get darkAbsorb(){let e=this.enemyData.darkAbsorb||0;return e=this.runAttrHooks(e,"darkAbsorb"),e}get darkResist(){let e=this.enemyData.darkResist||0;return e=this.runAttrHooks(e,"darkResist"),e}get lightAbsorb(){let e=this.enemyData.lightAbsorb||0;return e=this.runAttrHooks(e,"lightAbsorb"),e}get lightResist(){let e=this.enemyData.lightResist||0;return e=this.runAttrHooks(e,"lightResist"),e}get exp(){return(this.enemyData.exp||0)*2**this.quality}get level(){return(this.enemyData.level||0)+0*this.quality}get dmgAdd(){let e=this.enemyData.dmgAdd||1;return e=this.runAttrHooks(e,"dmgAdd"),e=this.runAttrHooks(e,"dmgMul"),e}get speedRate(){let e=this.enemyData.speedRate||1;return e=this.runAttrHooks(e,"speedRateAdd"),e}get stunResist(){const e=Yc(this.level);return this.runAttrHooks(this.enemyData.stunResist||10*e,"stunResist")}addSkill(e,t,n){const r=new Cl(this.timeline,this,e,n);r.getLevel=()=>t,this.skills.unshift(r)}kill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.runAttrHooks(!0,"willClean",this,vu)&&this.setCleanTimer(e?1e3:0),super.kill(),this.summoner&&this.summoner.runAttrHooks(this,"onSummonDeath"),Bs.sendDeath(this),this.exp&&vu.gotExp(this.exp,Yc(this.level))}setCleanTimer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.cleanTimer||(this.cleanTimer=this.timeline.parent.setTimeout(this.clean,e))}setTarget(e){super.setTarget(e),this.enemyData.camp===Sl&&(this.camp=e?Al:Sl)}dispose(){super.dispose(),this.cleanTimer&&(this.timeline.clearTimeout(this.cleanTimer),this.cleanTimer=null),this.borner&&this.borner.onEnemyKilled()}dumpState(){const e=super.dumpState();if(e.type=this.type,e.quality=this.quality,e.affixes=un(this.affixes),this.cleanTimer&&(e.cleanTimer=this.cleanTimer.at-this.timeline.parent.getTime()),this.borner){const{borns:t,phaseBorn:n}=vu.enemyBorn;t&&t.indexOf(this.borner)>=0?e.borner=t.indexOf(this.borner):n&&n.indexOf(this.borner)>=0&&(e.phaseBorn=n.indexOf(this.borner))}if(this.summoner){const t=vu.units.indexOf(this.summoner);if(t>-1&&(e.summoner=t,this.summonSkill)){const t=this.summoner.skills.indexOf(this.summonSkill);t>-1&&(e.summonSkill=t)}}return e}},pl=kl(hl.prototype,"type",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dl=kl(hl.prototype,"quality",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fl=kl(hl.prototype,"affixes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ml=kl(hl.prototype,"summoner",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gl=kl(hl.prototype,"summonSkill",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kl(hl.prototype,"enemyData",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"enemyData"),hl.prototype),kl(hl.prototype,"name",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"name"),hl.prototype),kl(hl.prototype,"displayName",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"displayName"),hl.prototype),kl(hl.prototype,"maxHp",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"maxHp"),hl.prototype),kl(hl.prototype,"maxMp",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"maxMp"),hl.prototype),kl(hl.prototype,"mpRecovery",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"mpRecovery"),hl.prototype),kl(hl.prototype,"maxRp",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"maxRp"),hl.prototype),kl(hl.prototype,"rpRecovery",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"rpRecovery"),hl.prototype),kl(hl.prototype,"maxEp",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"maxEp"),hl.prototype),kl(hl.prototype,"epRecovery",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"epRecovery"),hl.prototype),kl(hl.prototype,"rpOnAttack",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"rpOnAttack"),hl.prototype),kl(hl.prototype,"rpOnAttacked",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"rpOnAttacked"),hl.prototype),kl(hl.prototype,"atkSpeed",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"atkSpeed"),hl.prototype),kl(hl.prototype,"hpRecovery",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"hpRecovery"),hl.prototype),kl(hl.prototype,"atk",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"atk"),hl.prototype),kl(hl.prototype,"critRate",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"critRate"),hl.prototype),kl(hl.prototype,"critBonus",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"critBonus"),hl.prototype),kl(hl.prototype,"leech",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"leech"),hl.prototype),kl(hl.prototype,"def",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"def"),hl.prototype),kl(hl.prototype,"meleeAbsorb",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"meleeAbsorb"),hl.prototype),kl(hl.prototype,"fireAbsorb",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"fireAbsorb"),hl.prototype),kl(hl.prototype,"fireResist",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"fireResist"),hl.prototype),kl(hl.prototype,"colddmgAdd",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"colddmgAdd"),hl.prototype),kl(hl.prototype,"coldAbsorb",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"coldAbsorb"),hl.prototype),kl(hl.prototype,"coldResist",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"coldResist"),hl.prototype),kl(hl.prototype,"lightningAbsorb",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"lightningAbsorb"),hl.prototype),kl(hl.prototype,"lightningResist",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"lightningResist"),hl.prototype),kl(hl.prototype,"poisondmgAdd",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"poisondmgAdd"),hl.prototype),kl(hl.prototype,"poisonAbsorb",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"poisonAbsorb"),hl.prototype),kl(hl.prototype,"poisonResist",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"poisonResist"),hl.prototype),kl(hl.prototype,"darkdmgAdd",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"darkdmgAdd"),hl.prototype),kl(hl.prototype,"darkAbsorb",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"darkAbsorb"),hl.prototype),kl(hl.prototype,"darkResist",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"darkResist"),hl.prototype),kl(hl.prototype,"lightAbsorb",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"lightAbsorb"),hl.prototype),kl(hl.prototype,"lightResist",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"lightResist"),hl.prototype),kl(hl.prototype,"exp",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"exp"),hl.prototype),kl(hl.prototype,"level",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"level"),hl.prototype),kl(hl.prototype,"dmgAdd",[Be],Object.getOwnPropertyDescriptor(hl.prototype,"dmgAdd"),hl.prototype),kl(hl.prototype,"speedRate",[Q],Object.getOwnPropertyDescriptor(hl.prototype,"speedRate"),hl.prototype),kl(hl.prototype,"stunResist",[Q],Object.getOwnPropertyDescriptor(hl.prototype,"stunResist"),hl.prototype),kl(hl.prototype,"addSkill",[Q],Object.getOwnPropertyDescriptor(hl.prototype,"addSkill"),hl.prototype),kl(hl.prototype,"kill",[Q],Object.getOwnPropertyDescriptor(hl.prototype,"kill"),hl.prototype),yl=kl(hl.prototype,"clean",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.enemyData.loots&&vu.loots(this.enemyData.loots,this.level,this.quality),vu.player&&Bm.onEnemyKilled(this.type,1,vu.player.role),vu.removeUnit(this)}}}),kl(hl.prototype,"setTarget",[Q],Object.getOwnPropertyDescriptor(hl.prototype,"setTarget"),hl.prototype),hl);function Nl(e,t,n){const r=e.filter((e=>!n[e])),i=r.reduce(((e,t)=>e+(os.affixes[t].weight||1)),0);let a=Math.random()*i;const o=r.find((e=>{const t=os.affixes[e].weight||1;return a<t||(a-=t,!1)}));return n[o]=!0,(new Qc).fromJS({key:o,value:os.affixes[o].generate(t)})}function Il(e,t,n){const r=os.goods[e],i=os.affixes[t];return!(i.maxLevel&&n>i.maxLevel||i.minLevel&&n<i.minLevel||i.validClasses&&-1===i.validClasses.indexOf(r.class)||i.validPositions&&-1===i.validPositions.indexOf(r.position))}function Ml(e,t,n,r){const i=Object.keys(os.affixes).filter((n=>Il(e,n,t))),a=[],o={};for(let e=0;e<n;e++)a.push(Nl(i,t||0,o));return r&&a.push((new Qc).fromJS({key:r,value:os.legends[r].generate(t)})),new Zc("loot").fromJS({key:e,level:t,count:1,affixes:a,quality:n,legendType:r})}const jl=[1,.5,.05,.005,5e-4,0],Hl=Object.keys(os.goods).filter((e=>"equip"===os.goods[e].type));function Ll(e,t,n){const r=Math.random()/t,i=Math.max(0,jl.findIndex((e=>e<r))-1);let a=null;if(4===i&&Math.random()<.02){const t=Object.keys(os.legends).filter((t=>!os.legends[t].special&&(os.legends[t].minLevel||0)<=e&&(os.legends[t].maxLevel||e)>=e&&(!n||os.goods[os.legends[t].type].position===n)));a=t[Math.random()*t.length|0]||null}if(a)return Ml(os.legends[a].type,e,i,a);const o=Hl.filter((t=>(os.goods[t].minLevel||0)<=e&&(os.goods[t].maxLevel||e)>=e&&(!n||os.goods[t].position===n)));return Ml(o[Math.random()*o.length|0],e,i,null)}function ql(e){return e<=30?0:e<=60?1:e<=90?2:e<=120?3:e<=150?4:5}const zl=[[],[],["wuxingshi","wuxingshi","wuxingshi","wuxingshi","wuxingshi","wuxingshi"]];function Ul(e){let{level:t,quality:n}=e;const r={};for(let e=0;e<=n&&e<3;e++){const n=zl[e][ql(t)];n&&(r[n]=1*(ql(t)+1))}return n>=3&&(r.diamonds=Math.ceil(3+t/100*(1<<n-3))),r}var Vl=i(4542),Kl=i.n(Vl),Yl=i(7298),$l=i.n(Yl),Wl=i(4526);const Gl={CmdOrCtrl:window.navigator.platform.indexOf("Mac")>=0?"Meta":"Ctrl",Control:"Ctrl",Win:"Meta"};for(const e of"abcdefghijklmnopqrstuvwxyz")Gl[e]=e.toUpperCase();const Jl={Shift:-10,Ctrl:-9,Alt:-8,Meta:-7};var Xl=i(6205),Ql={};Ql.styleTagTransform=oo(),Ql.setAttributes=no(),Ql.insert=eo().bind(null,"head"),Ql.domAPI=Qa(),Ql.insertStyleElement=io(),Ja()(Xl.A,Ql);const Zl=Xl.A&&Xl.A.locals?Xl.A.locals:void 0,eu=e=>{let{title:n,onClose:r,children:i,buttons:a}=e;return t.createElement("div",{className:Zl.mask},t.createElement("div",{className:Zl.modal},t.createElement("div",{className:Zl.title},n),t.createElement("div",{className:Zl.message},i),t.createElement("div",{className:Zl.buttonList},!a&&t.createElement("div",{className:Zl.button,onClick:r,autoFocus:!0,role:"button"},"确定"),a&&a.map(((e,n)=>t.createElement("div",{key:n,className:Zl.button,onClick:()=>{var t;r(),null===(t=e.onPress)||void 0===t||t.call(e)},role:"button"},e.text))))))};function tu(n,r,i){const a=document.createElement("div");return document.body.appendChild(a),new Promise((o=>{(0,e.render)(t.createElement(eu,{title:n,onClose:()=>{(0,e.unmountComponentAtNode)(a),document.body.removeChild(a),o()},buttons:i},r),a)}))}const nu=e=>{let{title:n,onConfirm:r,onCancel:i,defaultValue:a,children:o}=e;const[s,l]=(0,t.useState)(a||""),u=(0,t.useCallback)((()=>{r(s)}),[s]),c=(0,t.useCallback)((e=>{"Enter"===function(e){const t=[];return e.shiftKey&&t.push("Shift"),e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Meta"),e.altKey&&t.push("Alt"),t.push(Gl[e.key]||e.key),Array.from(new Set(t)).sort(((e,t)=>(Jl[e]||0)-(Jl[t]||0))).join("+")}(e)&&(e.stopPropagation(),u())}),[u]);return t.createElement("div",{className:Zl.mask},t.createElement("div",{className:Zl.modal},t.createElement("div",{className:Zl.title},n),t.createElement("div",{className:Zl.message},o),t.createElement(ko,{autoFocus:!0,value:s,onValueChange:l,onKeyDown:c}),t.createElement("div",{className:Zl.buttonList},t.createElement("div",{className:Zl.button,onClick:u,role:"button"},"确定"),t.createElement("div",{onClick:i,className:Zl.button,role:"button"},"取消"))))};function ru(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=document.createElement("div");return document.body.appendChild(a),new Promise((o=>{(0,e.render)(t.createElement(nu,{title:n,defaultValue:i,onConfirm:t=>{(0,e.unmountComponentAtNode)(a),document.body.removeChild(a),o(t)},onCancel:()=>{(0,e.unmountComponentAtNode)(a),document.body.removeChild(a),o(null)}},r),a)}))}var iu,au,ou,su,lu,uu,cu,hu,pu,du;function fu(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function mu(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gu(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let yu=(iu=class extends Ro.EventEmitter{resumeGame(){this.timeline.pause(),this.paused=!0,this.updateRate=1,this.updatedTime=0;const e=Date.now()-this.player.timestamp-this.timeline.getTime();if(e>0){const t=Math.min(e,2592e5),n=e-t;this.player.timestamp+=n,this.forward(t)}else this.timeline.resume()}forward(e){this.timeline.pause(),this.paused=!0,this.pendingTime=e,this.requestPending()}skipForward(){this.player&&(this.player.timestamp+=this.pendingTime),this.pendingTime=0}pause(){this.pendingRequest&&(cancelAnimationFrame(this.pendingRequest),this.pendingRequest=null),this.timeline.pause(),this.paused=!0}resetTimeline(){this.timeline=new as,this.logicTimeline=new as(this.timeline)}load(e,t){if(this.player=e,this.resetTimeline(),this._map=t.map||"home",this._endlessLevel=t.endlessLevel||0,t.pendingMaps){this.pendingMaps.replace(t.pendingMaps);for(let e=0;e<this.pendingMaps.length;e++)"string"==typeof this.pendingMaps[e]&&(this.pendingMaps[e]=[this.pendingMaps[e],0])}if(os.maps[this._map]||(this._map="home",this._endlessLevel=0),this.onMapChanged(t),t.units){for(const n of t.units)"player"===n.type?n.unit=this.addPlayer(e,n):os.enemies[n.type]&&(n.unit=this.addEnemySaved(n));for(const e of t.units)if(e.unit){if("number"==typeof e.target){const n=t.units[e.target];e.unit.target=n&&n.unit||null}if(e.unit.target||e.unit.findTarget(),"number"==typeof e.summoner){const n=t.units[e.summoner];e.unit.summoner=n&&n.unit||null,e.unit.summoner&&"number"==typeof e.summonSkill&&(e.unit.summonSkill=e.unit.summoner.skills[e.summonSkill]||null)}e.unit.hp=e.hp,e.unit.mp=e.mp,e.unit.rp=e.rp,e.unit.ep=e.ep}}this.playerUnit||this.addPlayer(e);for(const e of this.units)e.tryUseSkill(e.canUseSkill())}dumpState(){return{map:this._map,pendingMaps:this.pendingMaps,endlessLevel:this._endlessLevel,enemyBorn:this.enemyBorn&&this.enemyBorn.dumpState(),units:this.units.map((e=>e&&e.dumpState()))}}requestPending(){this.pendingRequest=requestAnimationFrame((()=>{const{updateRate:e}=this,t=this.pendingTime/e,n=this.timeline.stepPaused(t);Nt((()=>{this.pendingTime=n*e,this.player.timestamp+=(t-n)*(e-1),this.mapData.isDungeon||(this.updatedTime+=t-n,this.updatedTime>6e4&&(this.updateRate*=1.05,this.updatedTime-=6e4)),this.pendingTime<=0?(this.updatedTime=0,this.updateRate=1,this.timeline.resume(),this.paused=!1,this.pendingRequest=null):this.requestPending()}))}))}constructor(){super(),mu(this,"timeline",new as),mu(this,"logicTimeline",null),fu(this,"units",au,this),fu(this,"player",ou,this),fu(this,"playerUnit",su,this),fu(this,"paused",lu,this),fu(this,"pendingTime",uu,this),fu(this,"enemyBorn",cu,this),mu(this,"updatePromise",void 0),mu(this,"updateRate",1),mu(this,"updatedTime",0),fu(this,"_map",hu,this),fu(this,"_endlessLevel",pu,this),fu(this,"pendingMaps",du,this),bn(this)}dispose(){for(;this.units.length>0;)this.removeUnit(this.units[this.units.length-1]);this.enemyBorn&&(this.enemyBorn.dispose(),this.enemyBorn=null),this.pendingRequest&&(cancelAnimationFrame(this.pendingRequest),this.pendingRequest=null),this.player=null,this.playerUnit=null,this.pause(),this.updatePromise=null}addUnit(e,t){if(t){const t=Math.floor(Math.random()*(this.units.length+1));this.units.splice(t,0,e)}else this.units.push(e);e.runAttrHooks(null,"appeared")}addPlayer(e,t){this.player=this.player||e,e.isBanned&&this.logicTimeline.setRate(.001);const n=new Fl(this.logicTimeline,e,t);return n.initKeepAlives(),this.playerUnit=n,this.addUnit(n),n}addEnemy(e,t,n,r,i){const a=new Bl(this.logicTimeline,e,n);return a.initKeepAlives(),a.borner=t,a.summoner=r,a.summonSkill=i,a.hp=a.maxHp,a.mp=a.maxMp,Bs.sendEnemyAppear(a,r),this.addUnit(a,t&&t.config.randomPosition),this.units.forEach((e=>{null===e.target&&e.willAttack(a)&&e.setTarget(a)})),a.findTarget(),a.tryUseSkill(a.canUseSkill()),a}addEnemySaved(e){const t=new Bl(this.logicTimeline,e.type,e.quality,e);return t.initKeepAlives(),this.addUnit(t),t}removeUnit(e){const t=this.units.indexOf(e);t<0||(this.units.splice(t,1),e.dispose(),this.units.forEach((t=>{t.target===e&&(t.setTarget(null),t.findTarget())})))}get map(){return this._map}set map(e){this._map=e,this._endlessLevel=0,this.onMapChanged()}get mapData(){return os.maps[this.map]}onMapChanged(e){for(this.enemyBorn&&(this.enemyBorn.dispose(),this.enemyBorn=null);;){const e=this.units.find((e=>{for(;e;e=e.summoner)if(e===this.playerUnit)return!1;return!0}));if(!e)break;this.removeUnit(e)}Bs.sendEnterMap(this.map),this.mapData.isDungeon?this.enemyBorn=new Ss(this.logicTimeline,this.map,e&&e.enemyBorn):this.enemyBorn=new xs(this.logicTimeline,this.map,e&&e.enemyBorn)}focusEnemy(e){if(e.enemyData&&e.enemyData.onPress){if(e.camp===xl)return;if(!e.enemyData.onPress.call(e,this))return}this.units.forEach((t=>{t.camp===El&&t.canAttack(e)&&t.setTarget(e)}))}testDodge(e,t,n){if(t.testDodge())return Bs.sendDodge(e,t,n),!0}sendDamage(e,t,n,r,i,a){let o=i,s=0;const l=n.runAttrHooks(!1,"shieldReflect",e);if(t&&t!==n&&l)return this.testDodge(t,t,r)?0:this.sendDamage(e,t,t,r,l,a);switch(o=t?t.runAttrHooks(o,"willDamage",n,e):o,o=n.runAttrHooks(o,"willDamaged",t,e),s=Math.min(o*(n[Ts(e+"-absorb")]||0),o),e){case"melee":o=n.def<0?(o-s)*(1+n.def/(n.def-2e3)):Math.max((o-s)/(1+n.def/2e3),.25*(o-s));break;default:{const t=n[Ts(e+"-resist")]||0;o=t<0?(o-s)*(1+t/(t-2e3)):Math.max((o-s)/(1+t/2e3),.25*(o-s));break}}const u=n.runAttrHooks(o,"absorbed",e);return s+=o-u,o=u,o=n.runAttrHooks(o,"damaged",t),Bs.sendDamage(e,t,n,r,o,a,s),n.damage(e,t,o),o}sendHeal(e,t,n,r){Bs.sendHeal(e,t,n,r),t.hp+=r}gotExp(e,t){const n=this.units.filter((e=>e.canGetExp));if(n.length>0){let r=e*this.updateRate/n.length;n.forEach((e=>e.gotExp(r,t)))}}lootGood(e,t){Bs.sendLoot(this.player,e,t),this.player.loot(e),0===e.count&&(e.key=null)}lootGoods(e,t){const n=[];for(const r of e)this.lootGood(r,t),r.empty||n.push(r);return n}getLootRule(e,t,n){const r=this.player.lootRule.get(e),i=r&&r[t]||0;return i||(n<this.player.minLootLevel?0===t?1:2:i)}loots(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=[],o=1<<n;if(!this.player||!this.playerUnit)return;const s=i?1:this.updateRate;this._endlessLevel&&(t+=50*(this._endlessLevel-1));for(const{key:n,type:r,count:[i,l]=[],rate:u,mfRate:c=1,dungeons:h,value:p,position:d,items:f}of e){const e="maxLevel"===r?1:Math.ceil(u*s-Math.random());for(let s=0;s<e;s++)if("ticket"===r){if(h){const e=Object.keys(h),t=e.reduce(((e,t)=>e+h[t]),0);let n=Math.random()*t;const r=e.find((e=>{const t=h[e];return n<t||(n-=t,!1)})),i=new Zc("loot");i.key="ticket",i.dungeonKey=r,i.count=1,a.push(i)}}else if("equip"===r||"specialEquip"===r){let e,n=0;if(e=>250){const e=Math.max(1,Math.min(t-15,.8*t));n+=Math.ceil(e+Math.random()*(t-e))}else n+=t;if("specialEquip"===r){const t=f[Math.floor(Math.random()*f.length)];e=Ml(os.legends[t].type,n,4,t)}else e=Ll(n,c*(this.playerUnit?this.playerUnit.mf:1)*o,d);switch(this.getLootRule(e.goodData.class,e.quality,e.level)){case 1:a.push(new Zc("loot").fromJS({key:"gold",count:e.price}));break;case 2:{const t=Ul(e);for(const e of Object.keys(t))a.push(new Zc("build").fromJS({key:e,count:t[e]}))}break;default:a.push(e)}}else if("maxLevel"===r)this.player.maxLevel<p&&(this.player.maxLevel=p,tu(`${this.player.name}的最大等级提升到了${p}`));else if(n){let t=(Math.random()*(l-i+1)+i)*e;"gold"===n&&(t*=this.playerUnit.gf,t*=this._endlessLevel?Math.pow(1.5,this._endlessLevel):1);const r=new Zc("loot");r.key=n,r.count=0|t,a.push(r),s=e}}return this.lootGoods(a,r)}lootEndless(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._endlessLevel>0&&Math.random()<Bm.endlessTicketRate){const t=[],n=new Zc("loot");return n.key="ticket",n.dungeonKey="nightmare."+(this._endlessLevel+1),n.count=1,t.push(n),this.lootGoods(t,e)}}selectSkill(e){this.player.careerInfo.selectedSkills.unshift(e),this.playerUnit.addSkill(e)}unselectSkill(e){this.player.careerInfo.selectedSkills.remove(e),this.playerUnit.removeSkill(e)}selectEnhance(e){this.player.careerInfo.selectedEnhances.unshift(e)}unselectEnhance(e){this.player.careerInfo.selectedEnhances.remove(e)}sendSkillUsage(e,t,n){Bs.sendSkillUsage(e,t,n)}sendGeneralMsg(e){Bs.sendGeneral(e)}start(e){const t=$l().base64ToBytes(e.slice(4)),n=t.splice(0,16),r=[];for(let e=0;32*e<t.length;e++){const i=t.slice(32*e+16,32*(e+1));r.push(i);const a=t.slice(32*e,32*e+16);if(Kl()([...i,...n],{asBytes:!0}).some(((e,t)=>e!==a[t])))throw Error("Invalid data")}const i=[].concat(...r);return i.forEach(((e,t)=>{i[t]=e^255&t^39})),JSON.parse(Wl.utf8.bytesToString(i))}stop(e){const t=Kl()(Date.now()+"."+Math.random(),{asBytes:!0}),n=Wl.utf8.stringToBytes(JSON.stringify({random:Math.random(),...e}));n.forEach(((e,t)=>{n[t]=e^255&t^39}));const r=[t];for(let e=0;16*e<n.length;e++){const i=n.slice(16*e,16*(e+1));r.push(Kl()([...i,...t],{asBytes:!0})),r.push(i)}return"save"+$l().bytesToBase64([].concat(...r))}usePackage(e){const{player:t}=this,{goodData:n}=e;if(t.inventory.filter((e=>e.empty)).length<n.requireInventory)tu(`背包空间不足！至少保留${n.requireInventory}个空位才能打开${n.name}`);else{for(;e.count>0;){let r=n.lootLevel;if(r){if(Array.isArray(r)){const e=Math.random();r=e*r[0]+(1-e)*r[1]}}else r=t.level<100?2*t.level:200;this.loots(n.loots,r,0,!1,!0),e.count-=1}0===e.count&&e.clear()}}},au=gu(iu.prototype,"units",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ou=gu(iu.prototype,"player",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),su=gu(iu.prototype,"playerUnit",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lu=gu(iu.prototype,"paused",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uu=gu(iu.prototype,"pendingTime",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cu=gu(iu.prototype,"enemyBorn",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gu(iu.prototype,"resumeGame",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"resumeGame"),iu.prototype),gu(iu.prototype,"pause",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"pause"),iu.prototype),gu(iu.prototype,"dispose",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"dispose"),iu.prototype),gu(iu.prototype,"addEnemy",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"addEnemy"),iu.prototype),gu(iu.prototype,"addEnemySaved",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"addEnemySaved"),iu.prototype),gu(iu.prototype,"removeUnit",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"removeUnit"),iu.prototype),hu=gu(iu.prototype,"_map",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"home"}}),pu=gu(iu.prototype,"_endlessLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),du=gu(iu.prototype,"pendingMaps",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gu(iu.prototype,"mapData",[Be],Object.getOwnPropertyDescriptor(iu.prototype,"mapData"),iu.prototype),gu(iu.prototype,"focusEnemy",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"focusEnemy"),iu.prototype),gu(iu.prototype,"sendDamage",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"sendDamage"),iu.prototype),gu(iu.prototype,"sendHeal",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"sendHeal"),iu.prototype),gu(iu.prototype,"gotExp",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"gotExp"),iu.prototype),gu(iu.prototype,"lootGood",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"lootGood"),iu.prototype),gu(iu.prototype,"lootGoods",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"lootGoods"),iu.prototype),gu(iu.prototype,"loots",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"loots"),iu.prototype),gu(iu.prototype,"selectSkill",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"selectSkill"),iu.prototype),gu(iu.prototype,"unselectSkill",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"unselectSkill"),iu.prototype),gu(iu.prototype,"selectEnhance",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"selectEnhance"),iu.prototype),gu(iu.prototype,"unselectEnhance",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"unselectEnhance"),iu.prototype),gu(iu.prototype,"usePackage",[Ft],Object.getOwnPropertyDescriptor(iu.prototype,"usePackage"),iu.prototype),iu);const vu=new yu,bu={};function ku(e){if(Array.isArray(e))return e.map(ku);if(e instanceof Map){const t={};for(const[n,r]of e.entries())t[n]=ku(r);return t}if(e&&"object"==typeof e){const t={};for(const n of Object.keys(e))t[n]=ku(e[n]);return t}return e}var wu,xu,Su,Eu,Au,_u,Du,Pu,Cu,Ru,Ou,Tu,Fu,Bu,Nu,Iu,Mu,ju,Hu,Lu,qu,zu,Uu,Vu,Ku,Yu,$u,Wu,Gu,Ju,Xu,Qu,Zu,ec,tc,nc,rc,ic,ac,oc;function sc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lc(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uc(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const cc={};Object.keys(os.goods).forEach(((e,t)=>cc[e]=t));const hc={stickSword:1,stickWand:1,woodSword:6,woodWand:6,dress:2,skirt:2,rattanArmor:8,rattanShinGuard:8,hardDress:8,boot:8,boneSword:16,boneWand:16,wolfTeethMace:24,wolfTeethWand:24,leatherArmor:20,leatherTrousers:20,leatherDress:20,leatherSkirt:20,copperSword:32,copperBigSword:36,copperSword2:40,copperBigSword2:44,copperArmor:32,copperShinGuard:32,zombieBoneHandyWand:32,zombieBoneWand:36,mithrilShortWand:40,mithrilWand:44,silkDress:32,silkSocks:32,magicBoneSword:50,magicBoneBigSword:54,mithrilCopperSword:60,mithrilCopperBigSword:64,boneArmor:52,boneShinGuard:52,ghostCreamShortWand:50,ghostCreamStick:50,mithrilStannumShortWand:60,mithrilStannumWand:64,mithrilDress:52,mithrilSkirt:52},pc={cloth:1,lightArmor:1.5,armor:2,swordshield:1.5,spearshield:1.5,macheteshield:1.5},dc={plastron:1,gaiter:.8,weapon:1},fc={cloth:2,lightArmor:.5,armor:.5,wand:2},mc={plastron:1,gaiter:.8,weapon:2},gc={sword:1},yc={weapon:1},vc={longsword:1.5},bc={weapon:1},kc={sword:.6,swordshield:.4,spear:.8,spearshield:.5,machete:.6,macheteshield:.45,ornament:1,longsword:1},wc={weapon:1},xc={machete:1},Sc={weapon:1},Ec={ornament:1},Ac={sta:1,str:.5,dex:.5,int:.5},_c={ornament:1},Dc={sta:1},Pc={ornament:1},Cc={str:1},Rc={ornament:1},Oc={dex:1},Tc={wand:1},Fc={int:1,weapon:1},Bc={weapon_wanhua:1},Nc={weapon:1},Ic={ornament:1},Mc={jingjian_pofang:1.5},jc={},Hc={},Lc={},qc={},zc={},Uc={},Vc={armor:"重甲",lightArmor:"轻甲",cloth:"布甲",ornament:"首饰",sword:"长剑",swordshield:"剑盾",spear:"长枪",spearshield:"枪盾",machete:"双刀",macheteshield:"刀盾",wand:"法杖",longsword:"太刀"},Kc={plastron:1,gaiter:2,ornament:3,weapon:0};function Yc(e){return e<=200?Math.ceil(e/2):100}function $c(e){if(e.startsWith("nightmare."))return 0|Number(e.substr(10))}const Wc=["","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX"];function Gc(e){const t=$c(e);if(t)return"无尽噩梦"+(Wc[t]||t)}function Jc(e){return 250+50*($c(e)-1)}let Xc=(xu=uc((wu=class{constructor(){lc(this,"type",""),sc(this,"exp",xu,this),sc(this,"level",Su,this),sc(this,"peakExp",Eu,this),sc(this,"peakLevel",Au,this),sc(this,"maxLevel",_u,this),sc(this,"equipments",Du,this),sc(this,"selectedSkills",Pu,this),sc(this,"selectedEnhances",Cu,this),bn(this)}fromJS(e){return this.exp=e.exp||0,this.level=e.level||1,this.peakExp=e.peakExp||0,this.peakLevel=e.peakLevel||0,this.maxLevel=e.maxLevel||100,e.equipments&&(this.equipments.weapon.fromJS(e.equipments.weapon||{}),this.equipments.plastron.fromJS(e.equipments.plastron||{}),this.equipments.gaiter.fromJS(e.equipments.gaiter||{}),this.equipments.ornament.fromJS(e.equipments.ornament||{})),e.selectedSkills&&this.selectedSkills.replace(e.selectedSkills.filter((e=>os.careers[this.type].skills[e]))),e.selectedEnhances&&this.selectedEnhances.replace(e.selectedEnhances.filter((e=>os.careers[this.type].enhances[e]))),this}get maxExp(){if(!os.careers[this.type])return console.warn(`Invalid career type ${this.type}`),1e7;const{expFormula:e}=os.careers[this.type];return e.map(((e,t)=>e*this.level**t)).reduce(((e,t)=>e+t),0)}get maxPeakExp(){if(!os.careers[this.type])return console.warn(`Invalid career type ${this.type}`),1e7;const{expFormula:e}=os.careers[this.type],t=this.peakLevel+100;return e.map(((e,n)=>e*t**n)).reduce(((e,t)=>e+t),0)}}).prototype,"exp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Su=uc(wu.prototype,"level",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Eu=uc(wu.prototype,"peakExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Au=uc(wu.prototype,"peakLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_u=uc(wu.prototype,"maxLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Du=uc(wu.prototype,"equipments",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{weapon:new Zc("equip"),plastron:new Zc("equip"),gaiter:new Zc("equip"),ornament:new Zc("equip")}}}),Pu=uc(wu.prototype,"selectedSkills",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cu=uc(wu.prototype,"selectedEnhances",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),uc(wu.prototype,"maxExp",[Be],Object.getOwnPropertyDescriptor(wu.prototype,"maxExp"),wu.prototype),uc(wu.prototype,"maxPeakExp",[Be],Object.getOwnPropertyDescriptor(wu.prototype,"maxPeakExp"),wu.prototype),wu),Qc=(Ou=uc((Ru=class{constructor(){sc(this,"key",Ou,this),sc(this,"value",Tu,this),sc(this,"rebuilded",Fu,this),bn(this)}get affixData(){return os.affixes[this.key]||os.legends[this.key]}get isLegend(){return!!os.legends[this.key]}get display(){return this.affixData.display(this.value)}rangeDisplay(e){return this.affixData.range(e)}fromJS(e){return this.key=e.key,this.value=e.value,this.rebuilded=e.rebuilded,this}}).prototype,"key",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tu=uc(Ru.prototype,"value",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fu=uc(Ru.prototype,"rebuilded",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uc(Ru.prototype,"affixData",[Be],Object.getOwnPropertyDescriptor(Ru.prototype,"affixData"),Ru.prototype),uc(Ru.prototype,"isLegend",[Be],Object.getOwnPropertyDescriptor(Ru.prototype,"isLegend"),Ru.prototype),uc(Ru.prototype,"display",[Be],Object.getOwnPropertyDescriptor(Ru.prototype,"display"),Ru.prototype),uc(Ru.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(Ru.prototype,"fromJS"),Ru.prototype),Ru),Zc=(Nu=uc((Bu=class{constructor(e){lc(this,"position",null),sc(this,"key",Nu,this),sc(this,"count",Iu,this),sc(this,"level",Mu,this),sc(this,"affixes",ju,this),sc(this,"quality",Hu,this),sc(this,"enchantTimes",Lu,this),sc(this,"locked",qu,this),sc(this,"legendType",zu,this),sc(this,"dungeonKey",Uu,this),bn(this),this.position=e}get goodData(){return os.goods[this.key]}get isEnergyMaterial(){const{goodData:e}=this;return e&&"material"===e.type&&!!e.energy}get legendData(){return this.legendType&&os.legends[this.legendType]}get backgroundColor(){const{goodData:e}=this;return e&&e.backgroundColor}get nameColor(){const{goodData:e}=this;return e&&e.nameColor}get description(){return this.key?this.legendData?this.legendData.itemDescription:this.goodData&&this.goodData.description:""}get name(){return this.key?"gold"===this.key?"金币":"diamonds"===this.key?"神力":"ticket"===this.key?`钥石:${Gc(this.dungeonKey)||os.maps[this.dungeonKey].name}`:this.legendData?this.legendData.itemName:this.goodData&&this.goodData.name:""}get originName(){return this.legendData?this.goodData&&this.goodData.name:null}get isEquip(){return!!this.goodData&&"equip"===this.goodData.type}get displayQuality(){return this.isEquip?this.quality:this.goodData?this.goodData.quality||0:void 0}get empty(){return!this.key}get price(){if(!this.key)return 0;if(this.isEquip){const{level:e}=this;return(.01*e*e+1*e)*2**this.quality|0}return this.goodData.price*2**this.quality}get totalPrice(){return this.price*this.count}get requireLevel(){return this.isEquip?Yc(this.level):0}get atkSpeed(){const{goodData:e}=this;return e&&e.atkSpeed||0}get atk_self(){const{level:e,goodData:t}=this;if("weapon"===t.position){const n=kc[t.class]*wc[t.position]||0;return Math.ceil(e*n)}if("ornament"===t.position){const n=kc[t.class]*wc[t.item]||0;return Math.ceil(e*n)}}get def(){const{level:e,goodData:t}=this,n=pc[t.class]*dc[t.position]||0;return Math.round(e*n)}get allResist(){const{level:e,goodData:t}=this,n=fc[t.class]*mc[t.position]||0;return Math.round(e*n*.8)}get critRate(){const{level:e,goodData:t}=this;return.1*(gc[t.class]*yc[t.position]||0)}get dmgAdd(){const{level:e,goodData:t}=this,n=Bc[t.class]*Nc[t.position]||0;return e>200?.1*n:5e-4*e*n}get atkMul(){const{level:e,goodData:t}=this;return.1*(vc[t.class]*bc[t.position]||0)}get critBonus(){const{level:e,goodData:t}=this;return.2*(xc[t.class]*Sc[t.position]||0)}get dmgLevel(){const{level:e,goodData:t}=this,n=Ic[t.class]*Mc[t.item]||0;return Math.round(e*n)}get critR_level(){const{level:e,goodData:t}=this,n=jc[t.class]*Hc[t.position]||0;return Math.round(e*n)}get critB_level(){const{level:e,goodData:t}=this,n=Lc[t.class]*qc[t.position]||0;return Math.round(e*n)}get miss_shanbizhi(){const{level:e,goodData:t}=this,n=zc[t.class]*Uc[t.position]||0;return Math.round(e*n)}get equipPositionName(){const{goodData:e}=this;return Vc[e.class]}get equipPositionOrder(){const{position:e}=this.goodData;return Kc[e]}get maxHp(){const{level:e,goodData:t}=this;return e*(Ec[t.class]*Ac[t.item]||0)/2}get sta(){const{level:e,goodData:t}=this;return e*(_c[t.class]*Dc[t.item]||0)/4}get str(){const{level:e,goodData:t}=this;return e*(Pc[t.class]*Cc[t.item]||0)/4}get dex(){const{level:e,goodData:t}=this;return e*(Rc[t.class]*Oc[t.item]||0)/4}get int(){const{level:e,goodData:t}=this;return e*(Tc[t.class]*Fc[t.position]||0)}get mpRecovery(){const{level:e,goodData:t}=this;return t&&t.mpRecovery?(1.5*e+9)*t.mpRecovery/5:0}get mpFromKill(){const{level:e,goodData:t}=this;return t&&t.mpFromKill?(1.5*e+9)*t.mpFromKill:0}swap(e){const t=un(this);this.fromJS(e),e.fromJS(t)}clear(){this.key=null,this.count=0,this.quality=0,this.level=0,this.enchantTimes=0,this.legendType=null,this.dungeonKey=null,this.affixes.clear()}fromJS(e){return this.locked=e.locked||0,this.key=e.key||null,this.count=e.count?Math.ceil(e.count):null,this.quality=e.quality||0,this.level=e.level||0,this.enchantTimes=e.enchantTimes||0,this.legendType=e.legendType||null,this.dungeonKey=e.dungeonKey||null,this.isEquip&&!this.level&&(this.level=hc[this.key]||1),this.affixes.replace((e.affixes||[]).map((e=>(new Qc).fromJS(e)))),this.key&&0!==this.count||this.clear(),"ticket"!==this.key||this.dungeonKey||this.clear(),this}}).prototype,"key",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Iu=uc(Bu.prototype,"count",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mu=uc(Bu.prototype,"level",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ju=uc(Bu.prototype,"affixes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hu=uc(Bu.prototype,"quality",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lu=uc(Bu.prototype,"enchantTimes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qu=uc(Bu.prototype,"locked",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zu=uc(Bu.prototype,"legendType",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Uu=uc(Bu.prototype,"dungeonKey",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),uc(Bu.prototype,"goodData",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"goodData"),Bu.prototype),uc(Bu.prototype,"isEnergyMaterial",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"isEnergyMaterial"),Bu.prototype),uc(Bu.prototype,"legendData",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"legendData"),Bu.prototype),uc(Bu.prototype,"backgroundColor",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"backgroundColor"),Bu.prototype),uc(Bu.prototype,"nameColor",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"nameColor"),Bu.prototype),uc(Bu.prototype,"description",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"description"),Bu.prototype),uc(Bu.prototype,"name",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"name"),Bu.prototype),uc(Bu.prototype,"originName",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"originName"),Bu.prototype),uc(Bu.prototype,"isEquip",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"isEquip"),Bu.prototype),uc(Bu.prototype,"displayQuality",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"displayQuality"),Bu.prototype),uc(Bu.prototype,"empty",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"empty"),Bu.prototype),uc(Bu.prototype,"price",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"price"),Bu.prototype),uc(Bu.prototype,"totalPrice",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"totalPrice"),Bu.prototype),uc(Bu.prototype,"requireLevel",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"requireLevel"),Bu.prototype),uc(Bu.prototype,"atkSpeed",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"atkSpeed"),Bu.prototype),uc(Bu.prototype,"atk_self",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"atk_self"),Bu.prototype),uc(Bu.prototype,"def",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"def"),Bu.prototype),uc(Bu.prototype,"allResist",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"allResist"),Bu.prototype),uc(Bu.prototype,"critRate",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"critRate"),Bu.prototype),uc(Bu.prototype,"dmgAdd",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"dmgAdd"),Bu.prototype),uc(Bu.prototype,"atkMul",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"atkMul"),Bu.prototype),uc(Bu.prototype,"critBonus",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"critBonus"),Bu.prototype),uc(Bu.prototype,"dmgLevel",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"dmgLevel"),Bu.prototype),uc(Bu.prototype,"critR_level",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"critR_level"),Bu.prototype),uc(Bu.prototype,"critB_level",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"critB_level"),Bu.prototype),uc(Bu.prototype,"miss_shanbizhi",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"miss_shanbizhi"),Bu.prototype),uc(Bu.prototype,"equipPositionName",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"equipPositionName"),Bu.prototype),uc(Bu.prototype,"maxHp",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"maxHp"),Bu.prototype),uc(Bu.prototype,"sta",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"sta"),Bu.prototype),uc(Bu.prototype,"str",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"str"),Bu.prototype),uc(Bu.prototype,"dex",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"dex"),Bu.prototype),uc(Bu.prototype,"int",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"int"),Bu.prototype),uc(Bu.prototype,"mpRecovery",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"mpRecovery"),Bu.prototype),uc(Bu.prototype,"mpFromKill",[Be],Object.getOwnPropertyDescriptor(Bu.prototype,"mpFromKill"),Bu.prototype),uc(Bu.prototype,"swap",[Ft],Object.getOwnPropertyDescriptor(Bu.prototype,"swap"),Bu.prototype),uc(Bu.prototype,"clear",[Ft],Object.getOwnPropertyDescriptor(Bu.prototype,"clear"),Bu.prototype),uc(Bu.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(Bu.prototype,"fromJS"),Bu.prototype),Bu),eh=(Vu=class{constructor(e){lc(this,"key",null),sc(this,"role",Ku,this),sc(this,"currentCareer",Yu,this),sc(this,"currentCareerLevel",$u,this),this.key=e,bn(this)}get roleData(){return os.roles[this.role]}get name(){return this.roleData.name}get careerData(){return os.careers[this.currentCareer]}get careerName(){return this.careerData&&this.careerData.name}fromJS(e){return this.role=e.role||"Eyer",this.currentCareer=e.currentCareer||this.roleData.defaultCareer,this.currentCareerLevel=e.currentCareerLevel||0,this}},Ku=uc(Vu.prototype,"role",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Eyer"}}),Yu=uc(Vu.prototype,"currentCareer",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$u=uc(Vu.prototype,"currentCareerLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),uc(Vu.prototype,"roleData",[Be],Object.getOwnPropertyDescriptor(Vu.prototype,"roleData"),Vu.prototype),uc(Vu.prototype,"name",[Be],Object.getOwnPropertyDescriptor(Vu.prototype,"name"),Vu.prototype),uc(Vu.prototype,"careerData",[Be],Object.getOwnPropertyDescriptor(Vu.prototype,"careerData"),Vu.prototype),uc(Vu.prototype,"careerName",[Be],Object.getOwnPropertyDescriptor(Vu.prototype,"careerName"),Vu.prototype),uc(Vu.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(Vu.prototype,"fromJS"),Vu.prototype),Vu),th=(Wu=class e extends eh{constructor(e){super(e),sc(this,"timestamp",Gu,this),lc(this,"timelineId",null),lc(this,"banned",!1),sc(this,"careers",Ju,this),sc(this,"gold",Xu,this),sc(this,"inventory",Qu,this),sc(this,"inventoryDiamondLevel",Zu,this),sc(this,"skillExp",ec,this),sc(this,"buildInventory",tc,this),sc(this,"awardInventory",nc,this),sc(this,"migrateMap",rc,this),sc(this,"lootRule",ic,this),sc(this,"minLootLevel",ac,this),sc(this,"dungeonTickets",oc,this),bn(this),this.disposeAutoSave=Mt((()=>{this.save()}),{delay:3e4})}static load(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=localStorage.getItem(`player-${t}`),i=new e(t);if(r){let e;"{"===r[0]?e=JSON.parse(r):"s"===r[0]&&(e=vu.start(r)),function(e){e.migrateMap||(e.migrateMap={});for(const t in bu)e.migrateMap[t]||(e.migrateMap[t]=1,bu[t](e))}(e),i.fromJS(e),n&&(e.worldState=null,e.map=null),vu.load(i,e.worldState||{map:e.map||"home"})}return Bm.currentPlayer=t,i}static create(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Nt((()=>{Bm.checkCanCreate();const r=`${Date.now()}-${n}`;if(Bm.playerMetas.has(r))return e.create(t,n+1);t.key=r,Bm.playerMetas.set(r,t);const i=new e(r);return Bm.currentPlayer=r,i.fromJS(t),i.postCreate(),i.save(!0),Bm.save(),i}))}get isBanned(){return this.banned||Bm.banned}get careerInfo(){return this.careers.get(this.currentCareer)}get level(){return this.careerInfo?this.careerInfo.level:0}set level(e){this.careerInfo.level=e,this.currentCareerLevel=e}get maxLevel(){return this.careerInfo?this.careerInfo.maxLevel:0}set maxLevel(e){this.careerInfo&&(this.careerInfo.maxLevel=e)}get peakLevel(){return this.careerInfo?this.careerInfo.peakLevel:0}set peakLevel(e){this.careerInfo.peakLevel=e}get exp(){return this.careerInfo.exp}get peakExp(){return this.careerInfo.peakExp}set exp(e){this.careerInfo.exp=e}set peakExp(e){this.careerInfo.peakExp=e}get equipments(){return this.careerInfo.equipments}get maxExp(){return this.careerInfo.maxExp}get maxPeakExp(){return this.careerInfo.maxPeakExp}get maxSkillCount(){const{level:e}=this;return e>=70?6:e>=50?5:e>=30?4:3}get nextSkillUnlockLevel(){const{level:e}=this;return e>=70?null:e>=50?70:e>=30?50:30}get maxEnhanceCount(){const{level:e}=this;return e>=60?5:e>=40?4:e>=20?3:e>=10?2:e>=5?1:0}get nextEnhanceUnlockLevel(){const{level:e}=this;return e>=60?null:e>=40?60:e>=20?40:e>=10?20:e>=5?10:5}fromJS(e){if(super.fromJS(e),this.timestamp=e.timestamp||Date.now(),this.timelineId=e.timelineId,this.minLootLevel=e.minLootLevel||0,this.gold=e.gold||0,this.inventoryDiamondLevel=e.inventoryDiamondLevel||0,this.inventory.clear(),this.skillExp.clear(),Ln(e.skillExp))for(const t of e.skillExp.keys()){const n=un(e.skillExp.get(t));n.level=Math.min(n.level,50),this.skillExp.set(t,Re(n))}else for(const t of Object.keys(e.skillExp||{})){const n=e.skillExp[t];n.level=Math.min(n.level,50),this.skillExp.set(t,Re(n))}for(let t=0;e.inventory&&t<e.inventory.length;t++){this.inventory.push(new Zc("inventory").fromJS(e.inventory[t]||{}));const{key:n,dungeonKey:r}=this.inventory[t];if("ticket"==n&&r){const e=$c(r);e&&e>Bm.highestEndlessLevel&&(Bm.highestEndlessLevel=e)}}for(let t=0;e.buildInventory&&t<e.buildInventory.length;t++){const n=new Zc("build").fromJS(e.buildInventory[t]||{});n.empty||this.buildInventory.push(n)}for(let t=0;e.awardInventory&&t<e.awardInventory.length;t++){const n=new Zc("award").fromJS(e.awardInventory[t]||{});n.empty||this.awardInventory.push(n)}if(this.careers.clear(),Ln(e.careers))for(const t of e.careers.keys()){const n=new Xc;n.type=t,n.fromJS(e.careers.get(t)),this.careers.set(t,n)}else for(const t of Object.keys(e.careers||{})){const n=new Xc;n.type=t,n.fromJS(e.careers[t]),this.careers.set(t,n)}if(this.migrateMap.clear(),Ln(e.migrateMap))for(const t of e.migrateMap.keys())this.migrateMap.set(t,1);else for(const t of Object.keys(e.migrateMap||{}))this.migrateMap.set(t,1);if(this.lootRule.clear(),Ln(e.lootRule))for(const t of e.lootRule.keys())this.lootRule.set(t,e.lootRule.get(t));else for(const t of Object.keys(e.lootRule||{}))this.lootRule.set(t,e.lootRule[t]);if(this.dungeonTickets.clear(),Ln(e.dungeonTickets)){for(const t of Object.keys(os.maps))if(os.maps[t].isDungeon&&!os.maps[t].isEndless){const n="number"==typeof os.maps[t].defaultTicketCount?os.maps[t].defaultTicketCount:1,r=os.maps[t].group||t;this.dungeonTickets.set(r,e.dungeonTickets&&e.dungeonTickets.has(r)&&void 0!==e.dungeonTickets.get(r)?e.dungeonTickets.get(t):n)}}else for(const t of Object.keys(os.maps))if(os.maps[t].isDungeon&&!os.maps[t].isEndless){const n="number"==typeof os.maps[t].defaultTicketCount?os.maps[t].defaultTicketCount:1,r=os.maps[t].group||t;this.dungeonTickets.set(r,e.dungeonTickets&&void 0!==e.dungeonTickets[r]?e.dungeonTickets[r]:n)}return this}postCreate(){for(this.selectCareer(this.roleData.defaultCareer);this.inventory.length<12;)this.inventory.push(new Zc("inventory"));const{startup:e}=this.roleData;for(const t of Object.keys(e||{}))if("number"==typeof e[t]){const n=this.awardInventory.find((e=>e.key===t));n?n.count+=e[t]:this.awardInventory.push(new Zc("award").fromJS({key:t,count:e[t]}))}else{const{quality:n,affixes:r}=e[t];this.awardInventory.push(new Zc("award").fromJS({key:t,count:1,quality:n,affixes:r}))}}postLoad(){for(this.selectCareer(this.currentCareer);this.inventory.length<12;)this.inventory.push(new Zc("inventory"))}selectCareer(e){if(this.currentCareer=e,!this.careers.has(e)){const t=os.careers[e],n=new Xc;n.type=e,t.equipments&&t.equipments.weapon&&n.equipments.weapon.fromJS({key:t.equipments.weapon,count:1}),this.careers.set(e,n)}this.currentCareerLevel=this.level,Object.keys(this.careerData.skills).forEach((e=>{const t=os.skills[e].expGroup||e;this.skillExp.has(t)||this.skillExp.set(t,{level:0,exp:0})}))}emptySlot(e){for(let t=0;t<e.length;t++)if(!e[t].key)return t;return-1}notFullSlot(e,t,n,r){for(let i=0;i<e.length;i++){const a=e[i];if(a&&a.key===t&&("ticket"!==t||r===a.dungeonKey)&&a.count<n)return i}const i=this.emptySlot(e);return i>=0&&(e[i].key=t,"ticket"===t&&(e[i].dungeonKey=r)),i}loot(e,t){const n=t||this.inventory,{key:r}=e;if(e.empty)return;if("gold"===r)return this.gold+=e.count,void e.clear();if("diamonds"===r)return Bm.diamonds+=e.count,void e.clear();const i="ticket"===r?99999:os.goods[r].stack;if(!i){const t=this.emptySlot(n);if(t<0)return;return n[t].fromJS(e),void e.clear()}for(;e.count>0;){const t=this.notFullSlot(n,r,i,e.dungeonKey);if(t<0)return;const a=Math.min(e.count,i-n[t].count);n[t].count+=a,e.count-=a}if("ticket"===r){const t=$c(e.dungeonKey);t&&t>Bm.highestEndlessLevel&&(Bm.highestEndlessLevel=t)}e.clear()}save(e){try{if(!this.key)return void console.warn("No player key , failed to save");const t=Bm.playerMetas.get(this.key);if(!t)return void console.warn("可能角色已经被删除。不再保存。");t.fromJS(this);const n=ku(this.toJS());e?n.timestamp=this.timestamp:(n.timestamp=this.timestamp+vu.timeline.getTime(),n.worldState=vu.dumpState()),localStorage.setItem(`player-${this.key}`,vu.stop(n))}catch(e){console.error(e.stack),alert("保存失败，请将以下信息发送给作者："+e.stack)}}toJS(){return un(this)}sellItem(e,t){null!==e.key&&(this.gold+=e.price*t,"build"===e.position?this.buildInventory.remove(e):"award"===e.position?this.awardInventory.remove(e):(e.count-=t,0===e.count&&e.clear()))}countTicket(e){let t=0;return t+=this.dungeonTickets.get(e)||0,t+=this.inventory.reduce(((t,n)=>"ticket"===n.key&&n.dungeonKey===e?t+n.count:t),0),t+=Bm.bank.reduce(((t,n)=>"ticket"===n.key&&n.dungeonKey===e?t+n.count:t),0),t}costTicket(e){const t=this.dungeonTickets.get(e);if(t>0)return void this.dungeonTickets.set(e,t-1);const n=this.inventory.find((t=>"ticket"===t.key&&t.dungeonKey===e))||Bm.bank.find((t=>"ticket"===t.key&&t.dungeonKey===e));n&&(n.count--,0===n.count&&n.clear())}countGood(e){return this.inventory.reduce(((t,n)=>n.key===e?t+n.count:t),0)}costGood(e,t){let n=t;for(let t=this.inventory.length-1;t>=0;t--){const r=this.inventory[t];if(r.key===e){const e=Math.min(n,r.count);if(r.count-=e,r.count<=0&&r.clear(),n-=e,n<=0)return 0}}return n}getInventory(e){e.replace(vu.lootGoods(e)),this.save()}getSkillLevel(e){const t=this.skillExp.get(os.skills[e].expGroup||e);return t?t.level:0}addSkillExp(e,t){const n=this.skillExp.get(os.skills[e].expGroup||e);if(!(n.level>this.currentCareerLevel)&&n.level<50){const r=os.skills[e].maxExp(n.level);n.exp+=vu.updateRate*t,n.exp>=r&&(n.exp-=r,n.level+=1)}}equip(e){const{goodData:t}=e;t&&"equip"===t.type&&this.equipments[t.position].swap(e)}unequip(e){const t=this.emptySlot(this.inventory);t>=0&&this.inventory[t].swap(e)}sortInventory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.inventory;const t=e.filter((e=>e.key)).map((e=>new Zc("inventory").fromJS(e)));function n(e,t,n){return n[e]-n[t]}t.sort(((e,t)=>{const r=e.goodData?e.goodData.type:e.key,i=t.goodData?t.goodData.type:t.key;if(r!==i)return n(r,i,{junk:0,package:1,material:2,ticket:3,equip:4});if("ticket"===r&&e.dungeonKey!==t.dungeonKey){const n=os.maps[e.dungeonKey],r=os.maps[t.dungeonKey],i=Jc(e.dungeonKey)||n&&n.level||0,a=Jc(t.dungeonKey)||n&&r.level||0;return i!==a?i-a:e.dungeonKey<t.dungeonKey?-1:1}if(e.displayQuality!==t.displayQuality)return e.displayQuality-t.displayQuality;if("equip"===r){if(e.equipPositionOrder!==t.equipPositionOrder)return e.equipPositionOrder-t.equipPositionOrder;if(e.level!==t.level)return e.level-t.level}return n(e.key,t.key,cc)})),e.forEach((e=>e.clear()));for(const n of t)this.loot(n,e)}getCareerLevel(e){const t=this.careers.get(e);return t?t.level:0}dispose(){this.disposeAutoSave&&(this.disposeAutoSave(),this.disposeAutoSave=null)}},uc(Wu,"load",[Ft],Object.getOwnPropertyDescriptor(Wu,"load"),Wu),Gu=uc(Wu.prototype,"timestamp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ju=uc(Wu.prototype,"careers",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),Xu=uc(Wu.prototype,"gold",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qu=uc(Wu.prototype,"inventory",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zu=uc(Wu.prototype,"inventoryDiamondLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ec=uc(Wu.prototype,"skillExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),tc=uc(Wu.prototype,"buildInventory",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nc=uc(Wu.prototype,"awardInventory",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rc=uc(Wu.prototype,"migrateMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),ic=uc(Wu.prototype,"lootRule",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),ac=uc(Wu.prototype,"minLootLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oc=uc(Wu.prototype,"dungeonTickets",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),uc(Wu.prototype,"careerInfo",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"careerInfo"),Wu.prototype),uc(Wu.prototype,"level",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"level"),Wu.prototype),uc(Wu.prototype,"maxLevel",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"maxLevel"),Wu.prototype),uc(Wu.prototype,"peakLevel",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"peakLevel"),Wu.prototype),uc(Wu.prototype,"exp",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"exp"),Wu.prototype),uc(Wu.prototype,"peakExp",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"peakExp"),Wu.prototype),uc(Wu.prototype,"equipments",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"equipments"),Wu.prototype),uc(Wu.prototype,"maxExp",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"maxExp"),Wu.prototype),uc(Wu.prototype,"maxPeakExp",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"maxPeakExp"),Wu.prototype),uc(Wu.prototype,"maxSkillCount",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"maxSkillCount"),Wu.prototype),uc(Wu.prototype,"nextSkillUnlockLevel",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"nextSkillUnlockLevel"),Wu.prototype),uc(Wu.prototype,"maxEnhanceCount",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"maxEnhanceCount"),Wu.prototype),uc(Wu.prototype,"nextEnhanceUnlockLevel",[Be],Object.getOwnPropertyDescriptor(Wu.prototype,"nextEnhanceUnlockLevel"),Wu.prototype),uc(Wu.prototype,"fromJS",[Q],Object.getOwnPropertyDescriptor(Wu.prototype,"fromJS"),Wu.prototype),uc(Wu.prototype,"postCreate",[Ft],Object.getOwnPropertyDescriptor(Wu.prototype,"postCreate"),Wu.prototype),uc(Wu.prototype,"postLoad",[Ft],Object.getOwnPropertyDescriptor(Wu.prototype,"postLoad"),Wu.prototype),uc(Wu.prototype,"selectCareer",[Ft],Object.getOwnPropertyDescriptor(Wu.prototype,"selectCareer"),Wu.prototype),uc(Wu.prototype,"loot",[Ft],Object.getOwnPropertyDescriptor(Wu.prototype,"loot"),Wu.prototype),uc(Wu.prototype,"sellItem",[Ft],Object.getOwnPropertyDescriptor(Wu.prototype,"sellItem"),Wu.prototype),uc(Wu.prototype,"getInventory",[Ft],Object.getOwnPropertyDescriptor(Wu.prototype,"getInventory"),Wu.prototype),uc(Wu.prototype,"addSkillExp",[Ft],Object.getOwnPropertyDescriptor(Wu.prototype,"addSkillExp"),Wu.prototype),Wu);class nh extends Error{constructor(e,t){super(e),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"code",500),this.code=t}static forbidden(){throw new nh("Forbidden",403)}}var rh="delete",ih=5,ah=1<<ih,oh=ah-1,sh={};function lh(e){e&&(e.value=!0)}function uh(){}function ch(e){return void 0===e.size&&(e.size=e.__iterate(ph)),e.size}function hh(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?ch(e)+t:t}function ph(){return!0}function dh(e,t,n){return(0===e&&!yh(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function fh(e,t){return gh(e,t,0)}function mh(e,t){return gh(e,t,t)}function gh(e,t,n){return void 0===e?n:yh(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function yh(e){return e<0||0===e&&1/e==-1/0}var vh="@@__IMMUTABLE_ITERABLE__@@";function bh(e){return Boolean(e&&e[vh])}var kh="@@__IMMUTABLE_KEYED__@@";function wh(e){return Boolean(e&&e[kh])}var xh="@@__IMMUTABLE_INDEXED__@@";function Sh(e){return Boolean(e&&e[xh])}function Eh(e){return wh(e)||Sh(e)}var Ah=function(e){return bh(e)?e:Xh(e)},_h=function(e){function t(e){return wh(e)?e:Qh(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ah),Dh=function(e){function t(e){return Sh(e)?e:Zh(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ah),Ph=function(e){function t(e){return bh(e)&&!Eh(e)?e:ep(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ah);Ah.Keyed=_h,Ah.Indexed=Dh,Ah.Set=Ph;var Ch="@@__IMMUTABLE_SEQ__@@";function Rh(e){return Boolean(e&&e[Ch])}var Oh="@@__IMMUTABLE_RECORD__@@";function Th(e){return Boolean(e&&e[Oh])}function Fh(e){return bh(e)||Th(e)}var Bh="@@__IMMUTABLE_ORDERED__@@";function Nh(e){return Boolean(e&&e[Bh])}var Ih=0,Mh=1,jh=2,Hh="function"==typeof Symbol&&Symbol.iterator,Lh="@@iterator",qh=Hh||Lh,zh=function(e){this.next=e};function Uh(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function Vh(){return{value:void 0,done:!0}}function Kh(e){return!!Array.isArray(e)||!!Wh(e)}function Yh(e){return e&&"function"==typeof e.next}function $h(e){var t=Wh(e);return t&&t.call(e)}function Wh(e){var t=e&&(Hh&&e[Hh]||e[Lh]);if("function"==typeof t)return t}zh.prototype.toString=function(){return"[Iterator]"},zh.KEYS=Ih,zh.VALUES=Mh,zh.ENTRIES=jh,zh.prototype.inspect=zh.prototype.toSource=function(){return this.toString()},zh.prototype[qh]=function(){return this};var Gh=Object.prototype.hasOwnProperty;function Jh(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var Xh=function(e){function t(e){return null==e?ap():Fh(e)?e.toSeq():function(e){var t,n,r=lp(e);if(r)return(n=Wh(t=e))&&n===t.entries?r.fromEntrySeq():function(e){var t=Wh(e);return t&&t===e.keys}(e)?r.toSetSeq():r;if("object"==typeof e)return new np(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var a=n[t?r-++i:i++];if(!1===e(a[1],a[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,i=0;return new zh((function(){if(i===r)return{value:void 0,done:!0};var a=n[t?r-++i:i++];return Uh(e,a[0],a[1])}))}return this.__iteratorUncached(e,t)},t}(Ah),Qh=function(e){function t(e){return null==e?ap().toKeyedSeq():bh(e)?wh(e)?e.toSeq():e.fromEntrySeq():Th(e)?e.toSeq():op(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Xh),Zh=function(e){function t(e){return null==e?ap():bh(e)?wh(e)?e.entrySeq():e.toIndexedSeq():Th(e)?e.toSeq().entrySeq():sp(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Xh),ep=function(e){function t(e){return(bh(e)&&!Eh(e)?e:Zh(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Xh);Xh.isSeq=Rh,Xh.Keyed=Qh,Xh.Set=ep,Xh.Indexed=Zh,Xh.prototype[Ch]=!0;var tp=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[hh(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,i=0;i!==r;){var a=t?r-++i:i++;if(!1===e(n[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,i=0;return new zh((function(){if(i===r)return{value:void 0,done:!0};var a=t?r-++i:i++;return Uh(e,a,n[a])}))},t}(Zh),np=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return Gh.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length,a=0;a!==i;){var o=r[t?i-++a:a++];if(!1===e(n[o],o,this))break}return a},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length,a=0;return new zh((function(){if(a===i)return{value:void 0,done:!0};var o=r[t?i-++a:a++];return Uh(e,o,n[o])}))},t}(Qh);np.prototype[Bh]=!0;var rp,ip=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=$h(this._collection),r=0;if(Yh(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=$h(this._collection);if(!Yh(n))return new zh(Vh);var r=0;return new zh((function(){var t=n.next();return t.done?t:Uh(e,r++,t.value)}))},t}(Zh);function ap(){return rp||(rp=new tp([]))}function op(e){var t=lp(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new np(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function sp(e){var t=lp(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function lp(e){return Jh(e)?new tp(e):Kh(e)?new ip(e):void 0}var up="@@__IMMUTABLE_MAP__@@";function cp(e){return Boolean(e&&e[up])}function hp(e){return cp(e)&&Nh(e)}function pp(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function dp(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(pp(e)&&pp(t)&&e.equals(t))}var fp="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function mp(e){return e>>>1&1073741824|3221225471&e}var gp=Object.prototype.valueOf;function yp(e){if(null==e)return vp(e);if("function"==typeof e.hashCode)return mp(e.hashCode(e));var t,n,r,i=(t=e).valueOf!==gp&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==i)return vp(i);switch(typeof i){case"boolean":return i?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return mp(t)}(i);case"string":return i.length>Pp?(void 0===(r=Op[n=i])&&(r=bp(n),Rp===Cp&&(Rp=0,Op={}),Rp++,Op[n]=r),r):bp(i);case"object":case"function":return function(e){var t;if(Ep&&void 0!==(t=Sp.get(e)))return t;if(void 0!==(t=e[Dp]))return t;if(!wp){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Dp]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=xp(),Ep)Sp.set(e,t);else{if(void 0!==kp&&!1===kp(e))throw new Error("Non-extensible objects are not allowed as keys.");if(wp)Object.defineProperty(e,Dp,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Dp]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Dp]=t}}return t}(i);case"symbol":return function(e){var t=Ap[e];return void 0!==t||(t=xp(),Ap[e]=t),t}(i);default:if("function"==typeof i.toString)return bp(i.toString());throw new Error("Value type "+typeof i+" cannot be hashed.")}}function vp(e){return null===e?1108378658:1108378659}function bp(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return mp(t)}var kp=Object.isExtensible,wp=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function xp(){var e=++_p;return 1073741824&_p&&(_p=0),e}var Sp,Ep="function"==typeof WeakMap;Ep&&(Sp=new WeakMap);var Ap=Object.create(null),_p=0,Dp="__immutablehash__";"function"==typeof Symbol&&(Dp=Symbol(Dp));var Pp=16,Cp=255,Rp=0,Op={},Tp=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=jp(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Mp(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t,r){return e(t,r,n)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Qh);Tp.prototype[Bh]=!0;var Fp=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&ch(this),this._iter.__iterate((function(i){return e(i,t?n.size-++r:r++,n)}),t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(Mh,t),i=0;return t&&ch(this),new zh((function(){var a=r.next();return a.done?a:Uh(e,t?n.size-++i:i++,a.value,a)}))},t}(Zh),Bp=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Mh,t);return new zh((function(){var t=n.next();return t.done?t:Uh(e,t.value,t.value,t)}))},t}(ep),Np=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Wp(t);var r=bh(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Mh,t);return new zh((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Wp(r);var i=bh(r);return Uh(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},t}(Qh);function Ip(e){var t=Jp(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Xp,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===jh){var r=e.__iterator(t,n);return new zh((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===Mh?Ih:Mh,n)},t}function Mp(e,t,n){var r=Jp(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var a=e.get(r,sh);return a===sh?i:t.call(n,a,r,e)},r.__iterateUncached=function(r,i){var a=this;return e.__iterate((function(e,i,o){return!1!==r(t.call(n,e,i,o),i,a)}),i)},r.__iteratorUncached=function(r,i){var a=e.__iterator(jh,i);return new zh((function(){var i=a.next();if(i.done)return i;var o=i.value,s=o[0];return Uh(r,s,t.call(n,o[1],s,e),i)}))},r}function jp(e,t){var n=this,r=Jp(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Ip(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=Xp,r.__iterate=function(n,r){var i=this,a=0;return r&&ch(e),e.__iterate((function(e,o){return n(e,t?o:r?i.size-++a:a++,i)}),!r)},r.__iterator=function(r,i){var a=0;i&&ch(e);var o=e.__iterator(jh,!i);return new zh((function(){var e=o.next();if(e.done)return e;var s=e.value;return Uh(r,t?s[0]:i?n.size-++a:a++,s[1],e)}))},r}function Hp(e,t,n,r){var i=Jp(e);return r&&(i.has=function(r){var i=e.get(r,sh);return i!==sh&&!!t.call(n,i,r,e)},i.get=function(r,i){var a=e.get(r,sh);return a!==sh&&t.call(n,a,r,e)?a:i}),i.__iterateUncached=function(i,a){var o=this,s=0;return e.__iterate((function(e,a,l){if(t.call(n,e,a,l))return s++,i(e,r?a:s-1,o)}),a),s},i.__iteratorUncached=function(i,a){var o=e.__iterator(jh,a),s=0;return new zh((function(){for(;;){var a=o.next();if(a.done)return a;var l=a.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return Uh(i,r?u:s++,c,a)}}))},i}function Lp(e,t,n,r){var i=e.size;if(dh(t,n,i))return e;var a=fh(t,i),o=mh(n,i);if(a!=a||o!=o)return Lp(e.toSeq().cacheResult(),t,n,r);var s,l=o-a;l==l&&(s=l<0?0:l);var u=Jp(e);return u.size=0===s?s:e.size&&s||void 0,!r&&Rh(e)&&s>=0&&(u.get=function(t,n){return(t=hh(this,t))>=0&&t<s?e.get(t+a,n):n}),u.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var o=0,l=!0,u=0;return e.__iterate((function(e,n){if(!l||!(l=o++<a))return u++,!1!==t(e,r?n:u-1,i)&&u!==s})),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);if(0===s)return new zh(Vh);var i=e.__iterator(t,n),o=0,l=0;return new zh((function(){for(;o++<a;)i.next();if(++l>s)return{value:void 0,done:!0};var e=i.next();return r||t===Mh||e.done?e:Uh(t,l-1,t===Ih?void 0:e.value[1],e)}))},u}function qp(e,t,n,r){var i=Jp(e);return i.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=!0,l=0;return e.__iterate((function(e,a,u){if(!s||!(s=t.call(n,e,a,u)))return l++,i(e,r?a:l-1,o)})),l},i.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(jh,a),l=!0,u=0;return new zh((function(){var e,a,c;do{if((e=s.next()).done)return r||i===Mh?e:Uh(i,u++,i===Ih?void 0:e.value[1],e);var h=e.value;a=h[0],c=h[1],l&&(l=t.call(n,c,a,o))}while(l);return i===jh?e:Uh(i,a,c,e)}))},i}function zp(e,t,n){var r=Jp(e);return r.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;return function e(l,u){l.__iterate((function(a,l){return(!t||u<t)&&bh(a)?e(a,u+1):(o++,!1===i(a,n?l:o-1,r)&&(s=!0)),!s}),a)}(e,0),o},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(r,i),o=[],s=0;return new zh((function(){for(;a;){var e=a.next();if(!1===e.done){var l=e.value;if(r===jh&&(l=l[1]),t&&!(o.length<t)||!bh(l))return n?e:Uh(r,s++,l,e);o.push(a),a=l.__iterator(r,i)}else a=o.pop()}return{value:void 0,done:!0}}))},r}function Up(e,t,n){t||(t=Qp);var r=wh(e),i=0,a=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).valueSeq().toArray();return a.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?Qh(a):Sh(e)?Zh(a):ep(a)}function Vp(e,t,n){if(t||(t=Qp),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return Kp(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return Kp(t,e,n)?n:e}))}function Kp(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Yp(e,t,n,r){var i=Jp(e),a=new tp(n).map((function(e){return e.size}));return i.size=r?a.max():a.min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(Mh,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var a=n.map((function(e){return e=Ah(e),$h(i?e.reverse():e)})),o=0,s=!1;return new zh((function(){var n;return s||(n=a.map((function(e){return e.next()})),s=r?n.every((function(e){return e.done})):n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:Uh(e,o++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function $p(e,t){return e===t?e:Rh(e)?t:e.constructor(t)}function Wp(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Gp(e){return wh(e)?_h:Sh(e)?Dh:Ph}function Jp(e){return Object.create((wh(e)?Qh:Sh(e)?Zh:ep).prototype)}function Xp(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Xh.prototype.cacheResult.call(this)}function Qp(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Zp(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function ed(e,t){if(!e)throw new Error(t)}function td(e){ed(e!==1/0,"Cannot perform this action with an infinite size.")}function nd(e){if(Jh(e)&&"string"!=typeof e)return e;if(Nh(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}Fp.prototype.cacheResult=Tp.prototype.cacheResult=Bp.prototype.cacheResult=Np.prototype.cacheResult=Xp;var rd=Object.prototype.toString;function id(e){return"object"==typeof e&&(Fh(e)||Array.isArray(e)||function(e){if(!e||"object"!=typeof e||"[object Object]"!==rd.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t,r=Object.getPrototypeOf(t);null!==r;)n=r,r=Object.getPrototypeOf(n);return n===t}(e))}function ad(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function od(e,t,n){return Fh(e)?e.get(t,n):function(e,t){return Fh(e)?e.has(t):id(e)&&Gh.call(e,t)}(e,t)?"function"==typeof e.get?e.get(t):e[t]:n}function sd(e){if(Array.isArray(e))return Zp(e);var t={};for(var n in e)Gh.call(e,n)&&(t[n]=e[n]);return t}function ld(e,t,n,r){r||(r=n,n=void 0);var i=ud(Fh(e),e,nd(t),0,n,r);return i===sh?n:i}function ud(e,t,n,r,i,a){var o=t===sh;if(r===n.length){var s=o?i:t,l=a(s);return l===s?t:l}if(!o&&!id(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(ad)+"]: "+t);var u=n[r],c=o?sh:od(t,u,sh),h=ud(c===sh?e:Fh(c),c,n,r+1,i,a);return h===c?t:h===sh?function(e,t){if(!id(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Fh(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Gh.call(e,t))return e;var n=sd(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}(t,u):function(e,t,n){if(!id(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Fh(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Gh.call(e,t)&&n===e[t])return e;var r=sd(e);return r[t]=n,r}(o?e?Ld():{}:t,u,h)}function cd(e,t){return function(e,t,n){return ld(e,t,sh,(function(){return n}))}(this,e,t)}function hd(e){return function(e,t){return ld(e,t,(function(){return sh}))}(this,e)}function pd(e,t,n,r){return ld(e,[t],n,r)}function dd(e,t,n){return 1===arguments.length?e(this):pd(this,e,t,n)}function fd(e,t,n){return ld(this,e,t,n)}function md(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return yd(this,e)}function gd(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return yd(this,t,e)}function yd(e,t,n){for(var r=[],i=0;i<t.length;i++){var a=_h(t[i]);0!==a.size&&r.push(a)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var t=n?function(t,r){pd(e,r,sh,(function(e){return e===sh?t:n(e,t,r)}))}:function(t,n){e.set(n,t)},i=0;i<r.length;i++)r[i].forEach(t)})):e.constructor(r[0])}function vd(e,t,n){return bd(e,t,function(e){return function t(n,r,i){return id(n)&&id(r)&&(a=r,o=Xh(n),s=Xh(a),Sh(o)===Sh(s)&&wh(o)===wh(s))?bd(n,[r],t):e?e(n,r,i):r;var a,o,s}}(n))}function bd(e,t,n){if(!id(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Fh(e))return"function"==typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),i=e,a=r?Dh:_h,o=r?function(t){i===e&&(i=sd(i)),i.push(t)}:function(t,r){var a=Gh.call(i,r),o=a&&n?n(i[r],t,r):t;a&&o===i[r]||(i===e&&(i=sd(i)),i[r]=o)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function kd(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return vd(this,e)}function wd(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return vd(this,t,e)}function xd(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ld(this,e,Ld(),(function(e){return bd(e,t)}))}function Sd(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ld(this,e,Ld(),(function(e){return vd(e,t)}))}function Ed(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Ad(){return this.__ownerID?this:this.__ensureOwner(new uh)}function _d(){return this.__ensureOwner()}function Dd(){return this.__altered}var Pd=function(e){function t(t){return null==t?Ld():cp(t)&&!Nh(t)?t:Ld().withMutations((function(n){var r=e(t);td(r.size),r.forEach((function(e,t){return n.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ld().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return qd(this,e,t)},t.prototype.remove=function(e){return qd(this,e,sh)},t.prototype.deleteAll=function(e){var t=Ah(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ld()},t.prototype.sort=function(e){return df(Up(this,e))},t.prototype.sortBy=function(e,t){return df(Up(this,t,e))},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){r.forEach((function(i,a){r.set(a,e.call(t,i,a,n))}))}))},t.prototype.__iterator=function(e,t){return new Id(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Hd(this.size,this._root,e,this.__hash):0===this.size?Ld():(this.__ownerID=e,this.__altered=!1,this)},t}(_h);Pd.isMap=cp;var Cd=Pd.prototype;Cd[up]=!0,Cd[rh]=Cd.remove,Cd.removeAll=Cd.deleteAll,Cd.setIn=cd,Cd.removeIn=Cd.deleteIn=hd,Cd.update=dd,Cd.updateIn=fd,Cd.merge=Cd.concat=md,Cd.mergeWith=gd,Cd.mergeDeep=kd,Cd.mergeDeepWith=wd,Cd.mergeIn=xd,Cd.mergeDeepIn=Sd,Cd.withMutations=Ed,Cd.wasAltered=Dd,Cd.asImmutable=_d,Cd["@@transducer/init"]=Cd.asMutable=Ad,Cd["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Cd["@@transducer/result"]=function(e){return e.asImmutable()};var Rd=function(e,t){this.ownerID=e,this.entries=t};Rd.prototype.get=function(e,t,n,r){for(var i=this.entries,a=0,o=i.length;a<o;a++)if(dp(n,i[a][0]))return i[a][1];return r},Rd.prototype.update=function(e,t,n,r,i,a,o){for(var s=i===sh,l=this.entries,u=0,c=l.length;u<c&&!dp(r,l[u][0]);u++);var h=u<c;if(h?l[u][1]===i:s)return this;if(lh(o),(s||!h)&&lh(a),!s||1!==l.length){if(!h&&!s&&l.length>=$d)return function(e,t,n,r){e||(e=new uh);for(var i=new Bd(e,yp(n),[n,r]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}(e,l,r,i);var p=e&&e===this.ownerID,d=p?l:Zp(l);return h?s?u===c-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),p?(this.entries=d,this):new Rd(e,d)}};var Od=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};Od.prototype.get=function(e,t,n,r){void 0===t&&(t=yp(n));var i=1<<((0===e?t:t>>>e)&oh),a=this.bitmap;return a&i?this.nodes[Kd(a&i-1)].get(e+ih,t,n,r):r},Od.prototype.update=function(e,t,n,r,i,a,o){void 0===n&&(n=yp(r));var s=(0===t?n:n>>>t)&oh,l=1<<s,u=this.bitmap,c=!!(u&l);if(!c&&i===sh)return this;var h=Kd(u&l-1),p=this.nodes,d=c?p[h]:void 0,f=zd(d,e,t+ih,n,r,i,a,o);if(f===d)return this;if(!c&&f&&p.length>=Wd)return function(e,t,n,r,i){for(var a=0,o=new Array(ah),s=0;0!==n;s++,n>>>=1)o[s]=1&n?t[a++]:void 0;return o[r]=i,new Td(e,a+1,o)}(e,p,u,s,f);if(c&&!f&&2===p.length&&Ud(p[1^h]))return p[1^h];if(c&&f&&1===p.length&&Ud(f))return f;var m=e&&e===this.ownerID,g=c?f?u:u^l:u|l,y=c?f?Yd(p,h,f,m):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),a=0,o=0;o<r;o++)o===t&&(a=1),i[o]=e[o+a];return i}(p,h,m):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=n,o=-1):a[s]=e[s+o];return a}(p,h,f,m);return m?(this.bitmap=g,this.nodes=y,this):new Od(e,g,y)};var Td=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Td.prototype.get=function(e,t,n,r){void 0===t&&(t=yp(n));var i=(0===e?t:t>>>e)&oh,a=this.nodes[i];return a?a.get(e+ih,t,n,r):r},Td.prototype.update=function(e,t,n,r,i,a,o){void 0===n&&(n=yp(r));var s=(0===t?n:n>>>t)&oh,l=i===sh,u=this.nodes,c=u[s];if(l&&!c)return this;var h=zd(c,e,t+ih,n,r,i,a,o);if(h===c)return this;var p=this.count;if(c){if(!h&&--p<Gd)return function(e,t,n,r){for(var i=0,a=0,o=new Array(n),s=0,l=1,u=t.length;s<u;s++,l<<=1){var c=t[s];void 0!==c&&s!==r&&(i|=l,o[a++]=c)}return new Od(e,i,o)}(e,u,p,s)}else p++;var d=e&&e===this.ownerID,f=Yd(u,s,h,d);return d?(this.count=p,this.nodes=f,this):new Td(e,p,f)};var Fd=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Fd.prototype.get=function(e,t,n,r){for(var i=this.entries,a=0,o=i.length;a<o;a++)if(dp(n,i[a][0]))return i[a][1];return r},Fd.prototype.update=function(e,t,n,r,i,a,o){void 0===n&&(n=yp(r));var s=i===sh;if(n!==this.keyHash)return s?this:(lh(o),lh(a),Vd(this,e,t,n,[r,i]));for(var l=this.entries,u=0,c=l.length;u<c&&!dp(r,l[u][0]);u++);var h=u<c;if(h?l[u][1]===i:s)return this;if(lh(o),(s||!h)&&lh(a),s&&2===c)return new Bd(e,this.keyHash,l[1^u]);var p=e&&e===this.ownerID,d=p?l:Zp(l);return h?s?u===c-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),p?(this.entries=d,this):new Fd(e,this.keyHash,d)};var Bd=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};Bd.prototype.get=function(e,t,n,r){return dp(n,this.entry[0])?this.entry[1]:r},Bd.prototype.update=function(e,t,n,r,i,a,o){var s=i===sh,l=dp(r,this.entry[0]);return(l?i===this.entry[1]:s)?this:(lh(o),s?void lh(a):l?e&&e===this.ownerID?(this.entry[1]=i,this):new Bd(e,this.keyHash,[r,i]):(lh(a),Vd(this,e,t,yp(r),[r,i])))},Rd.prototype.iterate=Fd.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Od.prototype.iterate=Td.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var a=n[t?i-r:r];if(a&&!1===a.iterate(e,t))return!1}},Bd.prototype.iterate=function(e,t){return e(this.entry)};var Nd,Id=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&jd(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,i=void 0;if(n.entry){if(0===r)return Md(e,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return Md(e,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var a=n.nodes[this._reverse?i-r:r];if(a){if(a.entry)return Md(e,a.entry);t=this._stack=jd(a,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(zh);function Md(e,t){return Uh(e,t[0],t[1])}function jd(e,t){return{node:e,index:0,__prev:t}}function Hd(e,t,n,r){var i=Object.create(Cd);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ld(){return Nd||(Nd=Hd(0))}function qd(e,t,n){var r,i;if(e._root){var a={value:!1},o={value:!1};if(r=zd(e._root,e.__ownerID,0,void 0,t,n,a,o),!o.value)return e;i=e.size+(a.value?n===sh?-1:1:0)}else{if(n===sh)return e;i=1,r=new Rd(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Hd(i,r):Ld()}function zd(e,t,n,r,i,a,o,s){return e?e.update(t,n,r,i,a,o,s):a===sh?e:(lh(s),lh(o),new Bd(t,r,[i,a]))}function Ud(e){return e.constructor===Bd||e.constructor===Fd}function Vd(e,t,n,r,i){if(e.keyHash===r)return new Fd(t,r,[e.entry,i]);var a,o=(0===n?e.keyHash:e.keyHash>>>n)&oh,s=(0===n?r:r>>>n)&oh,l=o===s?[Vd(e,t,n+ih,r,i)]:(a=new Bd(t,r,i),o<s?[e,a]:[a,e]);return new Od(t,1<<o|1<<s,l)}function Kd(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function Yd(e,t,n,r){var i=r?e:Zp(e);return i[t]=n,i}var $d=ah/4,Wd=ah/2,Gd=ah/4,Jd="@@__IMMUTABLE_LIST__@@";function Xd(e){return Boolean(e&&e[Jd])}var Qd=function(e){function t(t){var n=of();if(null==t)return n;if(Xd(t))return t;var r=e(t),i=r.size;return 0===i?n:(td(i),i>0&&i<ah?af(0,i,ih,null,new ef(r.toArray())):n.withMutations((function(e){e.setSize(i),r.forEach((function(t,n){return e.set(n,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=hh(this,e))>=0&&e<this.size){var n=uf(this,e+=this._origin);return n&&n.array[e&oh]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=hh(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?cf(e,t).set(0,n):cf(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,a={value:!1};return t>=hf(e._capacity)?r=sf(r,e.__ownerID,0,t,n,a):i=sf(i,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):af(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ih,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):of()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){cf(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},t.prototype.pop=function(){return cf(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){cf(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},t.prototype.shift=function(){return cf(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var i=t[r],a=e("string"!=typeof i&&Kh(i)?i:[i]);0!==a.size&&n.push(a)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(e){n.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(n[0])},t.prototype.setSize=function(e){return cf(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,e.call(t,r.get(i),i,n))}))},t.prototype.slice=function(e,t){var n=this.size;return dh(e,t,n)?this:cf(this,fh(e,n),mh(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=rf(this,t);return new zh((function(){var i=r();return i===nf?{value:void 0,done:!0}:Uh(e,t?--n:n++,i)}))},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,i=rf(this,t);(n=i())!==nf&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?af(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?of():(this.__ownerID=e,this.__altered=!1,this)},t}(Dh);Qd.isList=Xd;var Zd=Qd.prototype;Zd[Jd]=!0,Zd[rh]=Zd.remove,Zd.merge=Zd.concat,Zd.setIn=cd,Zd.deleteIn=Zd.removeIn=hd,Zd.update=dd,Zd.updateIn=fd,Zd.mergeIn=xd,Zd.mergeDeepIn=Sd,Zd.withMutations=Ed,Zd.wasAltered=Dd,Zd.asImmutable=_d,Zd["@@transducer/init"]=Zd.asMutable=Ad,Zd["@@transducer/step"]=function(e,t){return e.push(t)},Zd["@@transducer/result"]=function(e){return e.asImmutable()};var ef=function(e,t){this.array=e,this.ownerID=t};ef.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&oh;if(r>=this.array.length)return new ef([],e);var i,a=0===r;if(t>0){var o=this.array[r];if((i=o&&o.removeBefore(e,t-ih,n))===o&&a)return this}if(a&&!i)return this;var s=lf(this,e);if(!a)for(var l=0;l<r;l++)s.array[l]=void 0;return i&&(s.array[r]=i),s},ef.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&oh;if(i>=this.array.length)return this;if(t>0){var a=this.array[i];if((r=a&&a.removeAfter(e,t-ih,n))===a&&i===this.array.length-1)return this}var o=lf(this,e);return o.array.splice(i+1),r&&(o.array[i]=r),o};var tf,nf={};function rf(e,t){var n=e._origin,r=e._capacity,i=hf(r),a=e._tail;return function e(o,s,l){return 0===s?function(e,o){var s=o===i?a&&a.array:e&&e.array,l=o>n?0:n-o,u=r-o;return u>ah&&(u=ah),function(){if(l===u)return nf;var e=t?--u:l++;return s&&s[e]}}(o,l):function(i,a,o){var s,l=i&&i.array,u=o>n?0:n-o>>a,c=1+(r-o>>a);return c>ah&&(c=ah),function(){for(;;){if(s){var n=s();if(n!==nf)return n;s=null}if(u===c)return nf;var r=t?--c:u++;s=e(l&&l[r],a-ih,o+(r<<a))}}}(o,s,l)}(e._root,e._level,0)}function af(e,t,n,r,i,a,o){var s=Object.create(Zd);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}function of(){return tf||(tf=af(0,0,ih))}function sf(e,t,n,r,i,a){var o,s=r>>>n&oh,l=e&&s<e.array.length;if(!l&&void 0===i)return e;if(n>0){var u=e&&e.array[s],c=sf(u,t,n-ih,r,i,a);return c===u?e:((o=lf(e,t)).array[s]=c,o)}return l&&e.array[s]===i?e:(a&&lh(a),o=lf(e,t),void 0===i&&s===o.array.length-1?o.array.pop():o.array[s]=i,o)}function lf(e,t){return t&&e&&t===e.ownerID?e:new ef(e?e.array.slice():[],t)}function uf(e,t){if(t>=hf(e._capacity))return e._tail;if(t<1<<e._level+ih){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&oh],r-=ih;return n}}function cf(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new uh,i=e._origin,a=e._capacity,o=i+t,s=void 0===n?a:n<0?a+n:i+n;if(o===i&&s===a)return e;if(o>=s)return e.clear();for(var l=e._level,u=e._root,c=0;o+c<0;)u=new ef(u&&u.array.length?[void 0,u]:[],r),c+=1<<(l+=ih);c&&(o+=c,i+=c,s+=c,a+=c);for(var h=hf(a),p=hf(s);p>=1<<l+ih;)u=new ef(u&&u.array.length?[u]:[],r),l+=ih;var d=e._tail,f=p<h?uf(e,s-1):p>h?new ef([],r):d;if(d&&p>h&&o<a&&d.array.length){for(var m=u=lf(u,r),g=l;g>ih;g-=ih){var y=h>>>g&oh;m=m.array[y]=lf(m.array[y],r)}m.array[h>>>ih&oh]=d}if(s<a&&(f=f&&f.removeAfter(r,0,s)),o>=p)o-=p,s-=p,l=ih,u=null,f=f&&f.removeBefore(r,0,o);else if(o>i||p<h){for(c=0;u;){var v=o>>>l&oh;if(v!==p>>>l&oh)break;v&&(c+=(1<<l)*v),l-=ih,u=u.array[v]}u&&o>i&&(u=u.removeBefore(r,l,o-c)),u&&p<h&&(u=u.removeAfter(r,l,p-c)),c&&(o-=c,s-=c)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=l,e._root=u,e._tail=f,e.__hash=void 0,e.__altered=!0,e):af(o,s,l,u,f)}function hf(e){return e<ah?0:e-1>>>ih<<ih}var pf,df=function(e){function t(e){return null==e?mf():hp(e)?e:mf().withMutations((function(t){var n=_h(e);td(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):mf()},t.prototype.set=function(e,t){return gf(this,e,t)},t.prototype.remove=function(e){return gf(this,e,sh)},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?ff(t,n,e,this.__hash):0===this.size?mf():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=n,this)},t}(Pd);function ff(e,t,n,r){var i=Object.create(df.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function mf(){return pf||(pf=ff(Ld(),of()))}function gf(e,t,n){var r,i,a=e._map,o=e._list,s=a.get(t),l=void 0!==s;if(n===sh){if(!l)return e;o.size>=ah&&o.size>=2*a.size?(r=(i=o.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=a.remove(t),i=s===o.size-1?o.pop():o.set(s,void 0))}else if(l){if(n===o.get(s)[1])return e;r=a,i=o.set(s,[t,n])}else r=a.set(t,o.size),i=o.set(o.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e.__altered=!0,e):ff(r,i)}df.isOrderedMap=hp,df.prototype[Bh]=!0,df.prototype[rh]=df.prototype.remove;var yf="@@__IMMUTABLE_STACK__@@";function vf(e){return Boolean(e&&e[yf])}var bf=function(e){function t(e){return null==e?Sf():vf(e)?e:Sf().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=hh(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):xf(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&vf(t))return t;td(t.size);var n=this.size,r=this._head;return t.__iterate((function(e){n++,r={value:e,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):xf(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Sf()},t.prototype.slice=function(t,n){if(dh(t,n,this.size))return this;var r=fh(t,this.size);if(mh(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var i=this.size-r,a=this._head;r--;)a=a.next;return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):xf(i,a)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xf(this.size,this._head,e,this.__hash):0===this.size?Sf():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new tp(this.toArray()).__iterate((function(t,r){return e(t,r,n)}),t);for(var r=0,i=this._head;i&&!1!==e(i.value,r++,this);)i=i.next;return r},t.prototype.__iterator=function(e,t){if(t)return new tp(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new zh((function(){if(r){var t=r.value;return r=r.next,Uh(e,n++,t)}return{value:void 0,done:!0}}))},t}(Dh);bf.isStack=vf;var kf,wf=bf.prototype;function xf(e,t,n,r){var i=Object.create(wf);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Sf(){return kf||(kf=xf(0))}wf[yf]=!0,wf.shift=wf.pop,wf.unshift=wf.push,wf.unshiftAll=wf.pushAll,wf.withMutations=Ed,wf.wasAltered=Dd,wf.asImmutable=_d,wf["@@transducer/init"]=wf.asMutable=Ad,wf["@@transducer/step"]=function(e,t){return e.unshift(t)},wf["@@transducer/result"]=function(e){return e.asImmutable()};var Ef="@@__IMMUTABLE_SET__@@";function Af(e){return Boolean(e&&e[Ef])}function _f(e){return Af(e)&&Nh(e)}function Df(e,t){if(e===t)return!0;if(!bh(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||wh(e)!==wh(t)||Sh(e)!==Sh(t)||Nh(e)!==Nh(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!Eh(e);if(Nh(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&dp(i[1],e)&&(n||dp(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate((function(t,r){if(n?!e.has(t):i?!dp(t,e.get(r,sh)):!dp(e.get(r,sh),t))return o=!1,!1}));return o&&e.size===s}function Pf(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Cf(e){if(!e||"object"!=typeof e)return e;if(!bh(e)){if(!id(e))return e;e=Xh(e)}if(wh(e)){var t={};return e.__iterate((function(e,n){t[n]=Cf(e)})),t}var n=[];return e.__iterate((function(e){n.push(Cf(e))})),n}var Rf=function(e){function t(t){return null==t?Nf():Af(t)&&!Nh(t)?t:Nf().withMutations((function(n){var r=e(t);td(r.size),r.forEach((function(e){return n.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(_h(e).keySeq())},t.intersect=function(e){return(e=Ah(e).toArray()).length?Tf.intersect.apply(t(e.pop()),e):Nf()},t.union=function(e){return(e=Ah(e).toArray()).length?Tf.union.apply(t(e.pop()),e):Nf()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Ff(this,this._map.set(e,e))},t.prototype.remove=function(e){return Ff(this,this._map.remove(e))},t.prototype.clear=function(){return Ff(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=!1,i=Ff(this,this._map.mapEntries((function(i){var a=i[1],o=e.call(t,a,a,n);return o!==a&&(r=!0),[o,o]}),t));return r?i:this},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(n){for(var r=0;r<t.length;r++)"string"==typeof t[r]?n.add(t[r]):e(t[r]).forEach((function(e){return n.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return Zf(Up(this,e))},t.prototype.sortBy=function(e,t){return Zf(Up(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(Ph);Rf.isSet=Af;var Of,Tf=Rf.prototype;function Ff(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Bf(e,t){var n=Object.create(Tf);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Nf(){return Of||(Of=Bf(Ld()))}Tf[Ef]=!0,Tf[rh]=Tf.remove,Tf.merge=Tf.concat=Tf.union,Tf.withMutations=Ed,Tf.asImmutable=_d,Tf["@@transducer/init"]=Tf.asMutable=Ad,Tf["@@transducer/step"]=function(e,t){return e.add(t)},Tf["@@transducer/result"]=function(e){return e.asImmutable()},Tf.__empty=Nf,Tf.__make=Bf;var If,Mf=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(ed(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(If)return If;If=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+hh(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return dh(e,n,this.size)?this:(e=fh(e,this.size),(n=mh(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,a=0;a!==n&&!1!==e(i,t?n-++a:a++,this);)i+=t?-r:r;return a},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,a=0;return new zh((function(){if(a===n)return{value:void 0,done:!0};var o=i;return i+=t?-r:r,Uh(e,t?n-++a:a++,o)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Df(this,e)},t}(Zh);function jf(e,t,n){for(var r=nd(t),i=0;i!==r.length;)if((e=od(e,r[i++],sh))===sh)return n;return e}function Hf(e,t){return jf(this,e,t)}function Lf(){td(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e}Ah.isIterable=bh,Ah.isKeyed=wh,Ah.isIndexed=Sh,Ah.isAssociative=Eh,Ah.isOrdered=Nh,Ah.Iterator=zh,Pf(Ah,{toArray:function(){td(this.size);var e=new Array(this.size||0),t=wh(this),n=0;return this.__iterate((function(r,i){e[n++]=t?[i,r]:r})),e},toIndexedSeq:function(){return new Fp(this)},toJS:function(){return Cf(this)},toKeyedSeq:function(){return new Tp(this,!0)},toMap:function(){return Pd(this.toKeyedSeq())},toObject:Lf,toOrderedMap:function(){return df(this.toKeyedSeq())},toOrderedSet:function(){return Zf(wh(this)?this.valueSeq():this)},toSet:function(){return Rf(wh(this)?this.valueSeq():this)},toSetSeq:function(){return new Bp(this)},toSeq:function(){return Sh(this)?this.toIndexedSeq():wh(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return bf(wh(this)?this.valueSeq():this)},toList:function(){return Qd(wh(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return $p(this,function(e,t){var n=wh(e),r=[e].concat(t).map((function(e){return bh(e)?n&&(e=_h(e)):e=n?op(e):sp(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&wh(i)||Sh(e)&&Sh(i))return i}var a=new tp(r);return n?a=a.toKeyedSeq():Sh(e)||(a=a.toSetSeq()),(a=a.flatten(!0)).size=r.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),a}(this,e))},includes:function(e){return this.some((function(t){return dp(t,e)}))},entries:function(){return this.__iterator(jh)},every:function(e,t){td(this.size);var n=!0;return this.__iterate((function(r,i,a){if(!e.call(t,r,i,a))return n=!1,!1})),n},filter:function(e,t){return $p(this,Hp(this,e,t,!0))},partition:function(e,t){return function(e,t,n){var r=wh(e),i=[[],[]];e.__iterate((function(a,o){i[t.call(n,a,o,e)?1:0].push(r?[o,a]:a)}));var a=Gp(e);return i.map((function(t){return $p(e,a(t))}))}(this,e,t)},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return td(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){td(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(Ih)},map:function(e,t){return $p(this,Mp(this,e,t))},reduce:function(e,t,n){return Kf(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Kf(this,e,t,n,arguments.length<2,!0)},reverse:function(){return $p(this,jp(this,!0))},slice:function(e,t){return $p(this,Lp(this,e,t,!0))},some:function(e,t){return!this.every(Wf(e),t)},sort:function(e){return $p(this,Up(this,e))},values:function(){return this.__iterator(Mh)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return ch(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Pd().asMutable();return e.__iterate((function(i,a){r.update(t.call(n,i,a,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return Df(this,e)},entrySeq:function(){var e=this;if(e._cache)return new tp(e._cache);var t=e.toSeq().map($f).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Wf(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,a){if(e.call(t,n,i,a))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(ph,null,e)},flatMap:function(e,t){return $p(this,function(e,t,n){var r=Gp(e);return e.toSeq().map((function(i,a){return r(t.call(n,i,a,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return $p(this,zp(this,e,!0))},fromEntrySeq:function(){return new Np(this)},get:function(e,t){return this.find((function(t,n){return dp(n,e)}),void 0,t)},getIn:Hf,groupBy:function(e,t){return function(e,t,n){var r=wh(e),i=(Nh(e)?df():Pd()).asMutable();e.__iterate((function(a,o){i.update(t.call(n,a,o,e),(function(e){return(e=e||[]).push(r?[o,a]:a),e}))}));var a=Gp(e);return i.map((function(t){return $p(e,a(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,sh)!==sh},hasIn:function(e){return jf(this,e,sh)!==sh},isSubset:function(e){return e="function"==typeof e.includes?e:Ah(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:Ah(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return dp(t,e)}))},keySeq:function(){return this.toSeq().map(Yf).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Vp(this,e)},maxBy:function(e,t){return Vp(this,t,e)},min:function(e){return Vp(this,e?Gf(e):Xf)},minBy:function(e,t){return Vp(this,t?Gf(t):Xf,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return $p(this,qp(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Wf(e),t)},sortBy:function(e,t){return $p(this,Up(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return $p(this,function(e,t,n){var r=Jp(e);return r.__iterateUncached=function(r,i){var a=this;if(i)return this.cacheResult().__iterate(r,i);var o=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++o&&r(e,i,a)})),o},r.__iteratorUncached=function(r,i){var a=this;if(i)return this.cacheResult().__iterator(r,i);var o=e.__iterator(jh,i),s=!0;return new zh((function(){if(!s)return{value:void 0,done:!0};var e=o.next();if(e.done)return e;var i=e.value,l=i[0],u=i[1];return t.call(n,u,l,a)?r===jh?e:Uh(r,l,u,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Wf(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=Nh(e),n=wh(e),r=t?1:0;return function(e,t){return t=fp(t,3432918353),t=fp(t<<15|t>>>-15,461845907),t=fp(t<<13|t>>>-13,5),t=fp((t=t+3864292196^e)^t>>>16,2246822507),t=mp((t=fp(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Qf(yp(e),yp(t))|0}:function(e,t){r=r+Qf(yp(e),yp(t))|0}:t?function(e){r=31*r+yp(e)|0}:function(e){r=r+yp(e)|0}),r)}(this))}});var qf=Ah.prototype;qf[vh]=!0,qf[qh]=qf.values,qf.toJSON=qf.toArray,qf.__toStringMapper=ad,qf.inspect=qf.toSource=function(){return this.toString()},qf.chain=qf.flatMap,qf.contains=qf.includes,Pf(_h,{flip:function(){return $p(this,Ip(this))},mapEntries:function(e,t){var n=this,r=0;return $p(this,this.toSeq().map((function(i,a){return e.call(t,[a,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return $p(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var zf=_h.prototype;zf[kh]=!0,zf[qh]=qf.entries,zf.toJSON=Lf,zf.__toStringMapper=function(e,t){return ad(t)+": "+ad(e)},Pf(Dh,{toKeyedSeq:function(){return new Tp(this,!1)},filter:function(e,t){return $p(this,Hp(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return $p(this,jp(this,!1))},slice:function(e,t){return $p(this,Lp(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=fh(e,e<0?this.count():this.size);var r=this.slice(0,e);return $p(this,1===n?r:r.concat(Zp(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return $p(this,zp(this,e,!1))},get:function(e,t){return(e=hh(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=hh(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return $p(this,function(e,t){var n=Jp(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,a=0;return e.__iterate((function(e){return(!a||!1!==n(t,a++,i))&&!1!==n(e,a++,i)}),r),a},n.__iteratorUncached=function(n,r){var i,a=e.__iterator(Mh,r),o=0;return new zh((function(){return(!i||o%2)&&(i=a.next()).done?i:o%2?Uh(n,o++,t):Uh(n,o++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(Zp(arguments)),t=Yp(this.toSeq(),Zh.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),$p(this,n)},keySeq:function(){return Mf(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return $p(this,qp(this,e,t,!1))},zip:function(){return $p(this,Yp(this,Jf,[this].concat(Zp(arguments))))},zipAll:function(){return $p(this,Yp(this,Jf,[this].concat(Zp(arguments)),!0))},zipWith:function(e){var t=Zp(arguments);return t[0]=this,$p(this,Yp(this,e,t))}});var Uf=Dh.prototype;Uf[xh]=!0,Uf[Bh]=!0,Pf(Ph,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Vf=Ph.prototype;function Kf(e,t,n,r,i,a){return td(e.size),e.__iterate((function(e,a,o){i?(i=!1,n=e):n=t.call(r,n,e,a,o)}),a),n}function Yf(e,t){return t}function $f(e,t){return[t,e]}function Wf(e){return function(){return!e.apply(this,arguments)}}function Gf(e){return function(){return-e.apply(this,arguments)}}function Jf(){return Zp(arguments)}function Xf(e,t){return e<t?1:e>t?-1:0}function Qf(e,t){return e^t+2654435769+(e<<6)+(e>>2)}Vf.has=qf.includes,Vf.contains=Vf.includes,Vf.keys=Vf.values,Pf(Qh,zf),Pf(Zh,Uf),Pf(ep,Vf);var Zf=function(e){function t(e){return null==e?rm():_f(e)?e:rm().withMutations((function(t){var n=Ph(e);td(n.size),n.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(_h(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Rf);Zf.isOrderedSet=_f;var em,tm=Zf.prototype;function nm(e,t){var n=Object.create(tm);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function rm(){return em||(em=nm(mf()))}tm[Bh]=!0,tm.zip=Uf.zip,tm.zipWith=Uf.zipWith,tm.zipAll=Uf.zipAll,tm.__empty=rm,tm.__make=nm;var im=function(e,t){var n;!function(e){if(Th(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Fh(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var r=function(a){var o=this;if(a instanceof r)return a;if(!(this instanceof r))return new r(a);if(!n){n=!0;var s=Object.keys(e),l=i._indices={};i._name=t,i._keys=s,i._defaultValues=e;for(var u=0;u<s.length;u++){var c=s[u];l[c]=u,i[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+sm(this)+' with property "'+c+'" since that property name is part of the Record API.'):um(i,c)}}return this.__ownerID=void 0,this._values=Qd().withMutations((function(e){e.setSize(o._keys.length),_h(a).forEach((function(t,n){e.set(o._indices[n],t===o._defaultValues[n]?void 0:t)}))})),this},i=r.prototype=Object.create(am);return i.constructor=r,t&&(r.displayName=t),r};im.prototype.toString=function(){for(var e,t=sm(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)t+=(r?", ":"")+(e=n[r])+": "+ad(this.get(e));return t+" }"},im.prototype.equals=function(e){return this===e||Th(e)&&lm(this).equals(lm(e))},im.prototype.hashCode=function(){return lm(this).hashCode()},im.prototype.has=function(e){return this._indices.hasOwnProperty(e)},im.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},im.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return om(this,n)}return this},im.prototype.remove=function(e){return this.set(e)},im.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:om(this,e)},im.prototype.wasAltered=function(){return this._values.wasAltered()},im.prototype.toSeq=function(){return lm(this)},im.prototype.toJS=function(){return Cf(this)},im.prototype.entries=function(){return this.__iterator(jh)},im.prototype.__iterator=function(e,t){return lm(this).__iterator(e,t)},im.prototype.__iterate=function(e,t){return lm(this).__iterate(e,t)},im.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?om(this,t,e):(this.__ownerID=e,this._values=t,this)},im.isRecord=Th,im.getDescriptiveName=sm;var am=im.prototype;function om(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function sm(e){return e.constructor.displayName||e.constructor.name||"Record"}function lm(e){return op(e._keys.map((function(t){return[t,e.get(t)]})))}function um(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ed(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}am[Oh]=!0,am[rh]=am.remove,am.deleteIn=am.removeIn=hd,am.getIn=Hf,am.hasIn=qf.hasIn,am.merge=md,am.mergeWith=gd,am.mergeIn=xd,am.mergeDeep=kd,am.mergeDeepWith=wd,am.mergeDeepIn=Sd,am.setIn=cd,am.update=dd,am.updateIn=fd,am.withMutations=Ed,am.asMutable=Ad,am.asImmutable=_d,am[qh]=am.entries,am.toJSON=am.toObject=qf.toObject,am.inspect=am.toSource=function(){return this.toString()};var cm,hm,pm,dm,fm,mm,gm,ym,vm,bm,km,wm,xm,Sm,Em,Am=i(2782);function _m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Dm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pm(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const Cm="chapter5.woodElf",Rm={diamonds(e){this.diamonds+=+e*this.purchaseRate},diamondsConst(e){this.diamonds+=+e},direct(e){vu.player.level=Math.max(vu.player.level,+e)},gold(e){vu.player.gold+=+e},medicine(e){for(;this.totalMedicineLevel<+e;)this.gotMedicineExp(this.maxMedicineExp)},cooking(e){for(;this.totalCookingLevel<+e;)this.gotCookingExp(this.maxCookingExp)},redbag(e){if(vu.player.inventory.filter((e=>e.empty)).length<1)throw new Error("");vu.loots([{key:"year2018.redbag",count:[e,e],rate:1}],300,0,!1)}},Om={diamonds(e){return this.purchaseRate>1?(e*this.purchaseRate|0)+"神力":`${e}神力`},diamondsConst:e=>`${e}神力`,direct:e=>`直升${+e}级`,gold:e=>`${e}金币`,medicine:e=>`药剂直升${+e}级`,redbag:e=>`红包${+e}个`},Tm=im({diamonds:2888,playerSlotCount:1,purchaseRate:1,bowelLevel:0});let Fm=(cm=class{constructor(){Dm(this,"loaded",!1),_m(this,"secretRecord",hm,this),_m(this,"currentPlayer",pm,this),_m(this,"playerMetas",dm,this),_m(this,"storiesMap",fm,this),_m(this,"enemyTaskMap",mm,this),_m(this,"bank",gm,this),_m(this,"iapMap",ym,this),_m(this,"ticketMap",vm,this),_m(this,"medicineLevel",bm,this),_m(this,"cookingLevel",km,this),_m(this,"medicineExp",wm,this),_m(this,"cookingExp",xm,this),_m(this,"lastVersion",Sm,this),_m(this,"highestEndlessLevel",Em,this),Dm(this,"banned",!1),bn(this),Mt((()=>{this.save()}),{delay:1e3})}get diamonds(){return this.secretRecord.diamonds}set diamonds(e){this.secretRecord=this.secretRecord.set("diamonds",e)}get playerSlotCount(){return this.secretRecord.playerSlotCount}set playerSlotCount(e){this.secretRecord=this.secretRecord.set("playerSlotCount",e)}get purchaseRate(){return this.secretRecord.purchaseRate}set purchaseRate(e){this.secretRecord=this.secretRecord.set("purchaseRate",e)}get bowelLevel(){return this.secretRecord.bowelLevel}set bowelLevel(e){this.secretRecord=this.secretRecord.set("bowelLevel",e)}get purchaseSlotPrice(){return 400+500*this.playerSlotCount**2+100*this.playerSlotCount**3}get endlessTicketRate(){const e=this.highestEndlessLevel+1;return Math.pow(.5/e,1/e)}get totalMedicineLevel(){let e=0;for(const t of Object.keys(os.medicines))e+=this.medicineLevel.get(t)||0;return e}get totalCookingLevel(){let e=0;for(const t of Object.keys(os.cookings))e+=this.cookingLevel.get(t)||0;return e}get maxMedicineExp(){const e=this.totalMedicineLevel+1;return e<90?500*e:e>=90?5e4:void 0}get maxCookingExp(){const e=this.totalCookingLevel+1;return e<90?100*e:e>=90?1e4:void 0}get resetMedicineCost(){return this.totalMedicineLevel,1e3}get resetMedicineDiamondsCost(){return this.totalMedicineLevel,20}get resetCookingCost(){return this.totalCookingLevel,1e3}get resetCookingDiamondsCost(){return this.totalCookingLevel,20}get bowelEffect(){return Math.pow(1.5,this.bowelLevel)}get bowelUpgradePrice(){return 1e3*Math.pow(2,this.bowelLevel)}purchaseSlot(){this.diamonds-=this.purchaseSlotPrice,this.playerSlotCount+=1}gotMedicineExp(e){const t=[];for(this.medicineExp+=e;this.medicineExp>=this.maxMedicineExp;){this.medicineExp-=this.maxMedicineExp;let e=Object.keys(os.medicines),n=e[Math.random()*e.length|0]||e[0],r=this.medicineLevel.get(n),i=os.medicines[n],a=i.Max_level||9999;for(;r>=a;)e=e.filter((function(e){return e!==n})),n=e[Math.random()*e.length|0]||e[0],r=this.medicineLevel.get(n),i=os.medicines[n],a=i.Max_level||9999;this.medicineLevel.set(n,(this.medicineLevel.get(n)||0)+1),t.push(n)}return t}gotCookingExp(e){const t=[];for(this.cookingExp+=e;this.cookingExp>=this.maxCookingExp;){this.cookingExp-=this.maxCookingExp;let e=Object.keys(os.cookings),n=e[Math.random()*e.length|0]||e[0],r=this.cookingLevel.get(n),i=os.cookings[n],a=i.Max_level||9999;for(;r>=a;)e=e.filter((function(e){return e!==n})),n=e[Math.random()*e.length|0]||e[0],r=this.cookingLevel.get(n),i=os.cookings[n],a=i.Max_level||9999;this.cookingLevel.set(n,(this.cookingLevel.get(n)||0)+1),t.push(n)}return t}async load(){try{const e=localStorage.getItem("game");e&&("{"===e[0]?this.fromJS(JSON.parse(e)):"e"===e[0]?Am.hT.JWS.verifyJWT(e,Cm,{alg:["HS256"]})&&this.fromJS(Am.hT.JWS.readSafeJSONString((0,Am.kT)(e.split(".")[1]))):"s"===e[0]&&this.fromJS(vu.start(e))),console.log("Game info loaded."),this.loaded=!0}catch(e){}}fromJS(e){e.secretRecord?this.secretRecord=this.secretRecord.merge(e.secretRecord):(this.diamonds=e.diamonds||0,this.playerSlotCount=e.playerSlotCount||1,this.purchaseRate=e.purchaseRate||1),e.bowelLevel&&(this.bowelLevel=e.bowelLevel),e.highestEndlessLevel&&(this.highestEndlessLevel=e.highestEndlessLevel),this.currentPlayer=e.currentPlayer||null,this.playerMetas.clear();for(const t of Object.keys(e.playerMetas||{}))this.playerMetas.set(t,new eh(t).fromJS(e.playerMetas[t]));this.storiesMap.clear();for(const t of Object.keys(e.storiesMap||{}))this.storiesMap.set(t,e.storiesMap[t]);this.enemyTaskMap.clear();for(const t of Object.keys(e.enemyTaskMap||{}))this.enemyTaskMap.set(t,Re.map(e.enemyTaskMap[t]));this.iapMap.clear();for(const t of Object.keys(e.iapMap||{}))this.iapMap.set(t,e.iapMap[t]);this.ticketMap.clear();for(const t of Object.keys(e.ticketMap||{}))this.ticketMap.set(t,e.ticketMap[t]);this.bank.clear();for(let t=0;e.bank&&t<e.bank.length;t++){this.bank.push(new Zc("bank").fromJS(e.bank[t]||{}));const{key:n,dungeonKey:r}=this.bank[t];if("ticket"===n&&r){const e=$c(r);e&&e>this.highestEndlessLevel&&(this.highestEndlessLevel=e)}}this.medicineLevel.clear();for(const t of Object.keys(os.medicines))this.medicineLevel.set(t,e.medicineLevel&&e.medicineLevel[t]||0);this.medicineExp=e.medicineExp||0,this.cookingLevel.clear();for(const t of Object.keys(os.cookings))this.cookingLevel.set(t,e.cookingLevel&&e.cookingLevel[t]||0);return this.cookingExp=e.cookingExp||0,this.lastVersion=e.lastVersion||null,this.banned=e.banned,this.playerSlotCount<Object.keys(e.playerMetas).length&&(this.playerSlotCount=Object.keys(e.playerMetas).length),this}save(){this.loaded&&localStorage.setItem("game",Am.hT.JWS.sign(null,{alg:"HS256",typ:"JWT"},ku(this.toJS()),Cm))}toJS(){const e=un(this);return e.secretRecord=this.secretRecord.toJS(),e}checkCanCreate(){this.playerSlotCount<=this.playerMetas.size&&nh.forbidden()}removePlayer(e){this.playerMetas.delete(e),this.save(),localStorage.removeItem(`player-${e}`)}addKillTask(e,t,n){let r;this.enemyTaskMap.has(t)?r=this.enemyTaskMap.get(t):(r=Re.map(),this.enemyTaskMap.set(t,r)),r.set(e,n)}onEnemyKilled(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.enemyTaskMap.get(e);if(r)for(const e of r.keys()){const i=os.stories[e];if(!i.requirement||!i.requirement.role||i.requirement.role===n){const n=r.get(e);r.set(e,n-t)}}}async refreshIap(){}runProduct(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.split(".");let r=Rm;for(;r&&"object"==typeof r;)r=r[n.shift()];if(n.push(t),"function"==typeof r){try{r.apply(this,n)}catch(e){return console.warn(e.stack),!1}return!0}}getProductName(e){const t=e.split(".");let n=Om;for(;n&&"object"==typeof n;)n=n[t.shift()];return"function"==typeof n?n.apply(this,t):"商品"}},hm=Pm(cm.prototype,"secretRecord",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Tm}}),Pm(cm.prototype,"diamonds",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"diamonds"),cm.prototype),Pm(cm.prototype,"playerSlotCount",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"playerSlotCount"),cm.prototype),Pm(cm.prototype,"purchaseRate",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"purchaseRate"),cm.prototype),Pm(cm.prototype,"bowelLevel",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"bowelLevel"),cm.prototype),pm=Pm(cm.prototype,"currentPlayer",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dm=Pm(cm.prototype,"playerMetas",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),fm=Pm(cm.prototype,"storiesMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),mm=Pm(cm.prototype,"enemyTaskMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),gm=Pm(cm.prototype,"bank",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ym=Pm(cm.prototype,"iapMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),vm=Pm(cm.prototype,"ticketMap",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),bm=Pm(cm.prototype,"medicineLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),km=Pm(cm.prototype,"cookingLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Re.map()}}),wm=Pm(cm.prototype,"medicineExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xm=Pm(cm.prototype,"cookingExp",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sm=Pm(cm.prototype,"lastVersion",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Em=Pm(cm.prototype,"highestEndlessLevel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pm(cm.prototype,"purchaseSlotPrice",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"purchaseSlotPrice"),cm.prototype),Pm(cm.prototype,"endlessTicketRate",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"endlessTicketRate"),cm.prototype),Pm(cm.prototype,"totalMedicineLevel",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"totalMedicineLevel"),cm.prototype),Pm(cm.prototype,"totalCookingLevel",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"totalCookingLevel"),cm.prototype),Pm(cm.prototype,"maxMedicineExp",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"maxMedicineExp"),cm.prototype),Pm(cm.prototype,"maxCookingExp",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"maxCookingExp"),cm.prototype),Pm(cm.prototype,"resetMedicineCost",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"resetMedicineCost"),cm.prototype),Pm(cm.prototype,"resetMedicineDiamondsCost",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"resetMedicineDiamondsCost"),cm.prototype),Pm(cm.prototype,"resetCookingCost",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"resetCookingCost"),cm.prototype),Pm(cm.prototype,"resetCookingDiamondsCost",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"resetCookingDiamondsCost"),cm.prototype),Pm(cm.prototype,"bowelEffect",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"bowelEffect"),cm.prototype),Pm(cm.prototype,"bowelUpgradePrice",[Be],Object.getOwnPropertyDescriptor(cm.prototype,"bowelUpgradePrice"),cm.prototype),Pm(cm.prototype,"purchaseSlot",[Ft],Object.getOwnPropertyDescriptor(cm.prototype,"purchaseSlot"),cm.prototype),Pm(cm.prototype,"gotMedicineExp",[Ft],Object.getOwnPropertyDescriptor(cm.prototype,"gotMedicineExp"),cm.prototype),Pm(cm.prototype,"gotCookingExp",[Ft],Object.getOwnPropertyDescriptor(cm.prototype,"gotCookingExp"),cm.prototype),Pm(cm.prototype,"fromJS",[Ft],Object.getOwnPropertyDescriptor(cm.prototype,"fromJS"),cm.prototype),Pm(cm.prototype,"onEnemyKilled",[Ft],Object.getOwnPropertyDescriptor(cm.prototype,"onEnemyKilled"),cm.prototype),cm);const Bm=new Fm;var Nm=i(9998),Im={};Im.styleTagTransform=oo(),Im.setAttributes=no(),Im.insert=eo().bind(null,"head"),Im.domAPI=Qa(),Im.insertStyleElement=io(),Ja()(Nm.A,Im);const Mm=Nm.A&&Nm.A.locals?Nm.A.locals:void 0;class jm extends t.Component{async componentDidMount(){if(await Bm.load(),Bm.currentPlayer)try{return(await th.load(Bm.currentPlayer)).postLoad(),vu.resumeGame(),void Wk.navigate("/home")}catch(e){vu.dispose(),Bm.currentPlayer=null,tu("错误","加载游戏失败，请耐心等待更新，或者先选择其它角色进入游戏。"+e.message)}Wk.navigate("/player/choose")}render(){return t.createElement(Eo,{className:Mm.container})}}var Hm=i(3107),Lm={};Lm.styleTagTransform=oo(),Lm.setAttributes=no(),Lm.insert=eo().bind(null,"head"),Lm.domAPI=Qa(),Lm.insertStyleElement=io(),Ja()(Hm.A,Lm);const qm=Hm.A&&Hm.A.locals?Hm.A.locals:void 0;function zm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Um extends t.Component{constructor(){super(...arguments),zm(this,"getRef",(e=>{this.childrenRef=e})),zm(this,"onLeftPressed",(()=>{this.props.onLeftPressed?this.props.onLeftPressed():Wk.navigate(-1)})),zm(this,"onRightPressed",(()=>{this.props.onRightPressed&&this.props.onRightPressed()}))}renderBack(){return t.createElement(Ao,{className:qm.left,onPress:this.onLeftPressed},t.createElement(So,{className:qm.button},"返回"))}render(){const{children:e,back:n,leftNavTitle:r,rightNavTitle:i,title:a}=this.props;return t.createElement(Eo,{className:qm.container},t.createElement(Eo,{className:qm.navBar},t.createElement(So,{className:qm.title},a),!!n&&this.renderBack(),!!r&&t.createElement(Ao,{className:qm.left,onPress:this.onLeftPressed},t.createElement(So,{className:qm.button},r)),!!i&&t.createElement(Ao,{className:qm.right,onPress:this.onRightPressed},t.createElement(So,{className:qm.button},i))),e)}}var Vm=i(2598),Km={};Km.styleTagTransform=oo(),Km.setAttributes=no(),Km.insert=eo().bind(null,"head"),Km.domAPI=Qa(),Km.insertStyleElement=io(),Ja()(Vm.A,Km);const Ym=Vm.A&&Vm.A.locals?Vm.A.locals:void 0;var $m;function Wm(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gm=oi((function(e,n){let{meta:r,id:i,editing:a,entering:o}=e;const s=async e=>{if(o.get())return;o.set(!0);const{navigator:t}=n;try{(await th.load(i,e)).postLoad(),vu.resumeGame(),Wk.navigate("/home")}catch(e){vu.dispose(),mgn.debug(e.message),mgn.debug(e.stack),tu("错误","加载游戏失败，请耐心等待更新，或者先选择其它角色进入游戏。"+e.message)}};return a.get()?t.createElement(Eo,{className:Ym.row},t.createElement(Eo,{className:[Ym.item,Ym.flex]},t.createElement(So,null,r.roleData.name," ",r.currentCareerLevel,"级",r.careerName)),t.createElement(Ao,{className:Ym.button,onPress:function(){tu("提示","如果您无法正常进入游戏，可以尝试从错误中恢复，但您可能会失去相应的离线收益，是否继续？",[{text:"确认",onPress:()=>s(!0)},{text:"取消"}])}},t.createElement(So,{className:Ym.buttonLabel},"修复异常")),t.createElement(Ao,{className:Ym.button,onPress:function(){tu("提示","您确定要删除该角色吗？",[{text:"确认",onPress:()=>Bm.removePlayer(r.key)},{text:"取消"}])}},t.createElement(So,{className:Ym.buttonLabel},"删除"))):t.createElement(Ao,{className:Ym.item,onPress:()=>s(!1)},t.createElement(So,null,r.roleData.name," ",r.currentCareerLevel,"级",r.careerName))}));function Jm(e){let{children:n,onPress:r}=e;return t.createElement(Ao,{className:Ym.footer,onPress:r},t.createElement(So,{className:Ym.footerLabel},n))}let Xm=oi($m=class extends t.Component{constructor(){super(...arguments),Wm(this,"refNavBar",(0,t.createRef)()),Wm(this,"editing",Re.box(!1)),Wm(this,"entering",Re.box(!1)),Wm(this,"onRightPressed",Ft((()=>{this.editing.get()?this.editing.set(!1):this.editing.set(!0)}))),Wm(this,"ds",new Po.DataSource({rowHasChanged:(e,t)=>e[0]!==t[0]})),Wm(this,"goCreate",(()=>{Wk.navigate("/player/create")})),Wm(this,"purchaseSlot",(()=>{Bm.diamonds>=Bm.purchaseSlotPrice?tu("提示",`您是否确认消耗${Bm.purchaseSlotPrice}神力点数，开启一个新的角色栏位？`,[{text:"确认",onPress:()=>Bm.purchaseSlot()},{text:"取消"}]):tu("提示",`您需要消耗${Bm.purchaseSlotPrice}神力点数才能开启一个新的角色栏位，现有${Bm.diamonds}神力，是否召唤创世神的幻影，获得大量神力？`,[{text:"确认",onPress:()=>{Wk.navigate("/purchase")}},{text:"取消"}])})),Wm(this,"renderRow",((e,n,r)=>{let[i,a]=e;return t.createElement(Gm,{entering:this.entering,key:i,id:i,meta:a,editing:this.editing,rowId:r})})),Wm(this,"renderFooter",(()=>t.createElement(Jm,{onPress:this.goCreate},"新游戏"))),Wm(this,"renderPurchase",(()=>t.createElement(Jm,{onPress:this.purchaseSlot},"购买新的角色栏位(消耗",Bm.purchaseSlotPrice,"神力，现有",Bm.diamonds,"神力)")))}render(){return t.createElement(Um,{title:"选择存档",rightNavTitle:this.editing.get()?"完成":"编辑",ref:this.refNavBar,onRightPressed:this.onRightPressed},t.createElement(Po,{enableEmptySections:!0,className:Ym.container,dataSource:this.ds.cloneWithRows(Bm.playerMetas.entries()),renderRow:this.renderRow,renderFooter:Bm.playerMetas.size<Bm.playerSlotCount?this.renderFooter:this.renderPurchase}))}})||$m;var Qm=i(6155),Zm={};Zm.styleTagTransform=oo(),Zm.setAttributes=no(),Zm.insert=eo().bind(null,"head"),Zm.domAPI=Qa(),Zm.insertStyleElement=io(),Ja()(Qm.A,Zm);const eg=Qm.A&&Qm.A.locals?Qm.A.locals:void 0;function tg(){let{debug:e,map:t,role:n,career:r,level:i,atMostMaxLevel:a,atLeastMaxLevel:o,stories:s,beforeStories:l,$or:u,$and:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{player:h}=vu,{storiesMap:p}=Bm;if(n&&(!h||h.role!==n))return!1;if(r&&(!h||h.currentCareer!==r))return!1;if(i&&(!h||h.level<i))return!1;if(a&&(!h||h.maxLevel>a))return!1;if(o&&(!h||h.maxLevel<o))return!1;if(t&&vu.map!==t)return!1;if(s)for(const e of s)if("done"!==p.get(e))return!1;if(l)for(const e of l)if("done"===p.get(e))return!1;return!(u&&!u.some(tg)||c&&!c.every(tg))}var ng,rg=i(1484),ig=i.n(rg);function ag(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function og(e){let{title:n,children:r}=e;return t.createElement(Eo,{className:eg.group},t.createElement(So,{className:eg.title},n),r)}function sg(e){let{title:n,children:r,target:i}=e;return t.createElement(og,{title:n},t.createElement(Eo,{className:eg.options},t.Children.map(r,(e=>t.cloneElement(e,{target:i})))))}const lg=oi((function(e){let{children:n,value:r,target:i}=e;const a=$o((()=>i&&i.get()===r));return t.createElement(Ao,{activeOpacity:.8,className:[eg.option,a&&eg.optionActive],onPress:()=>i.set(r)},t.createElement(So,{className:[eg.label,a&&eg.labelActive]},n))}));let ug=oi(ng=class extends t.PureComponent{constructor(){var e,t;super(...arguments),ag(this,"form",new eh),ag(this,"roleField",(e=this.form,t="role",Be((()=>e[t]),{set(n){e[t]=n}}))),ag(this,"onRightPressed",(async()=>{try{Nt((()=>{const e=th.create(this.form);vu.resetTimeline(),vu.addPlayer(e),vu.map="home",vu.resumeGame()})),Wk.navigate("/home")}catch(e){403===e.code?tu("提示","您已无法创建更多角色，请回到首页查看"):tu("错误","创建失败")}}))}render(){return t.createElement(Um,{key:"/player/create",title:"新游戏",onRightPressed:this.onRightPressed,rightNavTitle:"开始游戏",back:"/player/choose"},t.createElement(Eo,{className:eg.container},t.createElement(sg,{title:"角色",target:this.roleField,field:"role"},Object.keys(os.roles).filter((e=>!os.roles[e].requirement||tg(os.roles[e].requirement))).map((e=>t.createElement(lg,{key:e,value:e},os.roles[e].name)))),t.createElement(og,{title:"角色介绍"},t.createElement(_o,{className:eg.container2},t.createElement(So,{className:eg.body},this.form.roleData.description)))))}})||ng;var cg=i(6181),hg={};hg.styleTagTransform=oo(),hg.setAttributes=no(),hg.insert=eo().bind(null,"head"),hg.domAPI=Qa(),hg.insertStyleElement=io(),Ja()(cg.A,hg);const pg=cg.A&&cg.A.locals?cg.A.locals:void 0;class dg extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"getRef",(e=>{this.childrenRef=e}))}goto(e){const{onChange:t}=this.props;t(e)}renderItem(e,n){const{active:r}=this.props,i=r==e;return t.createElement(Ao,{className:pg.button,onPress:()=>this.goto(e)},t.createElement(So,{className:i&&pg.active},n))}onAppStateChange(e){}render(){const{children:e}=this.props;return t.createElement(Eo,{className:pg.container},t.createElement(Eo,{className:pg.content},e),t.createElement(Eo,{className:pg.tabBar},this.renderItem("battle","战斗"),this.renderItem("inventory","背包"),this.renderItem("skills","技能"),this.renderItem("produce","生产"),this.renderItem("stories","故事")))}}function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fg.apply(this,arguments)}const mg=oi((function(e){let{className:n,unit:r,field:i,...a}=e;return t.createElement(So,fg({className:n},a),r[i])})),gg=oi((function(e){let{className:n,unit:r,field:i,...a}=e;const o=$o((()=>{const e=r[i];return e>=1e11?(e/1e9|0)+"B":e>=1e8?(e/1e6|0)+"M":e>=1e5?(e/1e3|0)+"K":0|e}));return t.createElement(So,fg({className:n},a),o)})),yg=oi((function(e){let{className:n,unit:r,field:i,digits:a=1,mul:o=1,inc:s=0,...l}=e;return t.createElement(So,fg({className:n},l),((r[i]+s)*o).toFixed(a))}));var vg=i(8297),bg={};bg.styleTagTransform=oo(),bg.setAttributes=no(),bg.insert=eo().bind(null,"head"),bg.domAPI=Qa(),bg.insertStyleElement=io(),Ja()(vg.A,bg);const kg=vg.A&&vg.A.locals?vg.A.locals:void 0;function wg(e){let{className:n,children:r}=e;const[i,a]=t.useState(0),o=t.Children.toArray(r);return t.createElement("div",{className:$a(n,kg.root)},t.createElement("div",{className:kg.tabs},o.map((e=>e.props.tabLabel)).map(((e,n)=>t.createElement("div",{key:n,className:$a(kg.tab,i==n&&kg.active),onClick:()=>a(n)},e)))),t.createElement("div",{className:kg.container,style:{transform:`translateX(${-100*i}vw)`}},o.map(((e,n)=>t.createElement("div",{className:kg.content,key:n},e)))))}var xg=i(391),Sg={};Sg.styleTagTransform=oo(),Sg.setAttributes=no(),Sg.insert=eo().bind(null,"head"),Sg.domAPI=Qa(),Sg.insertStyleElement=io(),Ja()(xg.A,Sg);const Eg=xg.A&&xg.A.locals?xg.A.locals:void 0,Ag=Re(!0),_g=Ft((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{player:r}=vu;if(!t&&e.quality>=3&&!Ag.get())return void tu("提示",`该商品为${Ay[e.quality]}物品，是否确定拆解？`,[{text:"确认",onPress:()=>_g(e,!0,n)},{text:"取消"}]);const i=Ul(e);if(i){for(const e of Object.keys(i)){const t=r.buildInventory.find((t=>t.key===e));t?t.count+=i[e]:r.buildInventory.push(new Zc("build").fromJS({key:e,count:i[e]}))}e.clear(),n&&n()}else n()})),Dg=oi((function(){const{player:e}=vu;return t.createElement(Eo,{className:Eg.container},t.createElement(Eo,{className:Eg.row},t.createElement(So,{className:Eg.container},"不提示拆解高品质物品"),t.createElement(Co,{onValueChange:Ft((e=>Ag.set(e))),value:Ag.get()})),t.createElement(_o,{className:Eg.container,contentContainerClassName:Eg.content},e.inventory.filter((e=>e.isEquip&&e.quality>1&&!e.locked)).map(((e,n)=>t.createElement(_y,{onPress:()=>_g(e),key:n,slot:e})))))})),Pg=Dg;var Cg=i(6246),Rg={};Rg.styleTagTransform=oo(),Rg.setAttributes=no(),Rg.insert=eo().bind(null,"head"),Rg.domAPI=Qa(),Rg.insertStyleElement=io(),Ja()(Cg.A,Rg);const Og=Cg.A&&Cg.A.locals?Cg.A.locals:void 0;var Tg,Fg,Bg,Ng;function Ig(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Mg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jg(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let Hg=oi((Fg=class extends t.Component{constructor(){super(),Mg(this,"selectedItem",Re(null)),Ig(this,"locks",Bg,this),Ig(this,"newAffixes",Ng,this),Mg(this,"renderRow",((e,n)=>t.createElement(_y,{onPress:()=>this.selectItem(e),key:n,slot:e,selectedItem:this.selectedItem}))),Mg(this,"doEnchants",(()=>{const e=this.selectedItem.get(),{key:t,level:n}=e;my(this.getCosts());const r={};e.enchantTimes++,e.affixes.forEach((e=>r[e.key]=!0)),this.newAffixes.replace(e.affixes.map(((e,t)=>this.locks[t]?e:function(e,t){let n=Math.max(e.affixData.generate(t),e.value);return(new Qc).fromJS({key:e.key,value:n,rebuilded:e.rebuilded})}(e,n))))})),Mg(this,"saveEnchants",(()=>{this.newAffixes.length&&(this.selectedItem.get().affixes.replace(this.newAffixes),this.newAffixes.splice(0))})),Mg(this,"discardEnchants",(()=>{this.newAffixes.splice(0)})),bn(this)}renderEquip(e){return this.renderRow(vu.player.equipments[e],e)}selectItem(e){this.selectedItem.set(e),e?this.locks.splice(0,this.locks.length,...e.affixes.map((e=>!1))):this.locks.splice(0),this.newAffixes.splice(0)}getCosts(){const e=this.selectedItem.get(),{level:t,quality:n,enchantTimes:r}=e,i={};return this.locks.reduce(((e,t)=>t?e+1:e),0),i.gold=Math.ceil((.05*t*t+2*t)*2**n*(1+.2*r+r*r*.01)),t>=5&&(i[zl[2][ql(t)]]=1),i}renderCost(){const e=this.selectedItem.get();if(!e||0===e.quality)return null;const n=this.getCosts(),r=fy(n);return this.newAffixes.length?t.createElement(Eo,null,t.createElement(So,null,"点击并保存附魔结果")):t.createElement(Eo,{className:Og.row},t.createElement(_o,{className:Og.container,horizontal:!0},Object.keys(n).map(((e,r)=>t.createElement(So,{className:Og.costItem,key:r},t.createElement(So,{className:Og.materialName,numberOfLines:1},gy[e]||os.goods[e].name),t.createElement(So,{className:Og.materialAmount,numberOfLines:1},"x",n[e]))))),t.createElement(Dy,{onPress:this.doEnchants,disabled:!r},e.count>1&&"全部","附魔"),t.createElement(Eo,{className:{width:5}}))}renderDetail(){const e=this.selectedItem.get();return e&&0!==e.quality?t.createElement(Eo,{className:Og.detailContainer},t.createElement(Ao,{className:[Og.detail,Og.detail2],onPress:()=>{}},e.affixes.map(((n,r)=>t.createElement(So,{className:[Og.affix,n.isLegend&&Og.legend],key:r,numberOfLines:1},n.display,"(",n.rangeDisplay(e.level),")")))),t.createElement(Eo,{className:Og.locks},this.locks.map(((e,n)=>t.createElement(So,{className:Og.lock,key:n,onPress:()=>{}},e?"×":"=>")))),t.createElement(Ao,{className:Og.detail,onPress:this.saveEnchants},this.newAffixes.map(((e,n)=>t.createElement(So,{className:[Og.affix,e.isLegend&&Og.legend],key:n,numberOfLines:1},e.display))))):t.createElement(Eo,{className:Og.detailContainer})}render(){const{player:e}=vu;return t.createElement(Eo,{className:Og.container},t.createElement(Eo,{className:Og.row},t.createElement(So,null,e.name,"的装备"),t.createElement(_o,{contentContainerClassName:Og.rowCenter,horizontal:!0},this.renderEquip("weapon"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(_o,{className:Og.container,contentContainerClassName:Og.content},e.inventory.filter((e=>e.isEquip&&e.quality>0)).map(this.renderRow)),this.renderCost(),this.renderDetail())}},Bg=jg(Fg.prototype,"locks",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ng=jg(Fg.prototype,"newAffixes",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jg(Fg.prototype,"selectItem",[Ft],Object.getOwnPropertyDescriptor(Fg.prototype,"selectItem"),Fg.prototype),Tg=Fg))||Tg;var Lg=i(8865),qg={};qg.styleTagTransform=oo(),qg.setAttributes=no(),qg.insert=eo().bind(null,"head"),qg.domAPI=Qa(),qg.insertStyleElement=io(),Ja()(Lg.A,qg);const zg=Lg.A&&Lg.A.locals?Lg.A.locals:void 0;var Ug,Vg;function Kg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yg(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let $g=oi((Vg=class extends t.Component{constructor(){super(...arguments),Kg(this,"selectedItem",Re(null)),Kg(this,"lastUsedAt",0),Kg(this,"renderRow",((e,n)=>t.createElement(_y,{onPress:()=>this.selectItem(e),key:n,slot:e,selectedItem:this.selectedItem})))}renderEquip(e){return this.renderRow(vu.player.equipments[e],e)}selectItem(e){this.selectedItem.set(e)}getCosts(){const e=this.selectedItem.get();if(!e)return{};const{level:t,quality:n}=e,r={};return r.diamonds=1+Math.ceil(t/25*(1<<n)/2),r}renderCost(){const e=this.selectedItem.get();if(!e||0===e.quality)return null;const n=this.getCosts();return t.createElement(Eo,null,t.createElement(Eo,{className:zg.row},Object.keys(n).map(((e,r)=>t.createElement(So,{className:zg.costItem,key:r},t.createElement(So,{className:zg.materialName,numberOfLines:1},"消耗",gy[e]||os.goods[e].name),t.createElement(So,{className:zg.materialAmount,numberOfLines:1},n[e],"/",Bm.diamonds)))),t.createElement(Eo,{className:zg.container}),t.createElement(So,null,"点击属性重铸")))}rebuild(e){const t=Date.now();if(t-this.lastUsedAt<1e3)return;this.lastUsedAt=t;const n=this.selectedItem.get(),{key:r,level:i}=n;my(this.getCosts());const a={},o=Object.keys(os.affixes).filter((e=>(os.affixes[e].minLevel||0)<=i)).filter((e=>Il(r,e,i)));n.affixes.forEach((e=>a[e.key]=!0)),n.affixes[e]=Nl(o,i,a),n.affixes[e].rebuilded=!0}renderAffix(e,n,r){if(!e)return t.createElement(Eo,{className:[zg.detailAffix,zg.detailAffixEmpty]});const i=r&&!e.rebuilded||e.isLegend;return t.createElement(Ao,{className:[zg.detailAffix,i&&zg.detailAffixDisabled],onPress:()=>this.rebuild(n),disabled:i||!fy(this.getCosts())},t.createElement(So,{className:[zg.affix,e.isLegend&&zg.legendAffix],key:n,numberOfLines:1},e.display," ",e.rebuilded?"[重铸]":""))}renderDetail(){const e=this.selectedItem.get();if(!e||0===e.quality)return t.createElement(Eo,{className:zg.detailContainer});const n=e.affixes.some((e=>e.rebuilded));return t.createElement(Eo,{className:zg.detailContainer},t.createElement(Eo,{className:[zg.detail,Ey[e.quality]]},t.createElement(Eo,{className:zg.detailRow},this.renderAffix(e.affixes.length>0&&e.affixes[0],0,n),this.renderAffix(e.affixes.length>1&&e.affixes[1],1,n)),t.createElement(Eo,{className:zg.detailRow},this.renderAffix(e.affixes.length>2&&e.affixes[2],2,n),this.renderAffix(e.affixes.length>3&&e.affixes[3],3,n))))}render(){const{player:e}=vu;return t.createElement(Eo,{className:zg.container},t.createElement(Eo,{className:zg.row},t.createElement(So,null,e.name,"的装备"),t.createElement(_o,{contentContainerClassName:zg.rowCenter,horizontal:!0},this.renderEquip("weapon"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(_o,{className:zg.container,contentContainerClassName:zg.content},e.inventory.filter((e=>e.isEquip&&e.quality>0)).map(this.renderRow)),this.renderCost(),this.renderDetail())}},Yg(Vg.prototype,"selectItem",[Ft],Object.getOwnPropertyDescriptor(Vg.prototype,"selectItem"),Vg.prototype),Yg(Vg.prototype,"rebuild",[Ft],Object.getOwnPropertyDescriptor(Vg.prototype,"rebuild"),Vg.prototype),Ug=Vg))||Ug;var Wg=i(684),Gg={};Gg.styleTagTransform=oo(),Gg.setAttributes=no(),Gg.insert=eo().bind(null,"head"),Gg.domAPI=Qa(),Gg.insertStyleElement=io(),Ja()(Wg.A,Gg);const Jg=Wg.A&&Wg.A.locals?Wg.A.locals:void 0;var Xg,Qg;function Zg(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ey(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let ty=oi((Qg=class extends t.Component{constructor(){super(...arguments),Zg(this,"renderMedicine",(e=>{const n=os.medicines[e],r=Bm.medicineLevel.get(e)||0,i=Bm.totalMedicineLevel-r,a=n.Max_level||9999;return t.createElement(Eo,{className:Jg.medicine,key:e},t.createElement(Eo,{className:Jg.flex},t.createElement(Eo,{className:Jg.medicineMain},t.createElement(So,{className:Jg.medicineName},n.name),t.createElement(So,{className:Jg.textMargin},"等级：",r)),t.createElement(So,null,n.description(r)),t.createElement(So,null,"下一级：",n.description(r+1))),t.createElement(Dy,{onPress:()=>this.upgradeMedicine(e),disabled:i<=0||r>=a},"升级"),t.createElement(Dy,{onPress:()=>this.downgradeMedicine(e),disabled:r<=0},"降级"))})),Zg(this,"doUpgradeBowel",(()=>{const e=Bm.bowelUpgradePrice;Bm.diamonds<e?tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}]):(Bm.diamonds-=e,Bm.bowelLevel++)})),Zg(this,"upgradeBowel",(()=>{tu("提示",`使用${Bm.bowelUpgradePrice}神力锻炼熔炉，永久提升${(50*Bm.bowelEffect).toFixed()}%效果，是否继续？`,[{text:"确认",onPress:()=>this.doUpgradeBowel()},{text:"取消"}])}))}doUpgradeMedicine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Bm.resetMedicineCost,r=Bm.resetMedicineDiamondsCost,{player:i}=vu;if(t){if(Bm.diamonds<r)return void tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void tu("提示","您的金币不足");const a=Object.keys(os.medicines).filter((t=>t!==e&&Bm.medicineLevel.get(t)>0)),o=a[Math.random()*a.length|0]||a[0];o?(t?Bm.diamonds-=r:i.gold-=n,Bm.medicineLevel.set(e,Bm.medicineLevel.get(e)+1),Bm.medicineLevel.set(o,Bm.medicineLevel.get(o)-1)):tu("提示","没有可选的药品")}doDowngradeMedicine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Math.floor(Bm.resetMedicineCost/10),r=Math.floor(Bm.resetMedicineDiamondsCost/10),{player:i}=vu;if(t){if(Bm.diamonds<r)return void tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void tu("提示","您的金币不足");let a=Object.keys(os.medicines).filter((t=>t!==e)),o=a[Math.random()*a.length|0]||a[0],s=Bm.medicineLevel.get(o),l=os.medicines[o],u=l.Max_level||9999;for(;s>=u;)a=a.filter((function(e){return e!==o})),o=a[Math.random()*a.length|0]||a[0],s=Bm.medicineLevel.get(o),l=os.medicines[o],u=l.Max_level||9999;o?(t?Bm.diamonds-=r:i.gold-=n,Bm.medicineLevel.set(e,Bm.medicineLevel.get(e)-1),Bm.medicineLevel.set(o,Bm.medicineLevel.get(o)+1)):tu("提示","没有可选的药品")}upgradeMedicine(e){tu("提示",`使用${Bm.resetMedicineCost}金币升级，并随机降级一项药品？`,[{text:"确认",onPress:()=>{this.doUpgradeMedicine(e)}},{text:`使用${Bm.resetMedicineDiamondsCost}神力替代`,onPress:()=>{this.doUpgradeMedicine(e,!0)}},{text:"取消"}])}downgradeMedicine(e){tu("提示",`使用${Math.floor(Bm.resetMedicineCost/10)}金币降级，并随机升级一项药品？`,[{text:"确认",onPress:()=>{this.doDowngradeMedicine(e)}},{text:`使用${Math.ceil(Bm.resetMedicineDiamondsCost/10)}神力替代`,onPress:()=>{this.doDowngradeMedicine(e,!0)}},{text:"取消"}])}doThrow(e,t){const n=e.goodData.energy*Bm.bowelEffect;e.count===t?e.clear():e.count-=t;const r=Bm.gotMedicineExp(n*t);for(const e of r)tu("提示",`您的${os.medicines[e].name}等级提升了！`)}async throw(e){const t=e.goodData.energy*Bm.bowelEffect,n=await ru("请输入要投入的数量",`每个[${e.name}]提升${t.toFixed()}点经验值`,`${e.count}`);if(!n)return;const{count:r}=e,i=0|n;if(i<=0)return tu("别逗我啦。"),!1;if(r===i)this.doThrow(e,i);else if(r>i)this.doThrow(e,i);else if(r<i)return tu("别逗我啦。"),!1}render(){const{player:e}=vu,n=e.inventory.filter((e=>e.isEnergyMaterial));return t.createElement(Eo,{className:Jg.flex},t.createElement(Eo,{className:Jg.info},t.createElement(Eo,{className:Jg.flex},t.createElement(So,null,"炼金等级：",Bm.totalMedicineLevel,"级"),t.createElement(So,null,"当前经验值：",Bm.medicineExp.toFixed(),"/",Bm.maxMedicineExp))),t.createElement(_o,{className:Jg.flex},Object.keys(os.medicines).map(this.renderMedicine)),t.createElement(Eo,{className:Jg.itemGroup},n.map(((e,n)=>t.createElement(_y,{slot:e,key:n,onPress:()=>this.throw(e)}))),0===n.length&&t.createElement(So,{className:Jg.noItemHint},"您的背包里现在没有任何五行石")))}},ey(Qg.prototype,"doUpgradeMedicine",[Ft],Object.getOwnPropertyDescriptor(Qg.prototype,"doUpgradeMedicine"),Qg.prototype),ey(Qg.prototype,"doDowngradeMedicine",[Ft],Object.getOwnPropertyDescriptor(Qg.prototype,"doDowngradeMedicine"),Qg.prototype),Xg=Qg))||Xg;var ny=i(5714),ry={};ry.styleTagTransform=oo(),ry.setAttributes=no(),ry.insert=eo().bind(null,"head"),ry.domAPI=Qa(),ry.insertStyleElement=io(),Ja()(ny.A,ry);const iy=ny.A&&ny.A.locals?ny.A.locals:void 0;var ay,oy;function sy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ly(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let uy=oi((oy=class extends t.Component{constructor(){super(...arguments),sy(this,"renderCooking",(e=>{const n=os.cookings[e],r=Bm.cookingLevel.get(e)||0,i=Bm.totalCookingLevel-r,a=n.Max_level||9999;return t.createElement(Eo,{className:iy.cooking,key:e},t.createElement(Eo,{className:iy.flex},t.createElement(Eo,{className:iy.cookingMain},t.createElement(So,{className:iy.cookingName},n.name),t.createElement(So,{className:iy.textMargin},"等级：",r)),t.createElement(So,null,n.description(r)),t.createElement(So,null,"下一级：",n.description(r+1))),t.createElement(Dy,{onPress:()=>this.upgradeCooking(e),disabled:i<=0||r>=a},"升级"),t.createElement(Dy,{onPress:()=>this.downgradeCooking(e),disabled:r<=0},"降级"))})),sy(this,"doUpgradeBowel",(()=>{const e=Bm.bowelUpgradePrice;Bm.diamonds<e?tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}]):(Bm.diamonds-=e,Bm.bowelLevel++)})),sy(this,"upgradeBowel",(()=>{tu("提示",`使用${Bm.bowelUpgradePrice}神力锻炼熔炉，永久提升${(50*Bm.bowelEffect).toFixed()}%效果，是否继续？`,[{text:"确认",onPress:()=>this.doUpgradeBowel()},{text:"取消"}])}))}doUpgradeCooking(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Bm.resetCookingCost,r=Bm.resetCookingDiamondsCost,{player:i}=vu;if(t){if(Bm.diamonds<r)return void tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void tu("提示","您的金币不足");const a=Object.keys(os.cookings).filter((t=>t!==e&&Bm.cookingLevel.get(t)>0)),o=a[Math.random()*a.length|0]||a[0];o?(t?Bm.diamonds-=r:i.gold-=n,Bm.cookingLevel.set(e,Bm.cookingLevel.get(e)+1),Bm.cookingLevel.set(o,Bm.cookingLevel.get(o)-1)):tu("提示","没有可选的食品")}doDowngradeCooking(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Math.floor(Bm.resetCookingCost/10),r=Math.floor(Bm.resetCookingDiamondsCost/10),{player:i}=vu;if(t){if(Bm.diamonds<r)return void tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{this.context.navigator.push({location:"/purchase"})}},{text:"取消"}])}else if(i.gold<n)return void tu("提示","您的金币不足");let a=Object.keys(os.cookings).filter((t=>t!==e)),o=a[Math.random()*a.length|0]||a[0],s=Bm.cookingLevel.get(o),l=os.cookings[o],u=l.Max_level||9999;for(;s>=u;)a=a.filter((function(e){return e!==o})),o=a[Math.random()*a.length|0]||a[0],s=Bm.cookingLevel.get(o),l=os.cookings[o],u=l.Max_level||9999;o?(t?Bm.diamonds-=r:i.gold-=n,Bm.cookingLevel.set(e,Bm.cookingLevel.get(e)-1),Bm.cookingLevel.set(o,Bm.cookingLevel.get(o)+1)):tu("提示","没有可选的食品")}upgradeCooking(e){tu("提示",`使用${Bm.resetCookingCost}金币升级，并随机降级一项食品？`,[{text:"确认",onPress:()=>{this.doUpgradeCooking(e)}},{text:`使用${Bm.resetCookingDiamondsCost}神力替代`,onPress:()=>{this.doUpgradeCooking(e,!0)}},{text:"取消"}])}downgradeCooking(e){tu("提示",`使用${Math.floor(Bm.resetCookingCost/10)}金币降级，并随机升级一项食品？`,[{text:"确认",onPress:()=>{this.doDowngradeCooking(e)}},{text:`使用${Math.ceil(Bm.resetCookingDiamondsCost/10)}神力替代`,onPress:()=>{this.doDowngradeCooking(e,!0)}},{text:"取消"}])}doThrow(e,t){const n=e.goodData.energy*Bm.bowelEffect;e.count===t?e.clear():e.count-=t;const r=Bm.gotCookingExp(n*t);for(const e of r)tu("提示",`您的${os.cookings[e].name}等级提升了！`)}async throw(e){const t=e.goodData.energy*Bm.bowelEffect,n=await ru("请输入要投入的数量",`每个[${e.name}]提升${t.toFixed()}点经验值`,`${e.count}`);if(!n)return;const{count:r}=e,i=0|n;if(i<=0)return tu("别逗我啦。"),!1;if(r===i)this.doThrow(e,i);else if(r>i)this.doThrow(e,i);else if(r<i)return tu("别逗我啦。"),!1}render(){const{player:e}=vu,n=e.inventory.filter((e=>e.isEnergyMaterial));return t.createElement(Eo,{className:iy.flex},t.createElement(Eo,{className:iy.info},t.createElement(Eo,{className:iy.flex},t.createElement(So,null,"厨艺等级：",Bm.totalCookingLevel,"级"),t.createElement(So,null,"当前经验值：",Bm.cookingExp.toFixed(),"/",Bm.maxCookingExp))),t.createElement(_o,{className:iy.flex},Object.keys(os.cookings).map(this.renderCooking)),t.createElement(Eo,{className:iy.itemGroup},n.map(((e,n)=>t.createElement(_y,{slot:e,key:n,onPress:()=>this.throw(e)}))),0===n.length&&t.createElement(So,{className:iy.noItemHint},"您的背包里现在没有任何五行石")))}},ly(oy.prototype,"doUpgradeCooking",[Ft],Object.getOwnPropertyDescriptor(oy.prototype,"doUpgradeCooking"),oy.prototype),ly(oy.prototype,"doDowngradeCooking",[Ft],Object.getOwnPropertyDescriptor(oy.prototype,"doDowngradeCooking"),oy.prototype),ay=oy))||ay;var cy=i(3261),hy={};hy.styleTagTransform=oo(),hy.setAttributes=no(),hy.insert=eo().bind(null,"head"),hy.domAPI=Qa(),hy.insertStyleElement=io(),Ja()(cy.A,hy);const py=cy.A&&cy.A.locals?cy.A.locals:void 0;var dy;function fy(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=vu;if(t&&Bm.diamonds<t)return!1;if(n&&i.gold<n)return!1;for(const e of Object.keys(r))if(i.countGood(e)<r[e])return!1;return!0}function my(e){let{diamonds:t,gold:n,...r}=e;const{player:i}=vu;t&&(Bm.diamonds-=t),n&&(i.gold-=n);for(const e of Object.keys(r))i.costGood(e,r[e])}const gy={diamonds:"神力",gold:"金币"},yy=oi((function(e){let{style:n,inventory:r,selected:i}=e;const{player:a}=vu,o=r.length,s=$o((()=>o>0&&r[0].isEquip)),l=$o((()=>i&&null!==i.get()));return t.createElement(Eo,{className:n},l&&t.createElement(Oy,{selected:i}),t.createElement(Eo,{className:py.row},t.createElement(_o,{horizontal:!0,className:py.inventory},r.map(((e,n)=>t.createElement(_y,{slot:e,key:n,onPress:Ft((()=>i.set(e)))})))),s&&t.createElement(Ao,{className:py.inventoryButton,onPress:Ft((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{player:n}=vu,r=e[0];_g(r,t,(()=>{r.empty&&e.remove(r)}))}(r)))},t.createElement(So,null,"拆1解")),o>0&&t.createElement(Ao,{className:py.inventoryButton,onPress:Ft((()=>{a.getInventory(r),i.set(null)}))},t.createElement(So,null,"拾取"))))}));let vy=oi(dy=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"selectedItem",Re(null))}render(){const{player:e}=vu;return t.createElement(Um,{title:"技艺"},t.createElement(Eo,{className:py.container},t.createElement(wg,{className:py.container},t.createElement(Hg,{tabLabel:"附魔"}),t.createElement($g,{tabLabel:"重铸"}),t.createElement(uy,{tabLabel:"厨艺"}),t.createElement(ty,{tabLabel:"炼金"}),t.createElement(Pg,{tabLabel:"拆解"})),t.createElement(yy,{selected:this.selectedItem,inventory:e.buildInventory})))}})||dy;var by=i(8434),ky={};ky.styleTagTransform=oo(),ky.setAttributes=no(),ky.insert=eo().bind(null,"head"),ky.domAPI=Qa(),ky.insertStyleElement=io(),Ja()(by.A,ky);const wy=by.A&&by.A.locals?by.A.locals:void 0;var xy;function Sy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ey=[wy.btnNormal,wy.btnGood,wy.btnExcellent,wy.btnEpic,wy.btnLegend,wy.btnAcient,wy.btnArtifact],Ay=(wy.fontNormal,wy.fontGood,wy.fontExcellent,wy.fontEpic,wy.fontLegend,wy.fontAcient,wy.fontArtifact,["普通","优秀","精良","史诗","传说","远古","神器"]),_y=oi((function(e){let{slot:n,onPress:r,selectedItem:i}=e;const a=$o((()=>!(!i||n!==i.get())));return t.createElement(Ao,{className:wy.slot,activeOpacity:.8,onPress:r},t.createElement(Eo,{className:[wy.slotContent,Ey[n.displayQuality],a&&wy.slotActive],style:n.backgroundColor&&{backgroundColor:n.backgroundColor}},t.createElement(So,{style:n.nameColor&&{color:n.nameColor}},n.name||"空")),n.count>1&&t.createElement(So,{className:wy.count},n.count))}));function Dy(e){let{onPress:n,children:r,disabled:i}=e;return t.createElement(Ao,{onPress:n,disabled:i,className:[wy.button,i&&wy.buttonDisabled]},t.createElement(So,{className:[wy.buttonLabel,i&&wy.buttonDisabledLabel]},r))}const Py={atk_self:"攻击力",def:"物理防御",maxHp:"生命值",critRate:"暴击",atkMul:"攻击力",critBonus:"暴击伤害",dmgAdd:"破防",firedmgAdd:"破防",colddmgAdd:"破防",lightningdmgAdd:"破防",poisondmgAdd:"破防",lightdmgAdd:"破防",darkdmgAdd:"破防",sta:"耐力",str:"力量",dex:"敏捷",int:"智力",dmgLevel:"物理伤害",critR_level:"暴击",critB_level:"暴击伤害",miss_shanbizhi:"闪避值",allResist:"元素抗性"},Cy={atk_self:e=>""+(0|e),atkSpeed:e=>e.toFixed(1),mpRecovery:e=>Math.round(5*e),maxHp:e=>`${e}`,critRate:e=>Math.round(1e4*e)/100+"%",atkMul:e=>Math.round(1e4*e)/100+"%",dmgAdd:e=>Math.round(1e4*e)/100+"%",critBonus:e=>Math.round(1e4*e)/100+"%",sta:e=>`${e}`,str:e=>`${e}`,dex:e=>`${e}`,int:e=>`${e}`,dmgLevel:e=>`${e}`,critR_level:e=>""+(0|e),critB_level:e=>""+(0|e),miss_shanbizhi:e=>""+(0|e)},Ry={diamonds:"神力",gold:"金币"},Oy=oi((function(e,n){let{slot:r,selected:i,type:a}=e,{navigator:o}=n;const s=r||i&&i.get();if(s&&"ticket"===s.key)return t.createElement(Eo,{className:wy.detail},t.createElement(Eo,{className:wy.row},t.createElement(So,{className:wy.detailName},s.name),t.createElement(So,{className:wy.detailCount}," x ",s.count)),t.createElement(Eo,{className:[wy.row,wy.spacer]},t.createElement(Eo,{className:wy.spacer},t.createElement(Eo,{className:wy.spacer}),t.createElement(So,{numberOfLines:2},"钥石可以让你再次挑战已经挑战过的副本。")),t.createElement(Eo,{className:wy.row},t.createElement(Dy,{onPress:()=>{tu("提示","确定要丢弃该钥石吗？",[{text:"确认",onPress:Ft((()=>{i.set(null),s.clear()}))},{text:"取消"}])}},"抛弃")),"bank"===a&&"inventory"===s.position&&t.createElement(Dy,{onPress:()=>{vu.player.loot(s,Bm.bank),Bm.save(),vu.player.save()}},"保存"),"bank"===a&&"bank"===s.position&&t.createElement(Dy,{onPress:()=>{vu.player.loot(s),Bm.save(),vu.player.save()}},"取出")));if(!s||!s.goodData)return s&&gy[s.key]?t.createElement(Eo,{className:wy.detail},t.createElement(Eo,{className:wy.row},t.createElement(So,{className:wy.detailName},gy[s.key]),t.createElement(So,{className:wy.detailCount}," x ",s.count)),t.createElement(Eo,{className:wy.spacer},t.createElement(Eo,{className:wy.spacer}),t.createElement(So,{numberOfLines:2},Ry[s.key]))):t.createElement(Eo,{className:wy.detail});const{isEquip:l}=s,u=l&&vu.playerUnit.canEquip(s);let c;return c="bank"===a?t.createElement(Eo,{className:wy.row},"inventory"===s.position&&t.createElement(Dy,{onPress:()=>{vu.player.loot(s,Bm.bank),Bm.save(),vu.player.save()}},"保存"),"bank"===s.position&&t.createElement(Dy,{onPress:()=>{vu.player.loot(s),Bm.save(),vu.player.save()}},"取出"),s.price&&s.count>=1&&!s.locked&&t.createElement(Dy,{onPress:async()=>{if(s.count>1){const e=await ru("输入数量","",`${s.count}`);Nt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t===n)i.set(null),vu.player.sellItem(s,n);else if(t>n)vu.player.sellItem(s,n);else if(t<n)return tu("别逗我啦。"),!1}))}else s.quality>=3?tu("提示",`该商品为${Ay[s.quality]}物品，是否确定出售？`,[{text:"确认",onPress:()=>{Nt((()=>{i.set(null),vu.player.sellItem(s,1)}))}},{text:"取消"}]):Nt((()=>{i.set(null),vu.player.sellItem(s,1)}))}},"出售"),s.isEquip&&t.createElement(Dy,{onPress:()=>{s.locked=!s.locked}},s.locked?"解锁":"锁定")):t.createElement(Eo,{className:wy.row},s.isEquip&&"inventory"===s.position&&t.createElement(Dy,{disabled:!u,onPress:()=>{vu.player.equip(s)}},"装备"),"equip"===s.position&&t.createElement(Dy,{onPress:()=>{vu.player.unequip(s)}},"卸下"),s.goodData&&"package"===s.goodData.type&&t.createElement(Dy,{onPress:()=>vu.usePackage(s)},"打开所有"),s.price&&"equip"!==s.position&&s.count>=1&&!s.locked&&t.createElement(Dy,{onPress:async()=>{if(s.count>1){const e=await ru("输入数量","",`${s.count}`);Nt((()=>{const{count:t}=i.get(),n=Math.max(0,0|e);if(t===n)i.set(null),vu.player.sellItem(s,n);else if(t>n)vu.player.sellItem(s,n);else if(t<n)return tu("别逗我啦。"),!1}))}else s.quality>=3?tu("提示",`该商品为${Ay[s.quality]}物品，是否确定出售？`,[{text:"确认",onPress:()=>{Nt((()=>{i.set(null),vu.player.sellItem(s,1)}))}},{text:"取消"}]):Nt((()=>{i.set(null),vu.player.sellItem(s,1)}))}},"出售"),s.isEquip&&t.createElement(Dy,{onPress:()=>{s.locked=!s.locked}},s.locked?"解锁":"锁定")),t.createElement(Eo,{className:wy.detail},t.createElement(Eo,{className:wy.row},t.createElement(So,{className:wy.detailName},s.name,s.originName&&t.createElement(So,{className:wy.originName})),1!==s.count&&t.createElement(So,{className:wy.detailCount}," x ",s.count),t.createElement(Eo,{className:wy.spacer}),!!s.price&&t.createElement(So,{className:wy.detailPrice},"出售单价:",s.price," ",s.count>1&&t.createElement(So,null,"全部出售:",s.totalPrice))),t.createElement(Eo,{className:[wy.row2,wy.spacer]},t.createElement(Eo,{className:wy.spacer},t.createElement(Eo,{className:wy.row},l&&t.createElement(So,null,s.equipPositionName),l&&t.createElement(So,{className:wy.marginLeft},"需要等级",s.requireLevel)),t.createElement(Eo,{className:wy.row},l&&t.createElement(So,{className:wy.marginLeft2},"品质等级",s.level)),t.createElement(Eo,{className:wy.row4},t.createElement(So,null,l&&Object.keys(Py).map(((e,n)=>!!s[e]&&t.createElement(So,{key:n},"  ",Py[e],"+",Cy[e]?Cy[e](s[e]):Math.round(s[e]),"\n                          "))))),t.createElement(Eo,{className:wy.row5},t.createElement(So,null,s.affixes.map(((e,n)=>t.createElement(So,{className:[wy.affix,e.isLegend&&wy.legend],key:n},e.display,"\n                  ")))))),t.createElement(Eo,{className:wy.spacer},t.createElement(Eo,{className:wy.row6},l&&t.createElement(So,{className:wy.marginLeft2},s.description)),t.createElement(Eo,{className:wy.row7},l&&c),t.createElement(Eo,{className:wy.row8},!l&&c))))})),Ty=Ft((function(){const{player:e}=vu,t=os.upgrades.inventoryByDiamonds[e.inventoryDiamondLevel];Bm.diamonds<t?tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{Wk.navigate("/purchase")}},{text:"取消"}]):(Bm.diamonds-=t,e.inventory.push(new Zc("inventory")),e.inventoryDiamondLevel++)})),Fy=Ft((function(){const{player:e}=vu,t=os.upgrades.inventory[e.inventory.length-e.inventoryDiamondLevel],{gold:n,...r}=t;if(fy(t)){n&&(e.gold-=n);for(const t of Object.keys(r))e.costGood(t,r[t]);e.inventory.push(new Zc("inventory"))}else tu("提示","物品扣除失败。请重试。")}));function By(){const{player:e}=vu,t=os.upgrades.inventory[e.inventory.length-e.inventoryDiamondLevel],n=os.upgrades.inventoryByDiamonds[e.inventoryDiamondLevel];if(!t)return void tu("提示",`你的背包已经超越极限，只有创世神的力量才能改变空间，继续扩张背包消耗${n}神力，是否继续？`,[{text:"确认",onPress:()=>Ty(navigator)},{text:"取消"}]);const r=Object.keys(t).map((e=>`${gy[e]||os.goods[e].name} x${t[e]}`)).join("\n");fy(t)?tu("提示",`背包升级需要消耗：\n${r}\n是否继续？`,[{text:"确认",onPress:()=>Fy(t)},{text:"取消"}]):tu("提示",`背包升级需要消耗：\n${r}\n您的物品不足，是否消耗${n}神力改变空间，扩张背包？`,[{text:"确认",onPress:()=>Ty()},{text:"取消"}])}function Ny(e){let{onPress:n,children:r}=e;return t.createElement(Ao,{className:wy.slot,activeOpacity:.8,onPress:n},t.createElement(Eo,{className:wy.slotContent},t.createElement(So,null,r)))}function Iy(e){let{onPress:n,children:r}=e;return t.createElement(Ao,{className:wy.bigBtn,activeOpacity:.8,onPress:n},t.createElement(Eo,{className:wy.bigBtnContent},t.createElement(So,null,r)))}function My(e){let{onPress:n,children:r}=e;return t.createElement(Ao,{className:wy.bigBtn2,activeOpacity:.8,onPress:n},t.createElement(Eo,{className:wy.bigBtnContent},t.createElement(So,null,r)))}let jy=oi(xy=class extends t.Component{constructor(){super(...arguments),Sy(this,"selectedItem",Re(null)),Sy(this,"onLeftPressed",(()=>{Wk.navigate("/purchase")})),Sy(this,"onRightPressed",(()=>{Wk.navigate("/inventory/bank")})),Sy(this,"setLootRule",(()=>{Wk.navigate("/inventory/loot-rule")})),Sy(this,"renderRow",((e,n)=>t.createElement(_y,{onPress:Ft((()=>this.selectedItem.set(e))),key:n,slot:e,selectedItem:this.selectedItem})))}renderEquip(e){return this.renderRow(vu.player.equipments[e],e)}render(){const{player:e}=vu;return t.createElement(Um,{title:"背包",leftNavTitle:"创世神商店",rightNavTitle:"仓库",onLeftPressed:this.onLeftPressed,onRightPressed:this.onRightPressed},t.createElement(Eo,{className:wy.container},t.createElement(Eo,{className:wy.row},t.createElement(So,null,"金币: ",t.createElement(gg,{unit:e,field:"gold"})," 神力:"," ",t.createElement(gg,{unit:Bm,field:"diamonds"}))),t.createElement(Eo,{className:wy.row},t.createElement(So,null,e.name,"的装备"),t.createElement(_o,{contentContainerClassName:wy.rowCenter,horizontal:!0},this.renderEquip("weapon"),this.renderEquip("plastron"),this.renderEquip("gaiter"),this.renderEquip("ornament"))),t.createElement(Oy,{selected:this.selectedItem}),t.createElement(_o,{className:wy.container,contentContainerClassName:wy.content},t.createElement(Iy,{onPress:()=>e.sortInventory(e.inventory)},"整理背包"),t.createElement(Iy,{onPress:this.setLootRule},"拾取规则"),e.inventory.map(this.renderRow),e.inventoryDiamondLevel<os.upgrades.inventoryByDiamonds.length&&t.createElement(Ny,{onPress:By},"+"))))}})||xy;var Hy=i(5975),Ly={};Ly.styleTagTransform=oo(),Ly.setAttributes=no(),Ly.insert=eo().bind(null,"head"),Ly.domAPI=Qa(),Ly.insertStyleElement=io(),Ja()(Hy.A,Ly);const qy=Hy.A&&Hy.A.locals?Hy.A.locals:void 0;var zy,Uy;function Vy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ky(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const Yy={melee:"物理",magic:"魔法",fire:"火焰",cold:"寒冷",real:"真实",dark:"暗属性",lightning:"闪电",light:"光属性",poison:"毒素"},$y={diamonds:"神力",gold:"金币"};let Wy=(zy=class{constructor(){var e;Vy(this,"keyGenerator",0),(e=Uy)&&Object.defineProperty(this,"rendered",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0}),Vy(this,"onMessage",Ft((e=>{const n=this[Ts("render-"+e.type)];if(!n)return void console.warn(`No renderer for message ${e.type}: ${Ts("render-"+e.type)}`);const r=n.call(this,e);if(!r)return;const i=this.keyGenerator+=1;this.keyGenerator>1e5&&(this.keyGenerator=0),this.rendered.push({type:e.type,jsx:t.cloneElement(r,{key:i})}),this.rendered.length>1e3&&this.rendered.shift()}))),Bs.addListener("message",this.onMessage),bn(this)}dispose(){this.rendered.clear()}renderGeneral(e){let{message:n}=e;return t.createElement(So,null,n)}renderMapEnter(e){let{map:n}=e;const r=os.maps[n];return t.createElement(So,null,"来到了",r.name)}renderBattleDodge(e){let{from:n,to:r,skill:i}=e;return i?t.createElement(So,null,n.displayName,"的",i.name,"偏离了，没有命中",r.displayName,"。"):t.createElement(So,null,n.displayName,"的技能偏离了，没有命中",r.displayName,"。")}renderBattleDamage(e){let{damageType:n,from:r,to:i,skill:a,value:o,isCrit:s,absorbed:l}=e;if(o>0||l>0)return r?t.createElement(So,null,!!s&&t.createElement(So,{className:qy.crit},"暴击",s>1&&`x${s}`,"！"),r.displayName,'的"',a.name,'"对',i.displayName,"造成了",t.createElement(So,{className:"player"===r.camp?qy.campPlayer:qy.campOther},Math.round(o)),"点",Yy[n],"伤害。",l?`(${0|l}点被吸收了)`:""):t.createElement(So,null,!!s&&t.createElement(So,{className:qy.crit},"暴击",s>1&&`x${s}`,"！"),'触发了"',a,'"效果,',i.displayName,"受到",t.createElement(So,null,Math.round(o)),"点",Yy[n],"伤害。",l?`(${0|l}点被吸收了)`:"")}renderBattleHeal(e){let{from:n,to:r,skill:i,value:a}=e;if(a>0)return n?t.createElement(So,null,n.displayName,"的",i.name,"为",r.displayName,"恢复了",t.createElement(So,{className:qy.recovery},Math.round(a)),"点气血值。"):t.createElement(So,null,r.displayName,"恢复了",t.createElement(So,{className:qy.recovery},Math.round(a)),"点气血值。")}renderBattleSkill(e){let{from:n,targets:r,skill:i}=e;return r?t.createElement(So,null,n.displayName,"对",r.map((e=>e.displayName)).join(","),"释放了",i.name,"。"):t.createElement(So,null,n.displayName,"释放了",i.name,"。")}renderPlayerDeath(e){let{who:n,rebornIn:r}=e;return t.createElement(So,null,n.displayName,"陷入了昏迷，将在",t.createElement(So,{className:qy.rebornIn},Math.round(r)),"秒后恢复。")}renderBattleDeath(e){let{who:t}=e}renderMapEnter(e){let{map:n}=e;return t.createElement(So,null,"来到了",os.maps[n].name,"。")}renderEnemyAppear(e){let{enemy:t,summoner:n}=e}renderPlayerGotExp(e){let{who:n,value:r}=e;return t.createElement(So,null,n.displayName,"获得了",Math.round(r),"点经验。")}renderPlayerLoot(e){let{who:n,what:r,showToast:i}=e;const{count:a,key:o,dungeonKey:s}=r,l=os.goods[o]&&os.goods[o].quality;let u=$y[o],c=u;return"ticket"===o?(u=t.createElement(So,{className:Ey[5]},"钥石：",Gc(s)||os.maps[s].name),c=`钥石：${Gc(s)||os.maps[s].name}`):u||(u=t.createElement(So,{className:Ey[l]},os.goods[o].name),c=os.goods[o].name),a&&a>1?(i&&cs(`获得了${a}个${c}。`),t.createElement(So,null,n.name,"拾取了",a,"个",u,"。")):(i&&cs(`获得了${c}。`),t.createElement(So,null,n.name,"拾取了",u,"。"))}renderBattleBuff(e){let{who:n,what:r}=e;return os.buffs[r].hidden?null:t.createElement(So,null,n.displayName,"受到了",os.buffs[r].name,"效果的影响。")}renderBattleBuffOff(e){let{who:n,what:r}=e;return os.buffs[r].hidden?null:t.createElement(So,null,n.displayName,"的",os.buffs[r].name,"效果消失了。")}renderBattleBreakCasting(e){let{who:n,what:r}=e;return t.createElement(So,null,n.displayName,"的",r.name,"被打断了。")}},Uy=Ky(zy.prototype,"rendered",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ky(zy.prototype,"dispose",[Ft],Object.getOwnPropertyDescriptor(zy.prototype,"dispose"),zy.prototype),zy);const Gy=new Wy;var Jy=i(549),Xy={};Xy.styleTagTransform=oo(),Xy.setAttributes=no(),Xy.insert=eo().bind(null,"head"),Xy.domAPI=Qa(),Xy.insertStyleElement=io(),Ja()(Jy.A,Xy);const Qy=Jy.A&&Jy.A.locals?Jy.A.locals:void 0;var Zy=i(8451),ev={};ev.styleTagTransform=oo(),ev.setAttributes=no(),ev.insert=eo().bind(null,"head"),ev.domAPI=Qa(),ev.insertStyleElement=io(),Ja()(Zy.A,ev);const tv=Zy.A&&Zy.A.locals?Zy.A.locals:void 0,nv=[];let rv=0;function iv(n){++rv;const r=document.createElement("div");r.className=tv.root,document.body.appendChild(r);const i=n.props.onDismiss;(0,e.render)(t.cloneElement(n,{onDismiss:()=>{if(i&&i(),(0,e.unmountComponentAtNode)(r),document.body.removeChild(r),0==--rv)for(const e of nv.splice(0))e()}}),r)}var av=i(8777),ov={};ov.styleTagTransform=oo(),ov.setAttributes=no(),ov.insert=eo().bind(null,"head"),ov.domAPI=Qa(),ov.insertStyleElement=io(),Ja()(av.A,ov);const sv=av.A&&av.A.locals?av.A.locals:void 0;var lv,uv,cv,hv;function pv(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function dv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fv(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let mv=oi((uv=class extends t.Component{constructor(){super(),pv(this,"scenePanel",cv,this),pv(this,"content",hv,this),dv(this,"eventKey",0),dv(this,"onScrollViewRef",(e=>{this.scrollView=e})),dv(this,"onPressResolve",null),dv(this,"onPress",(()=>{const{onPressResolve:e}=this;e&&(this.onPressResolve=null,e())})),dv(this,"back",(()=>{var e,t;null===(e=(t=this.props).onDismiss)||void 0===e||e.call(t)})),bn(this)}componentDidMount(){this.play()}async play(){var e,t;const n=function(e){const{script:t}=os.stories[e],n=t.split("\n"),r=[];let i=0;for(;i<n.length;i++){const e=n[i].trim().split(" ");if(!(e.length<=0)&&e[0]){if("{"===e[e.length-1]){const t=[];for(;i<n.length-1;){const e=n[++i];if("}"===e)break;t.push(e)}e[e.length-1]=t.join("\n")}r.push({type:e[0].toLowerCase(),args:e.slice(1)})}}return r}(this.props.story);for(const e of n)await this[e.type](...e.args);null===(e=(t=this.props).onDismiss)||void 0===e||e.call(t)}aside(e){return this.say(null,e)}async say(e,n){this.contentTop=0,Nt((()=>{this.content=t.createElement(Eo,{className:sv.content,key:++this.eventKey},e&&t.createElement(So,{className:sv.name},"[",e,"]"),t.createElement(Eo,{className:sv.textContainer,ref:this.onScrollViewRef},t.createElement(So,{className:sv.text},n)))}));let r=0;for(;;){await this.waitPress();const t=this.scrollView;if(!t)break;const n=t.scrollHeight;if(!(r+t.offsetHeight<n))break;r+=e?50:75,this.scrollView.scrollTop=r}Nt((()=>{this.content=null}))}async scene(e){this.scenePanel&&(this.scenePanel=t.createElement(Eo,{className:$a(sv.scene,sv.hidden),key:++this.eventKey},t.createElement(So,{className:sv.sceneLabel},e)),await this.wait(500)),e&&(this.scenePanel=t.createElement(Eo,{className:sv.scene,key:++this.eventKey},t.createElement(So,{className:sv.sceneLabel},e))),await this.wait(500)}async wait(e){return new Promise((t=>{this.onPressResolve=t,setTimeout(t,+e)})).then((()=>{this.onPressResolve=null}))}waitPress(){return new Promise((e=>{this.onPressResolve=e}))}render(){return t.createElement(Eo,{className:sv.container,onClick:this.onPress},this.scenePanel,this.content,t.createElement(Ao,{className:sv.back,onPress:this.back},t.createElement(So,{className:sv.backLabel},"跳过>>")))}},cv=fv(uv.prototype,"scenePanel",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hv=fv(uv.prototype,"content",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lv=uv))||lv;var gv,yv;function vv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bv=oi((function(e){let{map:n,endlessLevel:r=0,onChangeMap:i,children:a,noActive:o,getMaxCount:s}=e,{name:l}=n;r&&(l=l.replace("噩梦","噩梦"+(Wc[r]||r)));const u=!o&&$o((()=>(!r||r==vu._endlessLevel)&&vu.map===n.key)),c=$o((()=>vu.pendingMaps.findIndex((e=>e[0]==n.key&&e[1]==r))>=0));return t.createElement(Ao,{activeOpacity:.8,className:[Qy.option,c&&Qy.optionPending,u&&Qy.optionActive],onPress:()=>i&&i(n),onLongPress:async()=>{const e=s();if(console.log(e),e<=1)return void(i&&i(n));const t=await ru(`输入数量(1-${e})`,"",`${e}`),r=Math.min(e,Math.max(0,0|t));for(let e=0;e<r;e++)i&&i(n)}},t.createElement(So,{className:[Qy.label,c&&Qy.labelPending,u&&Qy.labelActive]},l,a))}));function kv(e){const{key:t,requirement:n}=e,{storiesMap:r}=Bm;return"done"!==r.get(t)&&tg(n)}function wv(e){const{player:t}=vu,{storiesMap:n}=Bm;if("done"!==n.get(e.key)){n.set(e.key,"done");for(const n of Object.keys(e.awards||{}))if("purchaseRate"===n)Bm.purchaseRate+=e.awards[n];else if("number"==typeof e.awards[n]){const r=t.awardInventory.find((e=>e.key===n));r?r.count+=e.awards[n]:t.awardInventory.push(new Zc("award").fromJS({key:n,count:e.awards[n]}))}else{const{quality:r,affixes:i}=e.awards[n];t.awardInventory.push(new Zc("award").fromJS({key:n,count:1,quality:r,affixes:i}))}Bm.save(),t&&t.save()}}const xv=Ft((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full";if(rv>0)return;const n=Object.keys(os.stories).map((e=>os.stories[e])),{storiesMap:r}=Bm;let i=!1;function a(){for(const e of Bm.enemyTaskMap.keys()){const n=Bm.enemyTaskMap.get(e);for(const r of n.keys())if(n.get(r)<=0){const a=os.stories[r];if(a.script)return void iv(t.createElement(mv,{story:a.key,onDismiss:()=>{n.delete(r),0===n.size&&Bm.enemyTaskMap.delete(e),wv(a),Sv()}}));n.delete(r),wv(a),i=!0}0===n.size&&Bm.enemyTaskMap.delete(e)}}for("kill"===e?a():i=!0;i;){i=!1,a();const e=n.filter(kv);for(const n of e)if(n)if(n.taskType){if(!r.has(n.key))switch(r.set(n.key,"task"),n.taskType){case"kill":Bm.addKillTask(n.key,n.enemy,n.killCount);break;case"purchase":break;default:console.warn(`Unknown task type ${n.taskType}`)}}else{if(n.script)return void iv(t.createElement(mv,{story:n.key,onDismiss:()=>{wv(n),Sv()}}));wv(n),i=!0}}}));function Sv(){var e;e=()=>{xv()},0!=rv?nv.push(e):e()}function Ev(e){return!os.maps[e].requirement||tg(os.maps[e].requirement)}const Av=oi((function(e){let{map:n,onChangeMap:r,showNoTicket:i}=e;const a=vu.player.countTicket(n.key);return(i?a>0:a<=0)?null:t.createElement(bv,{isDungeon:!0,map:n,onChangeMap:r,getMaxCount:()=>{const e=vu.pendingMaps.filter((e=>(os.maps[e[0]].group||e[0])===n.key)).length+((os.maps[vu.map].group||vu.map)===n.key?1:0);return a-e}},!i&&t.createElement(So,{className:Qy.cooldownCount},"x",`${a}`))})),_v=[Object.keys(os.maps).filter((e=>"nightmare.1"===os.maps[e].group)),Object.keys(os.maps).filter((e=>"nightmare.2"===os.maps[e].group))],Dv=oi((function(e){let{level:n}=e;const r=vu.player.countTicket("nightmare."+n);if(!r)return null;const i=_v[(n-1)%2];return t.createElement(Eo,{className:Qy.endlessGroup},i.map((e=>t.createElement(bv,{key:e,isDungeon:!0,map:os.maps[e],endlessLevel:n,onChangeMap:()=>{!function(e,t){const n=vu.pendingMaps.filter((e=>e[1]===t)).length+(vu._endlessLevel===t?1:0),{player:r}=vu;if(r.countTicket("nightmare."+t)<=n)tu("提示","现在没有任何该等级的无尽噩梦钥石");else{if(vu.pendingMaps.length>0)return void vu.pendingMaps.splice(vu.pendingMaps.length-1,0,[e,t]);Nt((()=>{vu.pendingMaps.push([vu.map,0]),vu._map=e,vu._endlessLevel=t,vu.onMapChanged()}))}}(e,n)},getMaxCount:()=>r-0},t.createElement(So,{className:Qy.cooldownCount},"x",`${r}`)))))})),Pv=oi((function(){const e=Bm.highestEndlessLevel,n=[];for(let r=1;r<=e;r++)n.push(t.createElement(Dv,{level:r,key:r}));return t.createElement(t.Fragment,null,n)}));let Cv=oi((yv=class extends t.Component{constructor(){super(...arguments),vv(this,"renderMap",(e=>{const n=os.maps[e];return t.createElement(bv,{map:n,key:e,onChangeMap:this.onChangeMap})})),vv(this,"renderMapName",((e,n)=>{const r=os.maps[e[0]];return t.createElement(bv,{map:r,endlessLevel:e[1],key:"pending-"+n,onChangeMap:e=>this.cancelPendingMap(e,n),noActive:!0})})),vv(this,"renderDungeon",(e=>t.createElement(Av,{map:os.maps[e],key:e,onChangeMap:this.onEnterDungeonCheck}))),vv(this,"renderDungeonNoTicket",(e=>t.createElement(Av,{map:os.maps[e],key:e,onChangeMap:this.onEnterDungeonCheck,showNoTicket:!0}))),vv(this,"cancelPendingMap",Ft(((e,t)=>{os.maps[e.key].isDungeon&&vu.pendingMaps.splice(t,1)}))),vv(this,"onChangeMap",Ft(((e,t)=>{!t&&vu.pendingMaps.length>=1?tu("提示","是否确认离开进行中的地城？",[{text:"确认",onPress:()=>{this.onChangeMap(e,!0)}},{text:"取消"}]):vu.map!==e.key&&(vu.map=e.key,vu.pendingMaps.splice(0),xv())}))),vv(this,"onEnterDungeon",Ft((e=>{vu.pendingMaps.length>0?vu.pendingMaps.splice(vu.pendingMaps.length-1,0,[e.key,0]):(vu.pendingMaps.push([vu.map,0]),vu.map=e.key,xv())}))),vv(this,"onEnterDungeonCheck",(e=>{const t=e.group||e.key,n=vu.pendingMaps.filter((e=>(os.maps[e[0]].group||e[0])===t)).length+((os.maps[vu.map].group||vu.map)===t?1:0),{player:r}=vu;r.countTicket(t)<=n?e.resetPrice>0?tu("提示",`现在没有任何该副本的钥石，是否花费${e.resetPrice}神力兑换钥石？\n（在普通地图击杀怪物有几率获得钥石）`,[{text:"确认",onPress:()=>{this.buyTicket(e)}},{text:"取消"}]):tu("提示","您无法再次进入该副本。"):this.onEnterDungeon(e)}))}buyTicket(e){const{player:t}=vu;t.dungeonTickets.get(e.key)>=9999?tu("提示","该副本钥石数量已达上限，不能购买。"):Bm.diamonds<e.resetPrice?tu("提示","神力不够？那这是有点不太好吧啊",[{text:"确认"},{text:"还是确认"}]):(Bm.diamonds-=e.resetPrice,t.dungeonTickets.set(e.group||e.key,t.dungeonTickets.get(e.group||e.key)+1))}renderDungeonPhase(){const{enemyBorn:e,mapData:n}=vu;if(!e||null==e.currentPhase)return null;const{currentPhase:r}=e;return[t.createElement(Eo,{className:Qy.section,key:"title"},t.createElement(So,{className:Qy.sectionTitle},"副本进度:",n.name)),...n.phases.map(((e,i)=>t.createElement(Eo,{key:`phase_${i}`,className:Qy.phase},t.createElement(So,{className:Qy.phaseState},r===i&&">"),t.createElement(So,{className:Qy.phaseLabel},r>=i?n.phases[i].description:"???"))))]}render(){return t.createElement(_o,{className:Qy.panel,contentContainerClassName:Qy.panelContent,bounces:!1},t.createElement(Eo,{className:Qy.section},t.createElement(So,{className:Qy.sectionTitle},"地图")),Object.keys(os.maps).filter((e=>!os.maps[e].isDungeon)).filter((e=>Ev(e))).map(this.renderMap),Bm.highestEndlessLevel>0&&t.createElement(Eo,{className:Qy.section},t.createElement(So,{className:Qy.sectionTitle},"无尽副本")),t.createElement(Pv,null),t.createElement(Eo,{className:Qy.section},t.createElement(So,{className:Qy.sectionTitle},"副本")),Object.keys(os.maps).filter((e=>os.maps[e].isDungeon&&!os.maps[e].isEndless)).filter((e=>Ev(e))).map(this.renderDungeon),this.renderDungeonPhase(),vu.pendingMaps.length>0&&t.createElement(Eo,{className:Qy.section},t.createElement(So,{className:Qy.sectionTitle},"副本队列")),vu.pendingMaps.map(this.renderMapName),t.createElement(Eo,{className:Qy.section},t.createElement(So,{className:Qy.sectionTitle},"副本（无钥石）")),Object.keys(os.maps).filter((e=>os.maps[e].isDungeon&&!os.maps[e].isEndless)).filter((e=>Ev(e))).map(this.renderDungeonNoTicket))}},Rv=yv.prototype,Ov="buyTicket",Tv=[Ft],Fv=Object.getOwnPropertyDescriptor(yv.prototype,"buyTicket"),Bv=yv.prototype,Nv={},Object.keys(Fv).forEach((function(e){Nv[e]=Fv[e]})),Nv.enumerable=!!Nv.enumerable,Nv.configurable=!!Nv.configurable,("value"in Nv||Nv.initializer)&&(Nv.writable=!0),Nv=Tv.slice().reverse().reduce((function(e,t){return t(Rv,Ov,e)||e}),Nv),Bv&&void 0!==Nv.initializer&&(Nv.value=Nv.initializer?Nv.initializer.call(Bv):void 0,Nv.initializer=void 0),void 0===Nv.initializer&&(Object.defineProperty(Rv,Ov,Nv),Nv=null),gv=yv))||gv;var Rv,Ov,Tv,Fv,Bv,Nv,Iv=i(1062),Mv={};Mv.styleTagTransform=oo(),Mv.setAttributes=no(),Mv.insert=eo().bind(null,"head"),Mv.domAPI=Qa(),Mv.insertStyleElement=io(),Ja()(Iv.A,Mv);const jv=Iv.A&&Iv.A.locals?Iv.A.locals:void 0;function Hv(e){let{value:n,maxValue:r,bgColor:i,barColor:a,className:o}=e;const s=r>0?n/r:1;return t.createElement(Eo,{className:[jv.container,o],style:{backgroundColor:i}},t.createElement(Eo,{className:jv.round,style:{flex:s,backgroundColor:a}}),t.createElement(Eo,{className:{flex:1-s}}))}var Lv=i(9982),qv={};qv.styleTagTransform=oo(),qv.setAttributes=no(),qv.insert=eo().bind(null,"head"),qv.domAPI=Qa(),qv.insertStyleElement=io(),Ja()(Lv.A,qv);const zv=Lv.A&&Lv.A.locals?Lv.A.locals:void 0;function Uv(e){let{value:n,maxValue:r,bgColor:i,activeColor:a}=e;const o=[];for(let e=0;e<r;e++)o.push(e);return t.createElement(Eo,{className:zv.container},o.map(((e,r)=>t.createElement(Eo,{className:zv.content,key:r},t.createElement(Eo,{className:zv.point,style:{backgroundColor:n-1<r?i:a}})))))}const Vv=oi((function(e){let{unit:n,className:r}=e;return t.createElement(Hv,{className:r,value:n.hp,maxValue:n.maxHp,bgColor:"#ddd",barColor:"red"})})),Kv=oi((function(e){let{unit:n,className:r}=e;return t.createElement(Hv,{className:r,value:n.mp,maxValue:n.maxMp,bgColor:"#ddd",barColor:"blue"})})),Yv=oi((function(e){let{unit:n,className:r}=e;return t.createElement(Hv,{className:r,value:n.rp,maxValue:n.maxRp,bgColor:"#ddd",barColor:"#f62"})})),$v=oi((function(e){let{unit:n,className:r}=e;return t.createElement(Hv,{className:r,value:n.ep,maxValue:n.maxEp,bgColor:"#ddd",barColor:"#10A78F"})})),Wv=oi((function(e){let{unit:n,className:r}=e;return t.createElement(Hv,{className:r,value:n.exp,maxValue:n.maxExp,bgColor:"#ddd",barColor:"yellow"})})),Gv=oi((function(e){let{unit:n,className:r}=e;return n.casting||n.reading?t.createElement(Hv,{className:r,value:n.castingRest,maxValue:n.castingTime,bgColor:"#ddd",barColor:"#999"}):null})),Jv=oi((function(e){let{unit:n}=e;const r=n.runAttrHooks(3,"maxComboPoint");return t.createElement(Uv,{value:n.comboPoint,maxValue:r,bgColor:"#ccc",activeColor:"#f37800"})}));var Xv=i(7373),Qv={};Qv.styleTagTransform=oo(),Qv.setAttributes=no(),Qv.insert=eo().bind(null,"head"),Qv.domAPI=Qa(),Qv.insertStyleElement=io(),Ja()(Xv.A,Qv);const Zv=Xv.A&&Xv.A.locals?Xv.A.locals:void 0;var eb,tb;function nb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rb=oi((function(e){let{unit:n}=e;return t.createElement(Ao,{className:[Zv.unit,Zv[Ts("unit-"+n.camp)]],onPress:()=>vu.focusEnemy(n),activeOpacity:.8},t.createElement(mg,{className:Zv.name,unit:n,field:"displayName",numberOfLines:1}),t.createElement(Vv,{unit:n,className:Zv.bar}),n.maxMp>0&&t.createElement(Kv,{unit:n,className:Zv.bar}),n.maxRp>0&&t.createElement(Yv,{unit:n,className:Zv.bar}),n.maxEp>0&&t.createElement($v,{unit:n,className:Zv.bar}),(n.player&&"knight"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),(n.player&&"aoxuezhanyi"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),(n.player&&"tielaolv"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),(n.player&&"yijinjing"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),(n.player&&"xisuijing"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),(n.player&&"zixiagong"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),(n.player&&"taixujianyi"===n.player.currentCareer||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),(n.player&&"qixiu"===n.player.role||n.runAttrHooks(!1,"displayCpBar"))&&t.createElement(Jv,{unit:n}),t.createElement(So,{numberOfLines:1,className:Zv.target},"目标：",t.createElement(mg,{unit:n,field:"targetDisplayName"})),t.createElement(Eo,{className:Zv.spacer}),t.createElement(mg,{className:Zv.casting,unit:n,field:"castingName"}),t.createElement(Gv,{unit:n,className:Zv.bar}))}));let ib=oi(eb=class extends t.PureComponent{constructor(){super(...arguments),nb(this,"scrollRef",t.createRef())}componentDidMount(){const e=this.scrollRef.current;e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}componentDidUpdate(){const e=this.scrollRef.current;e&&(e.scrollTop=e.scrollHeight-e.offsetHeight)}render(){return t.createElement(_o,{className:Zv.messageList,contentContainerClassName:Zv.content,ref:this.scrollRef},Gy.rendered.slice(-200).map((e=>e.jsx)))}})||eb,ab=oi(tb=class extends t.Component{constructor(){super(...arguments),nb(this,"renderUnit",(e=>t.createElement(rb,{unit:e,key:e.key})))}render(){return t.createElement(Eo,{className:Zv.container},t.createElement(_o,{className:Zv.panel,contentContainerClassName:Zv.panelContent,bounces:!1},vu.units.map(this.renderUnit)),t.createElement(ib,null))}})||tb;var ob=i(1180),sb={};sb.styleTagTransform=oo(),sb.setAttributes=no(),sb.insert=eo().bind(null,"head"),sb.domAPI=Qa(),sb.insertStyleElement=io(),Ja()(ob.A,sb);const lb=ob.A&&ob.A.locals?ob.A.locals:void 0;var ub;function cb(){return t.createElement(Eo,{className:lb.seperator})}let hb=oi(ub=class extends t.Component{render(){const{unit:e}=this.props,n=($o((()=>e.player.level>=1)),$o((()=>e.player.level>=1))),r=e.runAttrHooks(3,"maxComboPoint");return t.createElement(_o,{className:lb.panel},t.createElement(So,null,t.createElement(mg,{className:lb.name,unit:e,field:"displayName"}),t.createElement(gg,{unit:e.player,field:"level"}),"级",t.createElement(mg,{unit:e.player,field:"careerName"}),n&&t.createElement(So,{className:lb.blue},"( 巅峰等级：",t.createElement(gg,{unit:e.player,field:"peakLevel"})," )")),t.createElement(Eo,{className:lb.row},t.createElement(Eo,{className:lb.column},t.createElement(So,null,"生命值: ",t.createElement(gg,{unit:e,field:"hp"})," /"," ",t.createElement(gg,{unit:e,field:"maxHp"})),t.createElement(Vv,{unit:e}),e.maxMp>0&&t.createElement(So,null,"法力值: ",t.createElement(gg,{unit:e,field:"mp"})," /"," ",t.createElement(gg,{unit:e,field:"maxMp"})),e.maxMp>0&&t.createElement(Kv,{unit:e}),e.player&&"Eyer"===e.player.role&&t.createElement(So,null,"怒气: ",t.createElement(gg,{unit:e,field:"rp"})," /"," ",t.createElement(gg,{unit:e,field:"maxRp"})),e.player&&"Eyer"===e.player.role&&t.createElement(Yv,{unit:e}),e.player&&"wanhua"===e.player.role&&t.createElement(So,null,"墨意: ",t.createElement(gg,{unit:e,field:"rp"})," /"," ",t.createElement(gg,{unit:e,field:"maxRp"})),e.player&&"wanhua"===e.player.role&&t.createElement(Yv,{unit:e}),e.maxEp>0&&t.createElement(So,null,"能量: ",t.createElement(gg,{unit:e,field:"ep"})," /"," ",t.createElement(gg,{unit:e,field:"maxEp"})),e.maxEp>0&&t.createElement($v,{unit:e}),e.player&&"knight"===e.player.currentCareer&&t.createElement(So,null,"圣能: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"knight"===e.player.currentCareer&&t.createElement(Jv,{unit:e}),e.player&&"qixiu"===e.player.role&&t.createElement(So,null,"剑舞: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"qixiu"===e.player.role&&t.createElement(Jv,{unit:e}),e.player&&"aoxuezhanyi"===e.player.currentCareer&&t.createElement(So,null,"战意: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"aoxuezhanyi"===e.player.currentCareer&&t.createElement(Jv,{unit:e}),e.player&&"tielaolv"===e.player.currentCareer&&t.createElement(So,null,"战意: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"tielaolv"===e.player.currentCareer&&t.createElement(Jv,{unit:e}),e.player&&"yijinjing"===e.player.currentCareer&&t.createElement(So,null,"禅那: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"yijinjing"===e.player.currentCareer&&t.createElement(Jv,{unit:e}),e.player&&"xisuijing"===e.player.currentCareer&&t.createElement(So,null,"禅那: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"xisuijing"===e.player.currentCareer&&t.createElement(Jv,{unit:e}),e.player&&"zixiagong"===e.player.currentCareer&&t.createElement(So,null,"气: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"zixiagong"===e.player.currentCareer&&t.createElement(Jv,{unit:e}),e.player&&"taixujianyi"===e.player.currentCareer&&t.createElement(So,null,"气: ",t.createElement(gg,{unit:e,field:"comboPoint"})," / ",r),e.player&&"taixujianyi"===e.player.currentCareer&&t.createElement(Jv,{unit:e}),t.createElement(So,null,"经验: ",t.createElement(gg,{unit:e,field:"exp"})," /"," ",t.createElement(gg,{unit:e,field:"maxExp"})),t.createElement(Wv,{unit:e})),t.createElement(Eo,{className:lb.column},t.createElement(So,null,"力量: ",t.createElement(gg,{unit:e,field:"str"})," "),t.createElement(So,null,"敏捷: ",t.createElement(gg,{unit:e,field:"dex"})," "),t.createElement(So,null,"智力: ",t.createElement(gg,{unit:e,field:"int"})," "),t.createElement(So,null,"耐力: ",t.createElement(gg,{unit:e,field:"sta"})," "))),t.createElement(Eo,{className:lb.row},t.createElement(Eo,{className:lb.column},t.createElement(So,null,"攻击力: ",t.createElement(yg,{unit:e,field:"atk"})," "),t.createElement(So,null,"暴击等级: ",t.createElement(yg,{unit:e,field:"critR_level"})," "),t.createElement(So,null,"暴击伤害等级: ",t.createElement(yg,{unit:e,field:"critB_level"})," "," "),t.createElement(cb,null),t.createElement(So,null,"物理伤害: ",t.createElement(yg,{unit:e,field:"dmgLevel"})," "),t.createElement(So,null,"火焰伤害: ",t.createElement(yg,{unit:e,field:"firedmgLevel"})," "),t.createElement(So,null,"寒冷伤害: ",t.createElement(yg,{unit:e,field:"colddmgLevel"})," "),t.createElement(So,null,"闪电伤害: ",t.createElement(yg,{unit:e,field:"lightningdmgLevel"})," "),t.createElement(So,null,"毒素伤害: ",t.createElement(yg,{unit:e,field:"poisondmgLevel"})," "),t.createElement(So,null,"光伤害: ",t.createElement(yg,{unit:e,field:"lightdmgLevel"})," "),t.createElement(So,null,"暗伤害: ",t.createElement(yg,{unit:e,field:"darkdmgLevel"})," "),t.createElement(cb,null),t.createElement(So,null,"闪避值: ",t.createElement(yg,{unit:e,field:"miss_shanbizhi"})," "),t.createElement(So,null,"物理防御: ",t.createElement(yg,{unit:e,field:"def"})," "),t.createElement(So,null,"火焰抗性: ",t.createElement(yg,{unit:e,field:"fireResist"})," "," "),t.createElement(So,null,"寒冷抗性: ",t.createElement(yg,{unit:e,field:"coldResist"})," "," "),t.createElement(So,null,"闪电抗性: ",t.createElement(yg,{unit:e,field:"lightningResist"})," "," "),t.createElement(So,null,"毒素抗性: ",t.createElement(yg,{unit:e,field:"poisonResist"})," "," "),t.createElement(So,null,"光抗性: ",t.createElement(yg,{unit:e,field:"lightResist"})," "," "),t.createElement(So,null,"暗抗性: ",t.createElement(yg,{unit:e,field:"darkResist"})," "," "),t.createElement(cb,null),t.createElement(So,null,"生命值恢复: ",t.createElement(yg,{unit:e,field:"hpRecovery"}),"/s"," "),t.createElement(So,null,"法力值恢复: ",t.createElement(yg,{unit:e,field:"mpRecovery"}),"/s"," "),t.createElement(So,null,"生命汲取: ",t.createElement(yg,{unit:e,field:"leech"})," "),t.createElement(So,null,"法力汲取: ",t.createElement(yg,{unit:e,field:"leech2"})," "),t.createElement(So,null,"经验加成:"," ",t.createElement(yg,{unit:e,field:"expInc",mul:100,inc:-1}),"%"," "),t.createElement(So,null,"熟练度加成:"," ",t.createElement(yg,{unit:e,field:"skillExpInc",mul:100,inc:-1}),"%"," "),t.createElement(So,null,"运气:"," ",t.createElement(yg,{unit:e,field:"mf",mul:100,inc:-1}),"%"," "),t.createElement(cb,null)),t.createElement(Eo,{className:lb.column},t.createElement(So,null,"急速:"," ",t.createElement(yg,{unit:e,field:"speedRate",mul:100,inc:-1}),"%"," "),t.createElement(So,null,"有 ",t.createElement(yg,{unit:e,field:"critRate",mul:100}),"%几率伤害暴击 "," "),t.createElement(So,null,"暴击时造成 ",t.createElement(yg,{unit:e,field:"critBonus",mul:100}),"% 的伤害"," "),t.createElement(cb,null),t.createElement(So,null,"提高 ",t.createElement(yg,{unit:e,field:"dmgAdd",mul:100,inc:-1}),"% 物理伤害"," "),t.createElement(So,null,"提高 ",t.createElement(yg,{unit:e,field:"firedmgAdd",mul:100,inc:-1}),"% 火焰伤害"," "),t.createElement(So,null,"提高 ",t.createElement(yg,{unit:e,field:"colddmgAdd",mul:100,inc:-1}),"% 寒冷伤害"," "),t.createElement(So,null,"提高 ",t.createElement(yg,{unit:e,field:"lightningdmgAdd",mul:100,inc:-1}),"% 闪电伤害"," "),t.createElement(So,null,"提高 ",t.createElement(yg,{unit:e,field:"poisondmgAdd",mul:100,inc:-1}),"% 毒素伤害"," "),t.createElement(So,null,"提高 ",t.createElement(yg,{unit:e,field:"lightdmgAdd",mul:100,inc:-1}),"% 光伤害"," "),t.createElement(So,null,"提高 ",t.createElement(yg,{unit:e,field:"darkdmgAdd",mul:100,inc:-1}),"% 暗伤害"," "),t.createElement(cb,null),t.createElement(So,null,"有 ",t.createElement(yg,{unit:e,field:"dodgeRate",mul:100}),"% 几率闪避"," "),t.createElement(So,null,"减少 ",t.createElement(yg,{unit:e,field:"defRate",mul:100}),"% 物理伤害"," "),t.createElement(So,null,"减少 ",t.createElement(yg,{unit:e,field:"fireResRate",mul:100}),"% 火焰伤害"," "),t.createElement(So,null,"减少 ",t.createElement(yg,{unit:e,field:"coldResRate",mul:100}),"% 寒冷伤害"," "),t.createElement(So,null,"减少 ",t.createElement(yg,{unit:e,field:"lightningResRate",mul:100}),"% 闪电伤害"," "),t.createElement(So,null,"减少 ",t.createElement(yg,{unit:e,field:"poisonResRate",mul:100}),"% 毒素伤害"," "),t.createElement(So,null,"减少 ",t.createElement(yg,{unit:e,field:"lightResRate",mul:100}),"% 光伤害"," "),t.createElement(So,null,"减少 ",t.createElement(yg,{unit:e,field:"darkResRate",mul:100}),"% 暗伤害"," "),t.createElement(cb,null),t.createElement(So,null,"物理吸收: ",t.createElement(yg,{unit:e,field:"meleeAbsorb",mul:100}),"%"," "),t.createElement(So,null,"火焰吸收: ",t.createElement(yg,{unit:e,field:"fireAbsorb",mul:100}),"%"," "),t.createElement(So,null,"寒冷吸收: ",t.createElement(yg,{unit:e,field:"coldAbsorb",mul:100}),"%"," "),t.createElement(So,null,"闪电吸收: ",t.createElement(yg,{unit:e,field:"lightningAbsorb",mul:100}),"%"," "),t.createElement(So,null,"毒素吸收: ",t.createElement(yg,{unit:e,field:"poisonAbsorb",mul:100}),"%"," "),t.createElement(So,null,"光吸收: ",t.createElement(yg,{unit:e,field:"lightAbsorb",mul:100}),"%"," "),t.createElement(So,null,"暗吸收: ",t.createElement(yg,{unit:e,field:"darkAbsorb",mul:100}),"%"," "))))}})||ub;var pb=i(6360),db={};db.styleTagTransform=oo(),db.setAttributes=no(),db.insert=eo().bind(null,"head"),db.domAPI=Qa(),db.insertStyleElement=io(),Ja()(pb.A,db);const fb=pb.A&&pb.A.locals?pb.A.locals:void 0;var mb,gb;function yb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vb=i(1484);let bb=oi((function(e,t,n,r,i){var a={};Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((gb=class extends t.Component{constructor(){super(...arguments),yb(this,"selectedItem",Re(null)),yb(this,"dispose",void 0),yb(this,"onLeftPressed",Ft((()=>{vu.player&&vu.player.save(),vu.dispose(),Bm.save(),Gy.dispose(),Bm.currentPlayer=null,Wk.navigate("/player/choose")}))),yb(this,"onMessage",(e=>{let{type:t}=e;"battle.death"===t&&xv()})),yb(this,"skipForward",(()=>{tu("提示","跳过挂机的时间不能被恢复，你也不能获取到这段时间的金币、经验和装备，是否确认？",[{text:"取消"},{text:"确认",onPress:()=>vu.skipForward()}])}))}componentDidMount(){if(Bm.lastVersion!==vb.version)return Bm.lastVersion=vb.version,void setTimeout((()=>{Wk.navigate("/story/annoucement")}),1e3);Sv(),this.dispose=Bs.addListener("message",this.onMessage)}componentWillUnmount(){this.dispose&&this.dispose.remove()}get pendingTimeLabel(){return vu.pendingTime>=36e5?(vu.pendingTime/3600/1e3).toFixed(1)+"小时":(vu.pendingTime/60/1e3).toFixed(1)+"分钟"}render(){const{player:e}=vu;return vu.paused||!e?t.createElement(Um,{title:"战斗",leftNavTitle:"切换人物",onLeftPressed:this.onLeftPressed},t.createElement(Eo,{className:[fb.container,fb.centerContainer]},t.createElement(So,null,"当你不在的时候，时光依然飞逝。剩余",this.pendingTimeLabel),t.createElement(So,{className:fb.skipFoward,onPress:this.skipForward},"我只是想杀杀怪物。。（跳过）"))):t.createElement(Um,{title:"战斗",leftNavTitle:"切换人物",onLeftPressed:this.onLeftPressed},t.createElement(Eo,{className:fb.container},t.createElement(wg,{className:fb.container},t.createElement(ab,{tabLabel:"单位"}),vu.units.filter((e=>e.player)).map(((e,n)=>t.createElement(hb,{key:n,unit:e,tabLabel:e.name}))),t.createElement(Cv,{tabLabel:"地图"})),t.createElement(yy,{selected:this.selectedItem,inventory:e.awardInventory})))}}).prototype,"pendingTimeLabel",[Be],Object.getOwnPropertyDescriptor(gb.prototype,"pendingTimeLabel"),gb.prototype),mb=gb))||mb;var kb=i(8945),wb={};wb.styleTagTransform=oo(),wb.setAttributes=no(),wb.insert=eo().bind(null,"head"),wb.domAPI=Qa(),wb.insertStyleElement=io(),Ja()(kb.A,wb);const xb=kb.A&&kb.A.locals?kb.A.locals:void 0;var Sb;function Eb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ab=oi((function(){const{player:e}=vu;return 0===e.careerInfo.selectedSkills.length?t.createElement(Eo,{className:xb.selectedList},t.createElement(So,null,"未选择任何主动技能，该角色将不会行动。")):t.createElement(Eo,{className:xb.selectedList},e.careerInfo.selectedSkills.map(((n,r)=>{const i=os.skills[n],a=e.skillExp.get(i.expGroup||n);return t.createElement(Eo,{key:r,className:xb.selectedSkill},t.createElement(So,{className:xb.order},r+1),t.createElement(Eo,null,t.createElement(So,null,i.name),t.createElement(So,null,a.level,"级")))})))})),_b=oi((function(e){let{level:n,skill:r}=e;const{player:i,playerUnit:a}=vu,o=os.skills[r],s=i.skillExp.get(o.expGroup||r),l=$o((()=>i.careerInfo.selectedSkills.length)),u=$o((()=>i.careerInfo.selectedSkills.indexOf(r))),c=u>=0||l<i.maxSkillCount&&n<=i.level,h=$o((()=>os.skills[r].group&&-1===u&&i.careerInfo.selectedSkills.find((e=>os.skills[e].group===os.skills[r].group)))),p=(!c||!!h)&&u<0;let{coolDown:d,description:f,cost:m}=o,g=null;return"function"==typeof d&&(d=d(s.level,a)),"function"==typeof f&&(f(s.level+1,vu.playerUnit),f=f(s.level,vu.playerUnit)),t.createElement(Ao,{className:[xb.skillItem,p&&xb.skillItemDisabled],activeOpacity:.8,disabled:p,onPress:()=>{u>=0?vu.unselectSkill(r):l<i.maxSkillCount&&vu.selectSkill(r)}},t.createElement(Eo,{className:xb.skillItemMain},t.createElement(So,{className:xb.skillName},o.name),u>=0&&t.createElement(So,null,"顺序：",u+1),n<=i.level&&h&&t.createElement(So,null,"冲突: ",os.skills[h].name),t.createElement(Eo,{className:xb.spacer}),s.level>=50&&t.createElement(So,null,"满级"),s.level<50&&t.createElement(So,null,"熟练度: ",0|s.exp,"/",o.maxExp(s.level))),t.createElement(Eo,{className:xb.row},n>i.level&&t.createElement(So,{className:xb.textMargin},"需达到",n,"级"),n<=i.level&&t.createElement(So,{className:xb.textMargin},"等级：",s.level),d&&t.createElement(So,{className:xb.textMargin},"冷却时间：",(d/1e3).toFixed(1),"秒"),m&&m.mp&&t.createElement(So,{className:xb.textMargin},"消耗法力 ",function(e){return"function"==typeof e?0|e(vu.player):0|e}(m.mp))),t.createElement(So,{className:xb.textMargin},f))}));let Db=oi(Sb=class extends t.Component{constructor(){super(...arguments),Eb(this,"onLeftPressed",(()=>{Wk.navigate("/career/choose")})),Eb(this,"onRightPressed",(()=>{Wk.navigate("/career/enhances")}))}render(){const{player:e}=vu,{maxSkillCount:n,nextSkillUnlockLevel:r}=e;return t.createElement(Um,{title:"主动技能",leftNavTitle:"职业",rightNavTitle:"被动技能",onLeftPressed:this.onLeftPressed,onRightPressed:this.onRightPressed},t.createElement(Eo,{className:xb.container},t.createElement(Ab,null),t.createElement(Eo,null,t.createElement(So,null,"最多选择",n,"个主动技能，",r&&t.createElement(So,null,"下一个主动技能位置将在",e.nextSkillUnlockLevel,"级解锁。"))),t.createElement(_o,null,Object.keys(e.careerData.skills).map((n=>t.createElement(_b,{level:e.careerData.skills[n],skill:n,key:n}))))))}})||Sb;var Pb=i(5678),Cb={};Cb.styleTagTransform=oo(),Cb.setAttributes=no(),Cb.insert=eo().bind(null,"head"),Cb.domAPI=Qa(),Cb.insertStyleElement=io(),Ja()(Pb.A,Cb);const Rb=Pb.A&&Pb.A.locals?Pb.A.locals:void 0;var Ob;function Tb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Fb=oi(Ob=class extends t.Component{constructor(){super(...arguments),Tb(this,"dataSource",new Po.DataSource({rowHasChanged:(e,t)=>e!==t})),Tb(this,"onRightPressed",(()=>{Wk.navigate("/story/purchase")})),Tb(this,"renderRow",(e=>t.createElement(Ao,{className:Rb.item,onPress:()=>this.playStory(e)},t.createElement(So,{className:Rb.itemLabel},e.name))))}playStory(e){iv(t.createElement(mv,{story:e.key}))}render(){return t.createElement(Um,{title:"故事",rightNavTitle:"日志",onRightPressed:this.onRightPressed},t.createElement(Po,{className:Rb.container,dataSource:this.dataSource.cloneWithRows([...Bm.storiesMap.keys()].filter((e=>"done"===Bm.storiesMap.get(e))).map((e=>os.stories[e])).filter((e=>e&&e.script))),renderRow:this.renderRow}))}})||Ob;var Bb;function Nb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ib={battle:t.createElement(bb,null),inventory:t.createElement(jy,null),skills:t.createElement(Db,null),produce:t.createElement(vy,null),stories:t.createElement(Fb,null)},Mb=Re.box("battle");let jb=oi(Bb=class extends t.Component{constructor(){super(...arguments),Nb(this,"onVisibilityChange",(()=>{"hidden"===document.visibilityState?(console.log("pause"),vu.pause()):(console.log("resume"),vu.resumeGame())})),Nb(this,"handleTabChange",Ft((e=>{Mb.set(e)})))}componentDidMount(){document.addEventListener("visibilitychange",this.onVisibilityChange)}componentWillUnmount(){document.removeEventListener("visibilitychange",this.onVisibilityChange)}render(){const e=Mb.get();return t.createElement(dg,{active:e,onChange:this.handleTabChange},Ib[e])}})||Bb;var Hb=i(8060),Lb={};Lb.styleTagTransform=oo(),Lb.setAttributes=no(),Lb.insert=eo().bind(null,"head"),Lb.domAPI=Qa(),Lb.insertStyleElement=io(),Ja()(Hb.A,Lb);const qb=Hb.A&&Hb.A.locals?Hb.A.locals:void 0;var zb,Ub;let Vb=oi((Kb=Ub=class extends t.Component{render(){return t.createElement(Um,{title:"更新日志",back:!0},t.createElement(_o,null,t.createElement(So,{className:qb.content},ig().description)))}},$b="更新日志",Yb=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(Yb="title"),Yb in Kb?Object.defineProperty(Kb,Yb,{value:$b,enumerable:!0,configurable:!0,writable:!0}):Kb[Yb]=$b,zb=Ub))||zb;var Kb,Yb,$b,Wb=i(8874),Gb={};Gb.styleTagTransform=oo(),Gb.setAttributes=no(),Gb.insert=eo().bind(null,"head"),Gb.domAPI=Qa(),Gb.insertStyleElement=io(),Ja()(Wb.A,Gb);const Jb=Wb.A&&Wb.A.locals?Wb.A.locals:void 0;var Xb,Qb,Zb,ek;function tk(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rk(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let ik=oi((Qb=class extends t.Component{constructor(){super(...arguments),tk(this,"loading",Zb,this),tk(this,"products",ek,this),nk(this,"renderProductTitle",(e=>{const n=Bm.getProductName(e.identifier);return n===e.title?t.createElement(So,{className:Jb.title},n):t.createElement(So,{className:Jb.title},t.createElement(So,{className:Jb.deleteLine},e.title),"\n",n)})),nk(this,"renderProduct",(e=>t.createElement(Ao,{key:e.identifier,style:Jb.item,onPress:()=>this.purchase(e)},this.renderProductTitle(e),t.createElement(Eo,{className:Jb.column},t.createElement(So,{className:Jb.price},e.priceString),t.createElement(So,{className:Jb.desc},e.description)))))}async componentDidMount(){}purchase(e){let{identifier:t}=e;alert("此路不通")}render(){return t.createElement(Um,{title:"创世神商店",back:!0},t.createElement(Eo,{className:[Jb.container,Jb.center]},t.createElement(So,null,"此路暂时不通")))}},Zb=rk(Qb.prototype,"loading",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ek=rk(Qb.prototype,"products",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xb=Qb))||Xb;var ak=i(3087),ok={};ok.styleTagTransform=oo(),ok.setAttributes=no(),ok.insert=eo().bind(null,"head"),ok.domAPI=Qa(),ok.insertStyleElement=io(),Ja()(ak.A,ok);const sk=ak.A&&ak.A.locals?ak.A.locals:void 0;function lk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class uk extends t.Component{constructor(){super(...arguments),lk(this,"state",{active:this.props.selectedIndex}),lk(this,"onPress",(e=>{this.setState({active:e}),this.props.onChange(e)}))}item(e,n){return t.createElement(Ao,{className:[sk.item,this.state.active==n&&sk.active],onPress:()=>this.onPress(n),key:n},t.createElement(So,{className:[sk.label,this.state.active==n&&sk.active]},e))}render(){return t.createElement(Eo,{className:sk.contain},this.props.values.map(((e,t)=>this.item(e,t))))}}var ck=i(3912),hk={};hk.styleTagTransform=oo(),hk.setAttributes=no(),hk.insert=eo().bind(null,"head"),hk.domAPI=Qa(),hk.insertStyleElement=io(),Ja()(ck.A,hk);const pk=ck.A&&ck.A.locals?ck.A.locals:void 0;var dk,fk;function mk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gk={};for(const e in os.goods){const t=os.goods[e];t.class&&(gk[t.class]=gk[t.class]||[0,0,0,0,0])}const yk={sword:"剑",swordshield:"剑盾",spear:"长枪",spearshield:"枪盾",machete:"双刀",macheteshield:"刀盾",wand:"法杖",cloth:"布甲",lightArmor:"轻甲",armor:"重甲",ornament:"首饰",longsword:"太刀"},vk=oi((function(e){let{clazz:n,quality:r}=e;const{player:i}=vu,a=i.lootRule.get(n),o=a?a[r]:0;return t.createElement(uk,{values:r>1?["拾取","出售","拆解"]:["拾取","出售"],selectedIndex:o,onChange:Ft((e=>{let t=i.lootRule.get(n);t||(i.lootRule.set(n,[0,0,0,0,0]),t=i.lootRule.get(n)),t[r]=e}))})})),bk=oi((function(){const{player:e}=vu;return t.createElement(Eo,null,t.createElement(Eo,{className:pk.header},t.createElement(So,{className:pk.headerFont},"装备品级筛选")),t.createElement(Eo,{className:[pk.row,pk.titleView]},t.createElement(So,{className:pk.sliderTitle},"自动拆解低于",e.minLootLevel,"品的装备："),t.createElement(wo,{className:pk.flex1,value:e.minLootLevel,onValueChange:t=>e.minLootLevel=t,min:1})))}));let kk=oi((fk=class extends t.Component{constructor(){super(...arguments),mk(this,"renderSectionHeader",(e=>t.createElement(Eo,{className:pk.header},t.createElement(So,{className:pk.headerFont},yk[e]||e," ")))),mk(this,"renderRow",((e,n)=>t.createElement(Eo,{className:[pk.row,pk.titleView],key:n},t.createElement(So,{className:[pk.title,Ey[n]]},Ay[n]),t.createElement(vk,{clazz:e,quality:0|n})))),mk(this,"renderHeader",(()=>t.createElement(bk,null)))}qualityColor(e){return"普通"===e?"black":"优秀"===e?"#aaf":"精良"===e?"#ffa":"史诗"===e?"#fda":"传说"===e?"#afd":void 0}render(){return t.createElement(Um,{title:"拾取规则",back:!0},t.createElement(Eo,{className:pk.container},t.createElement(_o,{className:pk.flex1},this.renderHeader(),Object.entries(gk).map((e=>{let[n,r]=e;return t.createElement(Eo,{key:n},this.renderSectionHeader(n),r.map(((e,t)=>this.renderRow(n,t))))})))))}},mk(fk,"title","拾取规则"),dk=fk))||dk;var wk=i(762),xk={};xk.styleTagTransform=oo(),xk.setAttributes=no(),xk.insert=eo().bind(null,"head"),xk.domAPI=Qa(),xk.insertStyleElement=io(),Ja()(wk.A,xk);const Sk=wk.A&&wk.A.locals?wk.A.locals:void 0;var Ek;function Ak(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _k=Ft((function(){const e=os.upgrades.bankByDiamonds[Bm.bank.length];Bm.diamonds<e?tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{Wk.navigate("/purchase")}},{text:"取消"}]):(Bm.diamonds-=e,Bm.bank.push(new Zc("bank")))}));let Dk=oi(Ek=class extends t.Component{constructor(){super(...arguments),Ak(this,"selectedItem",Re(null)),Ak(this,"renderRow",((e,n)=>t.createElement(_y,{onPress:()=>this.selectedItem.set(e),key:n,slot:e})))}renderEquip(e){return this.renderRow(vu.player.equipments[e],e)}render(){const{player:e}=vu;return t.createElement(Um,{title:"仓库",back:!0},t.createElement(Eo,{className:Sk.container},t.createElement(_o,{className:Sk.flex1,contentContainerClassName:Sk.content},t.createElement(My,{onPress:()=>e.sortInventory(Bm.bank)},"整理仓库"),Bm.bank.map(this.renderRow),Bm.bank.length<os.upgrades.bankByDiamonds.length&&t.createElement(Ny,{onPress:()=>(navigator,void tu("提示",`是否使用创世神的力量扩张物品空间，继续扩张背包消耗${os.upgrades.bankByDiamonds[Bm.bank.length]}神力，是否继续？`,[{text:"确认",onPress:()=>_k()},{text:"取消"}]))},"+")),t.createElement(Oy,{selected:this.selectedItem,type:"bank"}),t.createElement(_o,{className:Sk.flex2,contentContainerClassName:Sk.content},t.createElement(My,{onPress:()=>e.sortInventory(e.inventory)},"整理背包"),e.inventory.map(this.renderRow),e.inventoryDiamondLevel<os.upgrades.inventoryByDiamonds.length&&t.createElement(Ny,{onPress:By},"+"))))}})||Ek;var Pk=i(4077),Ck={};Ck.styleTagTransform=oo(),Ck.setAttributes=no(),Ck.insert=eo().bind(null,"head"),Ck.domAPI=Qa(),Ck.insertStyleElement=io(),Ja()(Pk.A,Ck);const Rk=Pk.A&&Pk.A.locals?Pk.A.locals:void 0;var Ok;const Tk=oi((function(){const{player:e}=vu;return 0===e.careerInfo.selectedEnhances.length?t.createElement(Eo,{className:Rk.selectedList},t.createElement(So,null,"没有激活任何被动技能。")):t.createElement(Eo,{className:Rk.selectedList},e.careerInfo.selectedEnhances.map(((e,n)=>{const r=os.enhances[e];return t.createElement(Eo,{key:n,className:Rk.selectedEnhance},t.createElement(Eo,null,t.createElement(So,null,r.name)))})))})),Fk=oi((function(e){let{level:n,enhance:r}=e;const{player:i}=vu,a=os.enhances[r],o=$o((()=>vu.player.careerInfo.selectedEnhances.length)),s=$o((()=>vu.player.careerInfo.selectedEnhances.indexOf(r))),l=!(s>=0||o<i.maxEnhanceCount&&n<=i.level)&&s<0;return t.createElement(Ao,{className:[Rk.enhanceItem,l&&Rk.enhanceItemDisabled],activeOpacity:.8,disabled:l,onPress:()=>{s>=0?vu.unselectEnhance(r):o<i.maxEnhanceCount&&vu.selectEnhance(r)}},t.createElement(Eo,{className:Rk.enhanceItemMain},t.createElement(So,{className:Rk.enhanceName},a.name),n>i.level&&t.createElement(So,null,n,"级后开启"),s>=0&&t.createElement(So,null,"已激活"),t.createElement(Eo,{className:Rk.spacer})),t.createElement(So,null,a.description))}));let Bk=oi(Ok=class extends t.Component{render(){const{player:e}=vu,{maxEnhanceCount:n,nextEnhanceUnlockLevel:r}=e;return t.createElement(Um,{title:"被动技能",back:!0},t.createElement(Eo,{className:Rk.container},t.createElement(Tk,null),t.createElement(Eo,null,t.createElement(So,null,"最多激活",n,"个被动技能，",r&&t.createElement(So,null,"下一个被动技能位置将在",e.nextEnhanceUnlockLevel,"级解锁。"))),t.createElement(_o,null,Object.keys(e.careerData.enhances).map((n=>t.createElement(Fk,{level:e.careerData.enhances[n],enhance:n,key:n}))))))}})||Ok;var Nk=i(1723),Ik={};Ik.styleTagTransform=oo(),Ik.setAttributes=no(),Ik.insert=eo().bind(null,"head"),Ik.domAPI=Qa(),Ik.insertStyleElement=io(),Ja()(Nk.A,Ik);const Mk=Nk.A&&Nk.A.locals?Nk.A.locals:void 0;var jk;const Hk=oi((function(e){let{type:n,onPress:r}=e;const i=os.careers[n],{player:a,playerUnit:o}=vu,s=a.getCareerLevel(n);return t.createElement(Ao,{className:Mk.careerItem,activeOpacity:.8,onPress:()=>{tu("提示","因为创世神艾尔设定的某种不可抗力，每次转职后都会重置角色的等级（包括巅峰等级），清除已经穿戴的装备\n已经学会的主动、被动技能将予以保留并取消等级限制，但携带技能的数量仍受人物等级影响\n简单来说，就是你变回了那个连史莱姆都打不过的菜鸡\n",[{text:"确认转职",onPress:()=>{o.selectCareer(n),r&&r()}},{text:"再玩一会"}])}},t.createElement(Eo,{className:Mk.main},t.createElement(So,{className:Mk.name},i.name),a.currentCareer===n&&t.createElement(So,null,"当前职业"),t.createElement(Eo,{className:Mk.spacer}),s?t.createElement(So,null,"等级：",s):t.createElement(So,null,"等级：1")))}));let Lk=oi(jk=class extends t.Component{constructor(){super(...arguments),function(e,t,n){t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"onPress",(()=>{Wk.navigate(-1)}))}render(){const e=Object.keys(os.careers).filter((e=>!os.careers[e].requirement||tg(os.careers[e].requirement)));return t.createElement(Um,{title:"职业",back:!0},t.createElement(_o,{className:Mk.container},e.map((e=>t.createElement(Hk,{key:e,type:e,onPress:this.onPress})))))}})||jk;var qk=i(1916),zk={};zk.styleTagTransform=oo(),zk.setAttributes=no(),zk.insert=eo().bind(null,"head"),zk.domAPI=Qa(),zk.insertStyleElement=io(),Ja()(qk.A,zk);const Uk=qk.A&&qk.A.locals?qk.A.locals:void 0;var Vk,Kk;function Yk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let $k=oi((Kk=class extends t.Component{constructor(){super(...arguments),Yk(this,"dataSource",new Po.DataSource({rowHasChanged:(e,t)=>e!==t})),Yk(this,"enterCode",(()=>{tu("帝国金库","卫兵拦住了你，不论你说什么口令都不管用。")})),Yk(this,"renderRow",(e=>t.createElement(Ao,{className:Uk.item,onPress:()=>this.purchaseStory(e)},t.createElement(So,{className:Uk.itemLabel},e.name," "),t.createElement(So,null,"消耗神力",e.price,"点")))),Yk(this,"annoucement",(()=>{Wk.navigate("/story/annoucement")})),Yk(this,"renderFooter",(()=>t.createElement(Eo,{className:Uk.footer},t.createElement(Ao,{className:Uk.item,onPress:this.annoucement},t.createElement(So,{className:Uk.itemLabel},"更新日志"),t.createElement(So,null,"当前版本：",ig().version)))))}async componentDidMount(){}purchaseStory(e){Bm.diamonds<e.price?tu("提示","您的神力点数不足，是否召唤创世神的幻影，大量获得神力？",[{text:"确认",onPress:()=>{Wk.navigate("/purchase")}},{text:"取消"}]):(Bm.diamonds-=e.price,Bm.storiesMap.set(e.key,"done"),e.script&&navigator.push({location:"/story/play",passProps:{story:e.key}}))}render(){return t.createElement(Um,{title:"日志",back:!0},t.createElement(Po,{className:Uk.container,dataSource:this.dataSource.cloneWithRows([...Bm.storiesMap.keys()].filter((e=>"task"===Bm.storiesMap.get(e))).map((e=>os.stories[e])).filter((e=>e)).filter((e=>!e.requirement||tg(e.requirement))).filter((e=>"purchase"===e.taskType))),renderRow:this.renderRow,renderFooter:this.renderFooter}))}},Yk(Kk,"title","日志"),Vk=Kk))||Vk;const Wk=(Gk=[{path:"/splash",element:t.createElement(jm,null)},{path:"/player/choose",element:t.createElement(Xm,null)},{path:"/player/create",element:t.createElement(ug,null)},{path:"/home",element:t.createElement(jb,null)},{path:"/inventory/loot-rule",element:t.createElement(kk,null)},{path:"/inventory/bank",element:t.createElement(Dk,null)},{path:"/career/enhances",element:t.createElement(Bk,null)},{path:"/career/choose",element:t.createElement(Lk,null)},{path:"/purchase",element:t.createElement(ik,null)},{path:"/story/annoucement",element:t.createElement(Vb,null)},{path:"/story/purchase",element:t.createElement($k,null)}],function(e){li(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=di(e.routes),n=null,r=new Set,i=null,a=null,o=null,s=null!=e.hydrationData,l=fi(t,e.history.location,e.basename),u=null;if(null==l){let n=sa(404,{pathname:e.history.location.pathname}),{matches:r,route:i}=oa(t);l=r,u={[i.id]:n}}let c,h,p=!l.some((e=>e.route.loader))||null!=e.hydrationData,d={historyAction:e.history.action,location:e.history.location,matches:l,initialized:p,navigation:$i,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||u,fetchers:new Map},f=Wr.Pop,m=!1,g=!1,y=!1,v=[],b=[],k=new Map,w=0,x=-1,S=new Map,E=new Set,A=new Map,_=new Map;function D(e){d=si({},d,e),r.forEach((e=>e(d)))}function P(t,n){var r;let i,a=null!=d.actionData&&null!=d.navigation.formMethod&&da(d.navigation.formMethod)&&"loading"===d.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);i=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:a?d.actionData:null,D(si({},n,{actionData:i,loaderData:n.loaderData?ia(d.loaderData,n.loaderData,n.matches||[],n.errors):d.loaderData,historyAction:f,location:t,initialized:!0,navigation:$i,revalidation:"idle",restoreScrollPosition:!d.navigation.formData&&L(t,n.matches||d.matches),preventScrollReset:m})),g||f===Wr.Pop||(f===Wr.Push?e.history.push(t,t.state):f===Wr.Replace&&e.history.replace(t,t.state)),f=Wr.Pop,m=!1,g=!1,y=!1,v=[],b=[]}async function C(n,r,s){h&&h.abort(),h=null,f=n,g=!0===(s&&s.startUninterruptedRevalidation),function(e,t){if(i&&a&&o){let n=t.map((e=>ya(e,d.loaderData))),r=a(e,n)||e.key;i[r]=o()}}(d.location,d.matches),m=!0===(s&&s.preventScrollReset);let l=s&&s.overrideNavigation,u=fi(t,r,e.basename);if(!u){let e=sa(404,{pathname:r.pathname}),{matches:n,route:i}=oa(t);return H(),void P(r,{matches:n,loaderData:{},errors:{[i.id]:e}})}if(S=r,(p=d.location).pathname===S.pathname&&p.search===S.search&&p.hash!==S.hash)return void P(r,{matches:u});var p,S;h=new AbortController;let C,R,B=ta(r,h.signal,s&&s.submission);if(s&&s.pendingError)R={[aa(u).route.id]:s.pendingError};else if(s&&s.submission&&da(s.submission.formMethod)){let e=await async function(e,t,n,r,i){let a;F(),D({navigation:si({state:"submitting",location:t},n)});let o=va(r,t);if(o.route.action){if(a=await ea("action",e,o,r,c.basename),e.signal.aborted)return{shortCircuited:!0}}else a={type:Gr.error,error:sa(405,{method:e.method,pathname:t.pathname,routeId:o.route.id})};if(pa(a)){let e;return e=i&&null!=i.replace?i.replace:a.location===d.location.pathname+d.location.search,await O(d,a,{submission:n,replace:e}),{shortCircuited:!0}}if(ha(a)){let e=aa(r,o.route.id);return!0!==(i&&i.replace)&&(f=Wr.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(ca(a))throw new Error("defer() is not supported in actions");return{pendingActionData:{[o.route.id]:a.data}}}(B,r,s.submission,u,{replace:s.replace});if(e.shortCircuited)return;C=e.pendingActionData,R=e.pendingActionError,l=si({state:"loading",location:r},s.submission),B=new Request(B.url,{signal:B.signal})}let{shortCircuited:N,loaderData:I,errors:L}=await async function(e,t,n,r,i,a,o,s){let l=r;l||(l=si({state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},i));let u=i||(l.formMethod&&l.formAction&&l.formData&&l.formEncType?{formMethod:l.formMethod,formAction:l.formAction,formData:l.formData,formEncType:l.formEncType}:void 0),[c,p]=Xi(d,n,u,t,y,v,b,o,s,A);if(H((e=>!(n&&n.some((t=>t.route.id===e)))||c&&c.some((t=>t.route.id===e)))),0===c.length&&0===p.length)return P(t,si({matches:n,loaderData:{},errors:s||null},o?{actionData:o}:{})),{shortCircuited:!0};if(!g){p.forEach((e=>{let[t]=e,n=d.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(t,r)}));let e=o||d.actionData;D(si({navigation:l},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},p.length>0?{fetchers:new Map(d.fetchers)}:{}))}x=++w,p.forEach((e=>{let[t]=e;return k.set(t,h)}));let{results:f,loaderResults:m,fetcherResults:S}=await T(d.matches,n,c,p,e);if(e.signal.aborted)return{shortCircuited:!0};p.forEach((e=>{let[t]=e;return k.delete(t)}));let C=la(f);if(C)return await O(d,C,{replace:a}),{shortCircuited:!0};let{loaderData:R,errors:F}=ra(d,n,c,m,s,p,S,_);return _.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&_.delete(t)}))})),function(){let e=[];for(let t of E){let n=d.fetchers.get(t);li(n,"Expected fetcher: "+t),"loading"===n.state&&(E.delete(t),e.push(t))}M(e)}(),si({loaderData:R,errors:F},j(x)||p.length>0?{fetchers:new Map(d.fetchers)}:{})}(B,r,u,l,s&&s.submission,s&&s.replace,C,R);N||(h=null,P(r,si({matches:u},C?{actionData:C}:{},{loaderData:I,errors:L})))}function R(e){return d.fetchers.get(e)||Wi}async function O(e,t,n){var r;let{submission:i,replace:a,isFetchActionRedirect:o}=void 0===n?{}:n;t.revalidate&&(y=!0);let s=ui(e.location,t.location,si({_isRedirect:!0},o?{_isFetchActionRedirect:!0}:{}));if(li(s,"Expected a location on the redirect navigation"),void 0!==(null==(r=window)?void 0:r.location)){let e=pi(t.location).origin;if(window.location.origin!==e)return void(a?window.location.replace(t.location):window.location.assign(t.location))}h=null;let l=!0===a?Wr.Replace:Wr.Push,{formMethod:u,formAction:c,formEncType:p,formData:d}=e.navigation;!i&&u&&c&&d&&p&&(i={formMethod:u,formAction:c,formEncType:p,formData:d}),Yi.has(t.status)&&i&&da(i.formMethod)?await C(l,s,{submission:si({},i,{formAction:t.location})}):await C(l,s,{overrideNavigation:{state:"loading",location:s,formMethod:i?i.formMethod:void 0,formAction:i?i.formAction:void 0,formEncType:i?i.formEncType:void 0,formData:i?i.formData:void 0}})}async function T(e,t,n,r,i){let a=await Promise.all([...n.map((e=>ea("loader",i,e,t,c.basename))),...r.map((e=>{let[,t,n,r]=e;return ea("loader",ta(t,i.signal),n,r,c.basename)}))]),o=a.slice(0,n.length),s=a.slice(n.length);return await Promise.all([fa(e,n,o,i.signal,!1,d.loaderData),fa(e,r.map((e=>{let[,,t]=e;return t})),s,i.signal,!0)]),{results:a,loaderResults:o,fetcherResults:s}}function F(){y=!0,v.push(...H()),A.forEach(((e,t)=>{k.has(t)&&(b.push(t),I(t))}))}function B(e,t,n){let r=aa(d.matches,t);N(e),D({errors:{[r.route.id]:n},fetchers:new Map(d.fetchers)})}function N(e){k.has(e)&&I(e),A.delete(e),S.delete(e),E.delete(e),d.fetchers.delete(e)}function I(e){let t=k.get(e);li(t,"Expected fetch controller: "+e),t.abort(),k.delete(e)}function M(e){for(let t of e){let e={state:"idle",data:R(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(t,e)}}function j(e){let t=[];for(let[n,r]of S)if(r<e){let e=d.fetchers.get(n);li(e,"Expected fetcher: "+n),"loading"===e.state&&(I(n),S.delete(n),t.push(n))}return M(t),t.length>0}function H(e){let t=[];return _.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),_.delete(r))})),t}function L(e,t){if(i&&a&&o){let n=t.map((e=>ya(e,d.loaderData))),r=a(e,n)||e.key,o=i[r];if("number"==typeof o)return o}return null}return c={get basename(){return e.basename},get state(){return d},get routes(){return t},initialize:function(){return n=e.history.listen((e=>{let{action:t,location:n}=e;return C(t,n)})),d.initialized||C(Wr.Pop,d.location),c},subscribe:function(e){return r.add(e),()=>r.delete(e)},enableScrollRestoration:function(e,t,n){if(i=e,o=t,a=n||(e=>e.key),!s&&d.navigation===$i){s=!0;let e=L(d.location,d.matches);null!=e&&D({restoreScrollPosition:e})}return()=>{i=null,o=null,a=null}},navigate:async function(t,n){if("number"==typeof t)return void e.history.go(t);let{path:r,submission:i,error:a}=Ji(t,n),o=ui(d.location,r,n&&n.state);o=si({},o,e.history.encodeLocation(o));let s=n&&null!=n.replace?n.replace:void 0,l=Wr.Push;!0===s?l=Wr.Replace:!1===s||null!=i&&da(i.formMethod)&&i.formAction===d.location.pathname+d.location.search&&(l=Wr.Replace);let u=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0;return await C(l,o,{submission:i,pendingError:a,preventScrollReset:u,replace:n&&n.replace})},fetch:function(n,r,i,a){if(Gi)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(n)&&I(n);let o=fi(t,i,e.basename);if(!o)return void B(n,r,sa(404,{pathname:i}));let{path:s,submission:l}=Ji(i,a,!0),u=va(o,s);l&&da(l.formMethod)?async function(n,r,i,a,o,s){if(F(),A.delete(n),!a.route.action){let e=sa(405,{method:s.formMethod,pathname:i,routeId:r});return void B(n,r,e)}let l=d.fetchers.get(n),u=si({state:"submitting"},s,{data:l&&l.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(n,u),D({fetchers:new Map(d.fetchers)});let p=new AbortController,m=ta(i,p.signal,s);k.set(n,p);let g=await ea("action",m,a,o,c.basename);if(m.signal.aborted)return void(k.get(n)===p&&k.delete(n));if(pa(g)){k.delete(n),E.add(n);let e=si({state:"loading"},s,{data:void 0," _hasFetcherDoneAnything ":!0});return d.fetchers.set(n,e),D({fetchers:new Map(d.fetchers)}),O(d,g,{isFetchActionRedirect:!0})}if(ha(g))return void B(n,r,g.error);ca(g)&&li(!1,"defer() is not supported in actions");let C=d.navigation.location||d.location,R=ta(C,p.signal),N="idle"!==d.navigation.state?fi(t,d.navigation.location,e.basename):d.matches;li(N,"Didn't find any matches after fetcher action");let I=++w;S.set(n,I);let M=si({state:"loading",data:g.data},s,{" _hasFetcherDoneAnything ":!0});d.fetchers.set(n,M);let[H,L]=Xi(d,N,s,C,y,v,b,{[a.route.id]:g.data},void 0,A);L.filter((e=>{let[t]=e;return t!==n})).forEach((e=>{let[t]=e,n=d.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(t,r),k.set(t,p)})),D({fetchers:new Map(d.fetchers)});let{results:q,loaderResults:z,fetcherResults:U}=await T(d.matches,N,H,L,R);if(p.signal.aborted)return;S.delete(n),k.delete(n),L.forEach((e=>{let[t]=e;return k.delete(t)}));let V=la(q);if(V)return O(d,V);let{loaderData:K,errors:Y}=ra(d,d.matches,H,z,void 0,L,U,_),$={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(n,$);let W=j(I);"loading"===d.navigation.state&&I>x?(li(f,"Expected pending action"),h&&h.abort(),P(d.navigation.location,{matches:N,loaderData:K,errors:Y,fetchers:new Map(d.fetchers)})):(D(si({errors:Y,loaderData:ia(d.loaderData,K,N,Y)},W?{fetchers:new Map(d.fetchers)}:{})),y=!1)}(n,r,s,u,o,l):(A.set(n,[s,u,o]),async function(e,t,n,r,i,a){let o=d.fetchers.get(e),s=si({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},a,{data:o&&o.data," _hasFetcherDoneAnything ":!0});d.fetchers.set(e,s),D({fetchers:new Map(d.fetchers)});let l=new AbortController,u=ta(n,l.signal);k.set(e,l);let h=await ea("loader",u,r,i,c.basename);if(ca(h)&&(h=await ma(h,u.signal,!0)||h),k.get(e)===l&&k.delete(e),u.signal.aborted)return;if(pa(h))return void await O(d,h);if(ha(h)){let n=aa(d.matches,t);return d.fetchers.delete(e),void D({fetchers:new Map(d.fetchers),errors:{[n.route.id]:h.error}})}li(!ca(h),"Unhandled fetcher deferred data");let p={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};d.fetchers.set(e,p),D({fetchers:new Map(d.fetchers)})}(n,r,s,u,o,l))},revalidate:function(){F(),D({revalidation:"loading"}),"submitting"!==d.navigation.state&&("idle"!==d.navigation.state?C(f||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation}):C(d.historyAction,d.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:R,deleteFetcher:N,dispose:function(){n&&n(),r.clear(),h&&h.abort(),d.fetchers.forEach(((e,t)=>N(t)))},_internalFetchControllers:k,_internalActiveDeferreds:_},c}({basename:null==(Jk={initialEntries:["/splash"]})?void 0:Jk.basename,history:function(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:i=!1}=e;t=n.map(((e,t)=>c(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let a=l(null==r?t.length-1:r),o=Wr.Pop,s=null;function l(e){return Math.min(Math.max(e,0),t.length-1)}function u(){return t[a]}function c(e,n,r){void 0===n&&(n=null);let i=ui(t?u().pathname:"/",e,n,r);return function(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}return{get index(){return a},get action(){return o},get location(){return u()},createHref:e=>"string"==typeof e?e:ci(e),encodeLocation(e){let t="string"==typeof e?hi(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){o=Wr.Push;let r=c(e,n);a+=1,t.splice(a,t.length,r),i&&s&&s({action:o,location:r})},replace(e,n){o=Wr.Replace;let r=c(e,n);t[a]=r,i&&s&&s({action:o,location:r})},go(e){o=Wr.Pop,a=l(a+e),s&&s({action:o,location:u()})},listen:e=>(s=e,()=>{s=null})}}({initialEntries:null==Jk?void 0:Jk.initialEntries,initialIndex:null==Jk?void 0:Jk.initialIndex}),hydrationData:null==Jk?void 0:Jk.hydrationData,routes:function e(t){return t.map((t=>{let n=ba({},t);return null==n.hasErrorBoundary&&(n.hasErrorBoundary=null!=n.errorElement),n.children&&(n.children=e(n.children)),n}))}(Gk)}).initialize());var Gk,Jk,Xk;let Qk=oi(Xk=class extends t.Component{render(){return t.createElement(za,{router:Wk})}})||Xk;var Zk=i(6626),ew={};ew.styleTagTransform=oo(),ew.setAttributes=no(),ew.insert=eo().bind(null,"head"),ew.domAPI=Qa(),ew.insertStyleElement=io(),Ja()(Zk.A,ew);const tw=Zk.A&&Zk.A.locals?Zk.A.locals:void 0,nw=document.createElement("div");nw.className=tw.root,document.body.appendChild(nw),(0,e.render)(t.createElement(Qk,null),nw)})()})();